<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from community.aegirproject.org/node/187/revisions/1385/view?print&book_recurse by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 18:19:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="prev" href="../../../../186/index.html" />
<link rel="up" href="../../../../31/index.html" />
<link rel="next" href="../../../../385/index.html" />
<link rel="prev" href="../../../../186/index.html" />
<link rel="up" href="../../../../31/index.html" />
<link rel="next" href="../../../../385/index.html" />
<link rel="prev" href="../../../../186/index.html" />
<link rel="up" href="../../../../31/index.html" />
<link rel="next" href="../../../../385/index.html" />
<link rel="canonical" href="index.html" />
<link rel="shortcut icon" href="../../../../../sites/community.aegirproject.org/themes/up/favicon/index.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="print" href="../../../../../sites/community.aegirproject.org/files/css/css_5fa73dc3677977c016a597acd186e4e7/index.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../../../../sites/community.aegirproject.org/files/css/css_5fa73dc3677977c016a597acd186e4e7/index.css" />

  <title>Revision of Advanced git workflow: branches and releases from Mon, 04/04/2011 - 18:46 | community.aegirproject.org</title>
</head>

<body  class="print rubik admin-static page">
  <div class='limiter clear-block'>
    <div id='content' class='clear-block'>
      <div class='print-header'>
      <h1 class='site-name'>community.aegirproject.org</h1>
  </div>
      

<div  id="node-187" class="node node-book clear-block node-page">
  
      <h2 class='node-title'>
            <a href="../../../../../content/branch-and-tagging-conventions/index.html">Advanced git workflow: branches and releases</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div id='diff-inline-187'><div class='diff-inline-metadata clear-block'><div class='diff-inline-byline'>Updated by <a href="../../../../../users/anarcat/index.html" class="username" title="View user profile.">anarcat</a> on 04/04/2011 - 18:46</div><div class='diff-inline-legend clear-block'><label>Legend</label><span class='diff-added'>Added</span><span class='diff-changed'>Changed</span><span class='diff-deleted'>Deleted</span></div></div><p>Aegir development makes a heavy use of<span class='diff-deleted'> </span><span class='diff-deleted'>git</span> branches to keep <span class='diff-changed'>development</span> stable. We use feature branches to do <span class='diff-changed'>large</span> development work and have release branches to keep stable releases maintained while development happen on the <span class='diff-changed'>development</span> branches.</p>

<script type="text/javascript"><span class='diff-changed'>toc_collapse=0;</span></script><span class='diff-changed'></span><div class="toc" id="toc1"><span class='diff-changed'>
</span><div class="toc-title"><span class='diff-changed'>Table of Contents</span><span class="toc-toggle-message"><span class='diff-changed'>&nbsp;</span></span><span class='diff-changed'></span></div><span class='diff-changed'>
</span><div class="toc-list"><span class='diff-changed'>
</span><ol><span class='diff-changed'>
	</span><li class="toc-level-1"><span class='diff-changed'></span><a href="#Branch_naming_conventions"><span class='diff-changed'></span><span class="toc-number"><span class='diff-changed'>1. </span></span><span class='diff-changed'>Branch naming conventions</span></a><span class='diff-changed'>
</span><ol><span class='diff-changed'>
	</span><li class="toc-level-2"><span class='diff-changed'></span><a href="#Main_development_branch"><span class='diff-changed'></span><span class="toc-number"><span class='diff-changed'>1.1. </span></span><span class='diff-changed'>Main development branch</span></a><span class='diff-changed'></span></li><span class='diff-changed'>
	</span><li class="toc-level-2"><span class='diff-changed'></span><a href="#Stable_release_branches"><span class='diff-changed'></span><span class="toc-number"><span class='diff-changed'>1.2. </span></span><span class='diff-changed'>Stable release branches</span></a><span class='diff-changed'></span></li><span class='diff-changed'>
	</span><li class="toc-level-2"><span class='diff-changed'></span><a href="#Feature_branches"><span class='diff-changed'></span><span class="toc-number"><span class='diff-changed'>1.3. </span></span><span class='diff-changed'>Feature branches</span></a><span class='diff-changed'></span></li><span class='diff-changed'>
</span></ol><span class='diff-changed'>
</span></li><span class='diff-changed'>
	</span><li class="toc-level-1"><span class='diff-changed'></span><a href="#Tag_naming_convention"><span class='diff-changed'></span><span class="toc-number"><span class='diff-changed'>2. </span></span><span class='diff-changed'>Tag naming convention</span></a><span class='diff-changed'></span></li><span class='diff-changed'>
	</span><li class="toc-level-1"><span class='diff-changed'></span><a href="#CVS_and_git_history"><span class='diff-changed'></span><span class="toc-number"><span class='diff-changed'>3. </span></span><span class='diff-changed'>CVS and git history</span></a><span class='diff-changed'></span></li><span class='diff-changed'>
</span></ol><span class='diff-changed'>
</span></div><span class='diff-changed'>
</span></div><span class='diff-changed'>

</span><h1 id="Branch_naming_conventions"><span class='diff-changed'>1. </span>Branch naming conventions</h1>

<p><span class='diff-added'>All branches are either development branches, stable branches or feature branches. Development and stable branches have the same naming convention: </span><strong><span class='diff-deleted'>Warning</span></strong><span class='diff-deleted'>:</span><span class='diff-deleted'> </span><span class='diff-changed'></span><code><span class='diff-changed'>6.x-1.x</span></code><span class='diff-changed'> or </span><code><span class='diff-changed'>7.x-2.x</span></code><span class='diff-changed'>. The only different between the two is that a stable branch is the branch where stable releases are published from.</span></p><span class='diff-changed'>

</span><p><span class='diff-changed'></span><em><span class='diff-changed'>Note</span></em><span class='diff-changed'>: since</span> the <a href="../../../../385/index.html">great git.drupal.org migration</a><span class='diff-changed'>,</span> we are back on <span class='diff-changed'>Drupal.org and have been</span> forced to change some of <span class='diff-changed'>our naming convention, especially</span> to <span class='diff-changed'>include the core release number in</span> the <span class='diff-changed'>tag</span> (so <code>6.x-1.x</code>), which is a <span class='diff-changed'>source of confusion</span> for our <code>provision</code> module which supports any Drupal core <span class='diff-changed'>version.</span>  See <a href="http://drupal.org/node/322626#comment-4116688">this issue on drupal.org</a> for followup.</p>

<div class="toc-back-to-top"><span class='diff-changed'></span><a href="#toc"><span class='diff-changed'>Back to top</span></a><span class='diff-changed'></span></div><span class='diff-changed'></span><h2 id="Main_development_branch"><span class='diff-changed'>1.1. </span>Main development branch</h2>

<p><span class='diff-changed'>The</span> main development <span class='diff-changed'>branch is created after a fully stable release is published. For example, the </span><code><span class='diff-changed'>7.x-2.x</span></code><span class='diff-changed'></span> branch <span class='diff-changed'>will be created once the 1.0 release is published. It will be a development branch until it is considered feature-complete and goes through</span> the <span class='diff-changed'>alpha/beta/rc release cycle, at which point it will be declared a stable branch and a new development branch will be created (probably</span> <code><span class='diff-changed'>8.x-3.x</span></code> <span class='diff-changed'>at that point).</span></p><span class='diff-changed'>

</span><p><span class='diff-changed'>Note that we have </span><a href="../../../../524/index.html"><span class='diff-changed'>dropped</span> the master branch</a> <span class='diff-changed'>as it is not well supported on Drupal.org for releases.</span></p><span class='diff-changed'>

</span><div class="toc-back-to-top"><span class='diff-changed'></span><a href="#toc"><span class='diff-changed'>Back to top</span></a><span class='diff-changed'></span></div><span class='diff-changed'></span><h2 id="Stable_release_branches"><span class='diff-changed'>1.2. Stable release branches</span></h2>

<p><span class='diff-changed'>Stable releases</span> are <span class='diff-changed'>performed</span> from <span class='diff-changed'>stable release branches. A</span> branch<span class='diff-added'> is declared stable only</span> after <span class='diff-changed'>it went through the complete</span> alpha/beta/rc release cycle (see <a href="../../../../32/index.html">release process</a> for more information).</p><span class='diff-changed'>

</span><p>Once the branch is declared stable, new releases are quickly done as "hotfixes", without intervening alpha/beta/rc releases. So for example, <code><span class='diff-changed'>6.x-1.0</span></code> will come after <code><span class='diff-changed'>6.x-1.0-alpha1</span></code>, <code><span class='diff-changed'>6.x-1.0-beta1</span></code>, <code><span class='diff-changed'>6.x-1.0-rc1</span></code> <em>at least</em>, and then be followed directly by <code><span class='diff-changed'>6.x-1.1</span></code>.</p>

<p>Releases on the same stable branch are API-compatible with each other (so <code>1.1</code> is compatible with <code>1.0</code>). The upgrade path is supported between major stable releases (so you can upgrade from <code>1.0</code> to <code>1.1</code> or <code>2.0</code>).</p>

<p><strong>Special case</strong>: during the 0.x release cycle, releases were not API-compatible with each other, ie. 0.4 was <em>not</em> compatible with 0.3, and you could barely upgrade from 0.3 to 0.4.</p><span class='diff-added'>

</span><p><span class='diff-added'>Only </span><span class='diff-changed'>one</span> stable <span class='diff-changed'>branch is maintained at a time.</span></p><span class='diff-changed'>

</span><div class="toc-back-to-top"><span class='diff-changed'></span><a href="#toc"><span class='diff-changed'>Back to</span> top</a><span class='diff-added'></span></div><span class='diff-added'></span><h2 id="Feature_branches"><span class='diff-added'>1.3. </span><span class='diff-deleted'>of</span><span class='diff-deleted'> </span><span class='diff-deleted'>0.4</span><span class='diff-deleted'> </span><span class='diff-deleted'>(so</span><span class='diff-deleted'> </span><span class='diff-deleted'>0.5</span><span class='diff-deleted'> </span><span class='diff-deleted'>will</span><span class='diff-deleted'> </span><span class='diff-deleted'>immediately</span><span class='diff-deleted'> </span><span class='diff-deleted'>follow</span><span class='diff-deleted'> </span><span class='diff-deleted'>0.4).</span></p><span class='diff-deleted'>

</span><h2>Feature branches</h2>

<p>More complex development goes into development or "feature" branches, to avoid making <code>master</code> too unstable. Feature branches must be prefixed with "dev-" and use the issue number (if available or relevant) and a short name. So for example, there could be work on a <code>dev-12345-mybug</code> branch or <code>dev-dns</code> branch for a larger feature (DNS, in that case) which doesn't fit in a single issue.</p>

<p><span class='diff-changed'>Feature</span> branches should be based of a known stable baseline as much as possible. For example, you <span class='diff-changed'>should</span> branch off the last alpha release if you want to <span class='diff-changed'>make merging with other dev branches and master easier. See</span> <a href="http://developers.slashdot.org/story/10/11/30/1649231/Linus-On-Branching-Practices">this article</a> for a thorough discussion on this <span class='diff-changed'>practice</span></p><span class='diff-changed'>

</span><div class="toc-back-to-top"><span class='diff-changed'></span><a href="#toc"><span class='diff-changed'>Back to top</span></a><span class='diff-changed'></span></div><span class='diff-changed'></span><h1 id="Tag_naming_convention"><span class='diff-changed'>2. </span><span class='diff-deleted'>master</span><span class='diff-deleted'> </span><span class='diff-deleted'>branch</span><span class='diff-deleted'> </span><span class='diff-deleted'>is</span><span class='diff-deleted'> </span><span class='diff-deleted'>usually</span><span class='diff-deleted'> </span><span class='diff-deleted'>fairly</span><span class='diff-deleted'> </span><span class='diff-deleted'>stable,</span><span class='diff-deleted'> </span><span class='diff-deleted'>you</span><span class='diff-deleted'> </span><span class='diff-deleted'>can</span><span class='diff-deleted'> </span><span class='diff-deleted'>usually</span><span class='diff-deleted'> </span><span class='diff-deleted'>keep</span><span class='diff-deleted'> </span><span class='diff-deleted'>that</span><span class='diff-deleted'> </span><span class='diff-deleted'>as</span><span class='diff-deleted'> </span><span class='diff-deleted'>a</span><span class='diff-deleted'> </span><span class='diff-deleted'>baseline,</span><span class='diff-deleted'> </span><span class='diff-deleted'>but</span><span class='diff-deleted'> </span><span class='diff-deleted'>keep</span><span class='diff-deleted'> </span><span class='diff-deleted'>in</span><span class='diff-deleted'> </span><span class='diff-deleted'>mind</span><span class='diff-deleted'> </span><span class='diff-deleted'>it</span><span class='diff-deleted'> </span><span class='diff-deleted'>will</span><span class='diff-deleted'> </span><span class='diff-deleted'>make</span><span class='diff-deleted'> </span><span class='diff-deleted'>merging</span><span class='diff-deleted'> </span><span class='diff-deleted'>with</span><span class='diff-deleted'> </span><span class='diff-deleted'>other</span><span class='diff-deleted'> </span><span class='diff-deleted'>dev</span><span class='diff-deleted'> </span><span class='diff-deleted'>branches</span><span class='diff-deleted'> </span><span class='diff-deleted'>more</span><span class='diff-deleted'> </span><span class='diff-deleted'>difficult</span><span class='diff-deleted'> </span><span class='diff-deleted'>as</span><span class='diff-deleted'> </span><span class='diff-deleted'>you</span><span class='diff-deleted'> </span><span class='diff-deleted'>will</span><span class='diff-deleted'> </span><span class='diff-deleted'>start</span><span class='diff-deleted'> </span><span class='diff-deleted'>from</span><span class='diff-deleted'> </span><span class='diff-deleted'>different</span><span class='diff-deleted'> </span><span class='diff-deleted'>baselines</span><span class='diff-deleted'> </span><span class='diff-deleted'>and</span><span class='diff-deleted'> </span><span class='diff-deleted'>therefore</span><span class='diff-deleted'> </span><span class='diff-deleted'>merge</span><span class='diff-deleted'> </span><span class='diff-deleted'>unrelated</span><span class='diff-deleted'> </span><span class='diff-deleted'>commits.</span></p><span class='diff-deleted'>

</span><h1>Tag naming convention</h1>

<p>Every release is tagged with a <code><span class='diff-changed'>6.x-x.y</span></code> tag (e.g. <code><span class='diff-changed'>6.x-0.4</span></code>, <code><span class='diff-changed'>6.x-0.4-alpha15</span></code> or <code><span class='diff-changed'>6.x-1.0</span></code>). Those tags are usually laid on the stable branches, except for alpha/beta/rc releases which are laid on the <span class='diff-changed'>development</span> branch.</p>

<div class="toc-back-to-top"><span class='diff-changed'></span><a href="#toc"><span class='diff-changed'>Back to top</span></a><span class='diff-changed'></span></div><span class='diff-changed'></span><h1 id="CVS_and_git_history"><span class='diff-changed'>3. </span>CVS and git history</h1>

<p>The CVS tags and branches are still accessible in git and will be kept there for posterity. They respect the traditional Drupal.org naming convention.</p>

<p>They have also been converted to the new git.drupal.org conventions during the <a href="../../../../385/index.html">great git.drupal.org migration</a>.</p>

<p>Since that migration (february 2011), history has been rewritten to clean up the authors in the history.</p><span class='diff-added'></span><div class="toc-back-to-top"><span class='diff-added'></span><a href="#toc"><span class='diff-added'>Back to top</span></a><span class='diff-added'></span></div><span class='diff-added'></span><script type="text/javascript"><span class='diff-added'>toc_scroll_back_to_top = 1;</span></script></div>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-195.html?destination=node%2F187%23comment-form">Login</a> or <a href="../../../../../user/register/index-195.html?destination=node%2F187%23comment-form">register</a> to post comments</span></li>
<li class="print active"><a href="index-2.html?print" class="active">Print</a></li>
<li class="print_recurse active"><a href="index-3.html?print&amp;book_recurse" class="active">Print entire section</a></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-195.html?destination=node%2F187%23comment-form">Login</a> or <a href="../../../../../user/register/index-195.html?destination=node%2F187%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>


    </div>
      </div>
</body>


<!-- Mirrored from community.aegirproject.org/node/187/revisions/1385/view?print&book_recurse by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 18:19:10 GMT -->
</html>
