<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  
<!-- Mirrored from community.aegirproject.org/node/75/revisions/179/view by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 17:21:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="prev" href="../../../../../dev-cheat-sheet/index.html" />
<link rel="up" href="../../../../../contrib/index.html" />
<link rel="next" href="../../../../108/index.html" />
<link rel="prev" href="../../../../../dev-cheat-sheet/index.html" />
<link rel="up" href="../../../../../contrib/index.html" />
<link rel="next" href="../../../../108/index.html" />
<link rel="canonical" href="index.html" />
<link rel="shortcut icon" href="../../../../../sites/community.aegirproject.org/themes/up/favicon/index.ico" type="image/x-icon" />
    <link type="text/css" rel="stylesheet" media="all" href="../../../../../profiles/openatrium/modules/contrib/codefilter/codefilter/index.css?r" />
<link type="text/css" rel="stylesheet" media="all" href="../../../../../sites/community.aegirproject.org/files/css/css_ee07fc5bc0ece428bd7cc44fc229f737/index.css" />
<link type="text/css" rel="stylesheet" media="screen" href="../../../../../sites/community.aegirproject.org/files/css/css_c151a4313ed94e62ccee94ea27ad58ed/index.css" />
<link type="text/css" rel="stylesheet" media="print" href="../../../../../sites/community.aegirproject.org/files/css/css_5fa73dc3677977c016a597acd186e4e7/index.css" />
<style type='text/css'>
.atrium-welcome-links a:hover,
.dropdown-blocks .block-toggle li a:hover,
.dropdown-blocks .block-toggle li a:focus,
.dropdown-blocks .block-toggle ul.links li a:hover,
.dropdown-blocks .block-toggle ul.links li a:focus,
.dropdown-blocks .block-toggle .item-list li a:hover,
.dropdown-blocks .block-toggle .item-list li a:focus,
.pager li.pager-current,
.more-link a:hover,
#global,
#navigation { background-color:#143352; }

body #space-tools .block-title { background-color:#0e2339; }

body #header .block-widget .block-content,
body #header .block .block-title { background-color:#112b45; }

body .page-region .block .block-title {
  background-color:#c2c8ce;
  border-color:#b4bbc1;
  border-bottom-color:#a7adb3;
  }

.drilldown .trail a {
  border-top-color:#f3f4f6;
  border-bottom-color:#d2d4d6;
  background-color:#e3e4e6;
  }

.decay-10 .comment-title { border-color:#eeeeee; }
.decay-9 .comment-title { border-color:#d8dbde; }
.decay-8 .comment-title { border-color:#c2c8ce; }
.decay-7 .comment-title { border-color:#acb5bf; }
.decay-6 .comment-title { border-color:#96a3af; }
.decay-5 .comment-title { border-color:#8190a0; }
.decay-4 .comment-title { border-color:#6b7d90; }
.decay-3 .comment-title { border-color:#556b80; }
.decay-2 .comment-title { border-color:#3f5871; }
.decay-1 .comment-title { border-color:#294561; }
.decay-0 .comment-title { border-color:#143352; }
</style>
    <script type="text/javascript" src="../../../../../sites/community.aegirproject.org/files/js/js_0b2caa4cebea0777aa5a4faf2f7bd4f6/index.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","ahah":{"edit-revision":{"url":"\/node\/75\/revisions\/diff-inline","event":"change","keypress":null,"wrapper":"diff-inline-75","selector":"#edit-revision","effect":"none","method":"replace","progress":{"type":"throbber"},"button":false}},"atriumBookPath":"\/node\/75\/revisions\/179\/view"});
//--><!]]>
</script>
    <!--[if lte IE 8]><style type='text/css' media='screen'>@import '/profiles/openatrium/themes/ginkgo/ie.css';</style><![endif]-->    <title>Revision of Extending Aegir and communicating with install profiles from Wed, 11/03/2010 - 21:30 | community.aegirproject.org</title>
  </head>
  <body  class="not-front not-logged-in page-node node-type-book one-sidebar sidebar-right designkit tao rubik admin-static page">

  <a id='skipnav' href='#content'>Skip navigation</a>
  <div id='global'><div class='limiter clear-block'>
          <div id='header' class='dropdown-blocks toggle-blocks clear-block'>
          

<div  id="block-atrium-account" class="block block-atrium block-widget block-notitle">
  
  
      <div class='block-content clear-block '>
      <a href="../../../../../user/login/index.html">Log in</a>    </div>
  
  </div>


  

<div  id="block-boxes-search_issues" class="block block-boxes block-toggle">
      <div class='block-title'>
            <a href="index.html#block-boxes-search_issues" class="toggle element-invisible active">Toggle</a>LOOKING FOR HELP?    </div>
  
  
      <div class='block-content clear-block '>
      <div id='boxes-box-search_issues' class='boxes-box'><div class="boxes-box-content"><table class="prose">
<tr>
<td width="50%">
<span style="font-size:16px;width:100%">Type some keywords below and hit "enter":</span><br />
<input type="text" class="drupal-issue-redirect" style="width:100%;min-width:200px;background-color:#DDEEFF; font-size:30px;border-style:dotted;border-width:1px" />
<p>This will search the drupal.org issue queues across the various projects that make up the Aegir system. If there are no relevant results, please submit an issue there.</p></td>
<td style="padding:10px">Other support resources:
<ul>
<li><a href="irc://irc.freenode.net/aegir">#aegir on IRC</a></li>
<li><a href="../../../../../faq/index.html">FAQ</a></li>
<li><a href="../../../../../handbook/index.html">Aegir Handbook</a></li>
<li><a href="../../../../../service-providers/index.html">Aegir service providers</a></li>
<li><a href="https://drupal.org/project/issues?text=&amp;projects=provision,+hosting,+hostslave,+eldir,+Hostmaster+(Aegir),Hosting+Platform+Pathauto&amp;status=Open&amp;priorities=All&amp;categories=All">All Aegir issues</a></li>
<li><a href="http://drupal.stackexchange.com/questions/tagged/aegir">Aegir tag on Drupal Stackexchange</a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
$("input.drupal-issue-redirect").change(function() {
  searchURL= "http://drupal.org/project/issues?text="+$(this).val()+"&projects=provision,+hosting,+hostslave,+eldir,+Hostmaster+(Aegir),Hosting+Platform+Pathauto&status=Open&priorities=All&categories=All";
  window.location = searchURL;
});
</script></div></div>    </div>
  
  </div>


      </div>
        <div class='breadcrumb'><span class='link link-0'><a href="../../../../../index.html">Home</a></span><span class='divider'></span><span class='link link-1'><a href="../../../../../content/aegir-handbook/index.html">Aegir Handbook</a></span><span class='divider'></span><span class='link link-2'><a href="../../../../../developing/index.html">Developer Manual</a></span><span class='divider'></span><span class='link link-3'><a href="../../../../../contrib/index.html">Extending Aegir</a></span><span class='divider'></span><span class='link link-4'><a href="../../../index.html">Extending Aegir and communicating with install profiles</a></span></div>    <a href="../../../../../index.html" class="logo" style="background-position:100% 50%; background-image:url(../%27http_/community.aegirproject.org/sites/community.aegirproject.org/files/imagecache/designkit-image-logo/logo/index.html)"></a>  </div></div>

    <div id='navigation'><div class='limiter clear-block'>
    <ul id="features-menu" class="links primary-links"><li class="menu-617 first"><a href="../../../../../dashboard/index.html" class=" icon-dashboard"><span class='icon'></span><span class='label'>Dashboard</span></a></li>
<li class="menu-618 active"><a href="../../../../../handbook/index.html" class="active icon-handbook"><span class='icon'></span><span class='label'>Documentation</span></a></li>
<li class="menu-2427"><a href="../../../../../discussion/index.html" class=" icon-discussion"><span class='icon'></span><span class='label'>Discussion</span></a></li>
<li class="menu-2426"><a href="../../../../../calendar/index.html" class="spaces-menu-editable icon-calendar"><span class='icon'></span><span class='label'>Calendar</span></a></li>
<li class="menu-823"><a href="../../../../../reader/index.html" class=" icon-reader"><span class='icon'></span><span class='label'>Feed reader</span></a></li>
<li class="menu-2429 last"><a href="../../../../../members/index.html" class=" icon-members"><span class='icon'></span><span class='label'>Members</span></a></li>
</ul>          <div id='space-tools'><div class='dropdown-blocks toggle-blocks clear-block'>  

<div  id="block-atrium-search" class="block block-atrium block-toggle">
      <div class='block-title'>
            <a href="index.html#block-atrium-search" class="toggle element-invisible active">Toggle</a><span class='icon'></span> Search    </div>
  
  
      <div class='block-content clear-block '>
      <form action="http://community.aegirproject.org/node/75/revisions/179/view"  accept-charset="UTF-8" method="post" id="atrium-search-form">
<div><div  class="form-item form-item-labeled" id="edit-search-wrapper">
      <label  for="edit-search">Search: <span class='form-required' title='This field is required.'>*</span></label>
    <input type="text" maxlength="128" name="search" id="edit-search" value="" class="form-text required fluid" />  </div>
<input type="submit" name="op" id="edit-submit-1" value="Search"  class="form-submit" />
<input type="hidden" name="form_build_id" id="form-yTqlclLAy2ofEcDEpTh2tYQlgS-wvMDSixZBiuRrFeg" value="form-yTqlclLAy2ofEcDEpTh2tYQlgS-wvMDSixZBiuRrFeg"  />
<input type="hidden" name="form_id" id="edit-atrium-search-form" value="atrium_search_form"  />

</div></form>
    </div>
  
  </div>


</div></div>
      </div></div>
  
  <div id='page-tools'><div class='limiter clear-block'>
    <h1  class="page-title page-title-hidden">Revision of <em>Extending Aegir and communicating with install profiles</em> from <em>Wed, 11/03/2010 - 21:30</em></h1>        <a href="index.html#block-atrium-help" id="help-toggler" class="palette-toggle active">Help</a>          </div></div>

  
  
  <div id='page'><div class='limiter clear-block'>
    
<div id='content'><div class='page-region'>
      <div class='page-content content-wrapper clear-block'>

<div  id="node-75" class="node node-book clear-block node-page">
  
      <h2 class='node-title'>
            <a href="../../../index.html">Extending Aegir and communicating with install profiles</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div id='diff-inline-75'><p>This article has been republished from mig5's website. <a href="http://www.migueljacq.com/content/developing-aegir-extending-aegir-and-communicating-install-profiles">Original URL</a></p>
<p>Aegir is a pretty powerful tool that allows you to very quickly provision new Drupal sites out of the box and manage them throughout their lifespan through a variety of tasks.</p>
<p>Its ability to understand different install profiles and thus 'distributions' shoots the awesome factor through the roof once you can deploy instances of OpenAtrium, Pressflow, ManagingNews or your own custom distro in just a couple of clicks.</p>
<p>Inevitably, though, your requirements will grow more complex. Aegir is about automation, and install profiles that prompt users for information through a series of tasks, and fail without that information, aren't much help. You might resort to a bunch of hacks to get that data into your client's site. You might try and insert some custom stuff into the site's vhost only to whimper in dismay when Aegir does a routine Verify sanity check and obliterates your changes.</p>
<p>If you get to this point, the simplicity of Aegir will be a distant memory and you'll be shaking your fist at us developers for forgetting about your corner case. Curses!</p>
<p>Rest assured, despite the constantly shifting development in Aegir and its early alpha stages, we try to maintain an ability to hook into Aegir and extend it as easily as possible, and it will only continue to get easier, especially once our API stabilises and is published.</p>
<p>Today I'm going to show you:</p>
<ul>
<li>how to add a custom Hosting submodule to Aegir</li>
<li>how to alter the site form to add custom fields of data</li>
<li>how to send that data to the backend</li>
<li>how to apply that data to site vhosts and inside your custom install profile and site database</li>
</ul>
<p>There are a few files here, because we're creating a custom module and install profile, and a few other things. For the impatient, I've attached a tarball to this article called 'cheesy.tar.gz' that contains all the relevant components and a README.txt instructing where to put it all.</p>
<p>Those of you who follow me on Twitter know I like to perpetuate the semi-French stereotype and rant and rave about cheese. I spent some time trying to think of a non-cheesy example to use in this tutorial, before realising what a silly idea that was. You can never have enough cheese :)</p>
<h3>Part one - Adding a cheesy module</h3>
<p>We'll add a custom module to the Hosting frontend called 'Cheese'.</p>
<p>Hosting is the 'frontend' bit of the Aegir system that allows you to plug data in via a web interface and have that information, if necessary, communicated to the backend Drush/Provision system by way of 'tasks'.</p>
<p>Our new module is simple: we're going to invoke a hook_form_alter() to add a textfield to the site form. The module will add a table to the Aegir database that stores this value, linked to the site nid. Keeping it out of the hosting_site table means we can disable and uninstall this module later and clean up properly.</p>
<p>There's nothing new or unusual about a Hosting submodule than any other Drupal module.  Make the directory <code>/var/aegir/hostmaster-0.x/profiles/hostmaster/modules/hosting/cheese</code></p>
<p><strong>Info file</strong></p>
<p>Here's our hosting_cheese.info</p>
<div class="codeblock"><code>name = Cheese<br />description = Cheesemongers need to define cheese in their Drupal sites.<br />package = Hosting<br />dependencies[] = hosting_site
<p>core = 6.x</p></code></div>
<p>You can see we depend on hosting_site, because hosting_site is the module that provides the site form for installing sites!</p>
<p><strong>Install file</strong></p>
<p>Now let's add an .install file that defines our database table schema and how to install/uninstall it. Standard Drupal stuff.</p>
<div class="codeblock"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br /> * Implementation of hook_schema().<br /> */<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">hosting_cheese_schema</span><span style="color: #007700">() {<br />&nbsp; </span><span style="color: #0000BB">$schema</span><span style="color: #007700">[</span><span style="color: #DD0000">'hosting_cheese'</span><span style="color: #007700">] = array(<br />&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'fields' </span><span style="color: #007700">=&gt; array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'vid' </span><span style="color: #007700">=&gt; array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'type' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'int'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'not null' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">TRUE</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'default' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">0</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'nid' </span><span style="color: #007700">=&gt; array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'type' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'int'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'unsigned' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">TRUE</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'not null' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">TRUE</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'default' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">0</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'cheese' </span><span style="color: #007700">=&gt; array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'type' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'varchar'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'length' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">128</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'not null' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">TRUE</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ),<br />&nbsp;&nbsp;&nbsp; ),<br />&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'indexes' </span><span style="color: #007700">=&gt; array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'vid' </span><span style="color: #007700">=&gt; array(</span><span style="color: #DD0000">'vid'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'cheese' </span><span style="color: #007700">=&gt; array(</span><span style="color: #DD0000">'cheese'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp; ),<br />&nbsp; );
<p>&nbsp; return </p></span><span style="color: #0000BB">$schema</span><span style="color: #007700">;<br />}
<p>function </p></span><span style="color: #0000BB">hosting_cheese_install</span><span style="color: #007700">() {<br />&nbsp; </span><span style="color: #FF8000">// Create tables.<br />&nbsp; </span><span style="color: #0000BB">drupal_install_schema</span><span style="color: #007700">(</span><span style="color: #DD0000">'hosting_cheese'</span><span style="color: #007700">);<br />}
<p>function </p></span><span style="color: #0000BB">hosting_cheese_uninstall</span><span style="color: #007700">() {<br />&nbsp; </span><span style="color: #FF8000">// Remove tables.<br />&nbsp; </span><span style="color: #0000BB">drupal_uninstall_schema</span><span style="color: #007700">(</span><span style="color: #DD0000">'hosting_cheese'</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
<p><strong>The module</strong></p>
<p>Here's our simple hosting_cheese.module file.</p>
<p>It's pretty straightforward: our first function is a <code>hook_form_alter()</code> of <code>hosting_site_form()</code>. We are adding a single textfield to the form called 'Cheese'. Because it's my favourite, the default value is going to be 'camembert' if it hasn't already been set on the node (if we're updating a site rather than creating a new one).</p>
<p>The next few functions are invocations of common database hooks such as insert, update and delete. They will insert the 'cheese' value from our form into the <code>hosting_cheese</code> table.</p>
<p>I call <code>hook_nodeapi()</code> to do $stuff on those actions. There's validation to check that a cheese was entered. We invoke <code>hook_load()</code>, which allows various modules and features to return their bits and pieces from various parts of the database as 'additions' to the core node attributes. With this we can call <code>$node-&gt;cheese</code> when we might need to.</p>
<div class="codeblock"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br /> * Implementation of hook_form_alter()<br /> */<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">hosting_cheese_form_alter</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$form</span><span style="color: #007700">, </span><span style="color: #0000BB">$form_state</span><span style="color: #007700">, </span><span style="color: #0000BB">$form_id</span><span style="color: #007700">) {<br />&nbsp; if (</span><span style="color: #0000BB">$form_id </span><span style="color: #007700">== </span><span style="color: #DD0000">'site_node_form'</span><span style="color: #007700">) {<br />&nbsp;&nbsp;&nbsp; </span><span style="color: #0000BB">$form</span><span style="color: #007700">[</span><span style="color: #DD0000">'cheese'</span><span style="color: #007700">] = array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'#type' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'textfield'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'#title' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'Cheese'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'#description' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'What sort of cheese?'</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'#default_value' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$form</span><span style="color: #007700">[</span><span style="color: #DD0000">'#node'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">cheese </span><span style="color: #007700">? </span><span style="color: #0000BB">$form</span><span style="color: #007700">[</span><span style="color: #DD0000">'#node'</span><span style="color: #007700">]-&gt;</span><span style="color: #0000BB">cheese </span><span style="color: #007700">: </span><span style="color: #DD0000">'camembert'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'#required' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">TRUE</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'#weight' </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">0</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp; );<br />&nbsp;&nbsp;&nbsp; return </span><span style="color: #0000BB">$form</span><span style="color: #007700">;<br />&nbsp; }<br />}
<p></p></span><span style="color: #FF8000">/** <br /> * Implementation of hook_insert()<br /> */<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">hosting_cheese_insert</span><span style="color: #007700">(</span><span style="color: #0000BB">$node</span><span style="color: #007700">) {<br />&nbsp; if (</span><span style="color: #0000BB">$node</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cheese</span><span style="color: #007700">) {<br />&nbsp;&nbsp;&nbsp; </span><span style="color: #0000BB">db_query</span><span style="color: #007700">(</span><span style="color: #DD0000">"INSERT INTO {hosting_cheese} (vid, nid, cheese) VALUES (%d, %d, '%s')"</span><span style="color: #007700">, </span><span style="color: #0000BB">$node</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">vid</span><span style="color: #007700">, </span><span style="color: #0000BB">$node</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nid</span><span style="color: #007700">, </span><span style="color: #0000BB">$node</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cheese</span><span style="color: #007700">);<br />&nbsp; }<br />}
<p></p></span><span style="color: #FF8000">/**<br /> * Implementation of hook_update()<br /> */
<p></p></span><span style="color: #007700">function </span><span style="color: #0000BB">hosting_cheese_update</span><span style="color: #007700">(</span><span style="color: #0000BB">$node</span><span style="color: #007700">) {<br />&nbsp; </span><span style="color: #0000BB">db_query</span><span style="color: #007700">(</span><span style="color: #DD0000">"UPDATE {hosting_cheese} SET cheese = '%s' WHERE nid = %d"</span><span style="color: #007700">, </span><span style="color: #0000BB">$node</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cheese</span><span style="color: #007700">, </span><span style="color: #0000BB">$node</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nid</span><span style="color: #007700">);<br />}
<p></p></span><span style="color: #FF8000">/**<br /> * Implementation of hook_delete()<br /> */<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">hosting_cheese_delete</span><span style="color: #007700">(</span><span style="color: #0000BB">$node</span><span style="color: #007700">) {<br />&nbsp; </span><span style="color: #0000BB">db_query</span><span style="color: #007700">(</span><span style="color: #DD0000">"DELETE FROM {hosting_cheese} WHERE nid=%d"</span><span style="color: #007700">, </span><span style="color: #0000BB">$node</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nid</span><span style="color: #007700">);<br />}
<p></p></span><span style="color: #FF8000">/**<br /> * Implementation of hook_delete_revision()<br /> */<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">hosting_cheese_delete_revision</span><span style="color: #007700">(</span><span style="color: #0000BB">$node</span><span style="color: #007700">) {<br />&nbsp; </span><span style="color: #0000BB">db_query</span><span style="color: #007700">(</span><span style="color: #DD0000">"DELETE FROM {hosting_cheese} WHERE vid=%d"</span><span style="color: #007700">, </span><span style="color: #0000BB">$node</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">vid</span><span style="color: #007700">);<br />}
<p></p></span><span style="color: #FF8000">/** <br /> * Implementation of hook_nodeapi()<br /> */<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">hosting_cheese_nodeapi</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$node</span><span style="color: #007700">, </span><span style="color: #0000BB">$op</span><span style="color: #007700">, </span><span style="color: #0000BB">$a3 </span><span style="color: #007700">= </span><span style="color: #0000BB">NULL</span><span style="color: #007700">, </span><span style="color: #0000BB">$a4 </span><span style="color: #007700">= </span><span style="color: #0000BB">NULL</span><span style="color: #007700">) {<br />&nbsp; if (</span><span style="color: #0000BB">$node</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">type </span><span style="color: #007700">== </span><span style="color: #DD0000">'site'</span><span style="color: #007700">) {<br />&nbsp;&nbsp;&nbsp; switch (</span><span style="color: #0000BB">$op</span><span style="color: #007700">) {<br />&nbsp;&nbsp;&nbsp; case </span><span style="color: #DD0000">'insert'</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000BB">hosting_cheese_insert</span><span style="color: #007700">(</span><span style="color: #0000BB">$node</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case </span><span style="color: #DD0000">'update'</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000BB">hosting_cheese_update</span><span style="color: #007700">(</span><span style="color: #0000BB">$node</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case </span><span style="color: #DD0000">'delete' </span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000BB">hosting_cheese_delete</span><span style="color: #007700">(</span><span style="color: #0000BB">$node</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case </span><span style="color: #DD0000">'delete revision'</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000BB">hosting_cheese_delete_revision</span><span style="color: #007700">(</span><span style="color: #0000BB">$node</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case </span><span style="color: #DD0000">'validate' </span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!</span><span style="color: #0000BB">$node</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cheese</span><span style="color: #007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000BB">form_set_error</span><span style="color: #007700">(</span><span style="color: #DD0000">'cheese'</span><span style="color: #007700">, </span><span style="color: #0000BB">t</span><span style="color: #007700">(</span><span style="color: #DD0000">'You must enter a cheese!'</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case </span><span style="color: #DD0000">'load'</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: #0000BB">$additions</span><span style="color: #007700">[</span><span style="color: #DD0000">'cheese'</span><span style="color: #007700">] = </span><span style="color: #0000BB">db_result</span><span style="color: #007700">(</span><span style="color: #0000BB">db_query</span><span style="color: #007700">(</span><span style="color: #DD0000">"SELECT cheese FROM {hosting_cheese} WHERE vid=%d"</span><span style="color: #007700">, </span><span style="color: #0000BB">$node</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">vid</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return </span><span style="color: #0000BB">$additions</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br />&nbsp;&nbsp;&nbsp; }<br />&nbsp; }<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
<p>At this point, you can go to <code>/admin/build/modules</code> and enable the Cheese feature. The database table will get installed, and you can now go to <code>Create Content &gt; Site</code> and see our cheese field is present in the site form!</p>
<div align="center"><img src="../../../../../sites/community.aegirproject.org/files/cheese_form/index.png" /></div>
<h3>Part two - sending the cheese to the backend</h3>
<p>Yes, it's very exciting that we have cheese in Aegir now. But don't provision a site yet! The fun hasn't even started.</p>
<p>In the same directory as the hosting_cheese module, create a new file called <code>hosting_cheese.drush.inc</code>. This is a Drush file that is going to be responsible for catching when an Install or Verify task is being executed against a site, and to send the cheese value along for the ride to the backend.</p>
<div class="codeblock"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br /> * Implementation of drush_hook_pre_hosting_task()<br /> * Send the site's cheese attribute to the backend for processing.<br /> */<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">drush_hosting_cheese_pre_hosting_task</span><span style="color: #007700">() {<br />&nbsp; </span><span style="color: #0000BB">$task </span><span style="color: #007700">=&amp; </span><span style="color: #0000BB">drush_get_context</span><span style="color: #007700">(</span><span style="color: #DD0000">'HOSTING_TASK'</span><span style="color: #007700">);<br />&nbsp; if (</span><span style="color: #0000BB">$task</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ref</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">type </span><span style="color: #007700">== </span><span style="color: #DD0000">'site' </span><span style="color: #007700">&amp;&amp; (</span><span style="color: #0000BB">$task</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">task_type </span><span style="color: #007700">== </span><span style="color: #DD0000">'install' </span><span style="color: #007700">|| </span><span style="color: #0000BB">$task</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">task_type </span><span style="color: #007700">== </span><span style="color: #DD0000">'verify'</span><span style="color: #007700">)) {<br />&nbsp;&nbsp;&nbsp; </span><span style="color: #0000BB">$task</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">options</span><span style="color: #007700">[</span><span style="color: #DD0000">'cheese'</span><span style="color: #007700">] = </span><span style="color: #0000BB">$task</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">ref</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cheese</span><span style="color: #007700">;<br />&nbsp; }<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
<p>In this code, <code>$task-&gt;ref</code> represents the node object (the site).</p>
<p>Because of our additions in our implementation of hook_node_load(), the cheese value is fetched and available for us to use.</p>
<h3>Part three - an install profile (just for fun)</h3>
<p>I'm demonstrating all this to show you how to get data from the frontend (in the site form) to the backend. We've achieved that, but you probably want to actually *do* stuff with the data. </p>
<p>I'll demonstrate two things you can do with this data. They are just examples - Aegir isn't limited to this at all. </p>
<p><strong>cheesy_sites.profile</strong><br />
First let's create a simple install profile called 'Cheesy sites'.</p>
<div class="codeblock"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br /> * Return an array of the modules to be enabled when this profile is installed.<br /> *<br /> * @return<br /> *&nbsp; An array of modules to be enabled.<br /> */<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">cheesy_sites_profile_modules</span><span style="color: #007700">() {<br />&nbsp; return array(<br />&nbsp;&nbsp;&nbsp; </span><span style="color: #FF8000">/* core */ </span><span style="color: #DD0000">'block'</span><span style="color: #007700">, </span><span style="color: #DD0000">'color'</span><span style="color: #007700">, </span><span style="color: #DD0000">'filter'</span><span style="color: #007700">, </span><span style="color: #DD0000">'help'</span><span style="color: #007700">, </span><span style="color: #DD0000">'menu'</span><span style="color: #007700">, </span><span style="color: #DD0000">'node'</span><span style="color: #007700">, </span><span style="color: #DD0000">'system'</span><span style="color: #007700">, </span><span style="color: #DD0000">'user'</span><span style="color: #007700">, </span><span style="color: #DD0000">'path'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp; </span><span style="color: #FF8000">/* other contrib */ </span><span style="color: #DD0000">'install_profile_api'</span><span style="color: #007700">, </span><span style="color: #DD0000">'token'</span><span style="color: #007700">, </span><span style="color: #DD0000">'pathauto'</span><span style="color: #007700">, </span><span style="color: #DD0000">'views'</span><span style="color: #007700">,<br />&nbsp; );<br />}
<p></p></span><span style="color: #FF8000">/**<br /> * Return a description of the profile for the initial installation screen.<br /> *<br /> * @return<br /> *&nbsp;&nbsp; An array with keys 'name' and 'description' describing this profile.<br /> */<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">cheesy_sites_profile_details</span><span style="color: #007700">() {<br />&nbsp; return array(<br />&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'name' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Cheesy site'</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp; </span><span style="color: #DD0000">'description' </span><span style="color: #007700">=&gt; </span><span style="color: #DD0000">'Select this profile to install a really cheesy site.'<br />&nbsp; </span><span style="color: #007700">);<br />}
<p>function </p></span><span style="color: #0000BB">cheesy_sites_profile_tasks</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$task</span><span style="color: #007700">, </span><span style="color: #0000BB">$url</span><span style="color: #007700">) {<br />&nbsp; </span><span style="color: #FF8000">// Install dependencies<br />&nbsp; </span><span style="color: #0000BB">install_include</span><span style="color: #007700">(</span><span style="color: #0000BB">cheesy_sites_profile_modules</span><span style="color: #007700">());<br />&nbsp; </span><span style="color: #FF8000">// Fetch and set the cheese attribute from Drush, sent originally <br />&nbsp; // from the site form in the Aegir frontend.<br />&nbsp; </span><span style="color: #0000BB">variable_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'cheese' </span><span style="color: #007700">, </span><span style="color: #0000BB">drush_get_option</span><span style="color: #007700">(</span><span style="color: #DD0000">'cheese'</span><span style="color: #007700">, </span><span style="color: #DD0000">'camembert'</span><span style="color: #007700">));<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
<p>This is not meant as an exercise in learning how to write install profiles so I'll gloss over some of the details here. Basic version: we define our modules that the profile depends on (core + some contrib), we install those modules, and finally we do a basic <code>variable_set</code> to store a 'cheese' variable in the site's database, fetching the value from the Drush/Provision backend (sent by the frontend per above), defaulting to 'camembert' if there was none.</p>
<p>Obviously in a normal install profile, this file would be bigger, as you'd be doing a bunch of other stuff such as setting up node types, setting up menus, blocks, users etc.</p>
<p><strong>cheesy_sites.make</strong><br />
I provide a Drush makefile here to fetch the contrib for you. This is totally out of the scope of the tutorial, but it's just fun to use Drush Make and I encourage you to get used to it :)</p>
<div class="codeblock"><code>core = 6.x<br />api = 2
<p>; Contrib modules<br />projects[token][version] = &quot;1.15&quot;<br />projects[pathauto][version] = &quot;1.5&quot;<br />projects[views][version] = &quot;2.11&quot; <br />projects[install_profile_api][version] = &quot;2.1&quot;</p></code></div>
<p>Download Drupal into /var/aegir/drupal-6.19 and copy the cheesy_sites directory into the profiles directory of drupal-6.19, or use a Drush stub makefile to do it all.</p>
<p>If you downloaded core manually, you'll want to <code>cd drupal-6.19; drush make profiles/cheesy_sites/cheesy_sites.make --no-core</code>. The contrib will be downloaded to /var/aegir/drupal-6.19/sites/all/modules</p>
<p><strong>Add the platform</strong></p>
<p>Add a new Platform in Aegir with the Publish Path being that which we just created: /var/aegir/drupal-6.19. A Verify task will be spawned, and Aegir will pick up all the modules and also the 'cheesy_sites' profile, which you can check by viewing the 'Installation profiles' section of the 'Packages' menu tab on the platform node, after the Verify task has completed.</p>
<div align="center"><img src="../../../../../sites/community.aegirproject.org/files/cheesy_sites_profile/index.png" /></div>
<p>You could also add this profile and its dependencies to an existing platform and just re-Verify the platform, and the new profile will be synced up and added to this platform's package registry.</p>
<h3>Part four - make the backend knowledgeable about cheese</h3>
<p>Now we've set up the frontend to get the cheese, set up a drush file to send the cheese to the backend, and we have an install profile that expects to find cheese and set a variable about it in a database when installing a site.</p>
<p>We've left out one crucial stage, and that is to actually prepare the backend to tell it that cheese is coming!</p>
<p><strong>cheese.drush.inc</strong></p>
<p>Telling the backend about the incoming cheese is very similar to what we did earlier about capturing the cheese info on specific tasks and do $stuff with it. </p>
<p>To tell Drush and Provision (Aegir's Drush extension) about the cheese, create a file in ~aegir/.drush called <code>cheese.drush.inc</code>.</p>
<p>We'll invoke a Drush hook that sets the value for the backend on installing a site.</p>
<div class="codeblock"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br /> * Implementation of hook_pre_provision_install()<br /> */<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">drush_cheese_pre_provision_install</span><span style="color: #007700">(</span><span style="color: #0000BB">$url </span><span style="color: #007700">= </span><span style="color: #0000BB">NULL</span><span style="color: #007700">) {<br />&nbsp; </span><span style="color: #0000BB">drush_set_option</span><span style="color: #007700">(</span><span style="color: #DD0000">'cheese'</span><span style="color: #007700">, </span><span style="color: #0000BB">drush_get_option</span><span style="color: #007700">(</span><span style="color: #DD0000">'cheese'</span><span style="color: #007700">, </span><span style="color: #DD0000">'camembert'</span><span style="color: #007700">), </span><span style="color: #DD0000">'site'</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
<p>This saves the value into the site context, where it's usable by the install profile. This occurs in the pre hook, prior to when Aegir starts executing the tasks outlined by the install profile.</p>
<h3>Part five - using Aegir hooks to inject settings into the site vhost</h3>
<p>In Part four, we'll have accomplished what is needed to set the cheese value for the backend, which in turn means you can now create a site in the Aegir frontend, choose the 'Cheesy site' profile, and expect the install profile to pick that cheese setting up and store it in the new site's database as a variable.</p>
<p>But! While I'm here, let me show you another Aegir hook that allows you to safely inject extra configuration sent from the frontend into the site's Apache vhost config file, persistently, without it being overwritten next time the site is Verified.</p>
<p>We'll invoke an Aegir hook called <code>provision_apache_vhost_config()</code> to insert a SetEnv into the vhost file, just for the hell of it.</p>
<p>Another example where you might want to do this is, say, to set a htpasswd password in the site form, and use the hook to inject mod_auth htpasswd protection for the site (perhaps a demonstration for another time!).</p>
<p>Add this to your cheese.drush.inc:</p>
<div class="codeblock"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/*<br /> * Implementation of hook_provision_apache_vhost_config()<br /> */<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">cheese_provision_apache_vhost_config</span><span style="color: #007700">(</span><span style="color: #0000BB">$uri</span><span style="color: #007700">, </span><span style="color: #0000BB">$data</span><span style="color: #007700">) {<br />&nbsp; return </span><span style="color: #DD0000">"&nbsp; SetEnv cheese&nbsp; " </span><span style="color: #007700">. </span><span style="color: #0000BB">drush_get_option</span><span style="color: #007700">(</span><span style="color: #DD0000">'cheese'</span><span style="color: #007700">, </span><span style="color: #DD0000">'camembert'</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
<p>The return value is inserted into the vhost. You can return multiple lines by wrapping them in an array, or even more elegantly, simply return a path to a template .tpl.php file and do your customisations in the template!</p>
<h3>Part six - check the results!</h3>
<p>If you've done everything up to Part four and five prior to installing a site using the 'Cheesy site' install profile, do so now! </p>
<p>I'm going to create a site called 'cheesy.mig5-forge.net' and set my cheese type to be 'cheddar'.</p>
<div align="center"><img src="../../../../../sites/community.aegirproject.org/files/cheese_site/index.png" /></div>
<p>Now let's check to see those settings in their end result:</p>
<p><strong>The variable in the new site's database</strong></p>
<p>Run this command: <code>drush @yoursite.com vget cheese</code></p>
<p>You should see something like this:</p>
<div align="center"><img src="../../../../../sites/community.aegirproject.org/files/cheese_variable/index.png" /></div>
<p>Great! Now let's look at the Apache vhost file for this site, and we should see a 'SetEnv' parameter injected into the vhost.</p>
<div align="center"><img src="../../../../../sites/community.aegirproject.org/files/cheesy_vhost/index.png" /></div>
<h3>Conclusion</h3>
<p>I know these have been silly examples, but I hope you've taken some important lessons out of all this:</p>
<ul>
<li>How to extend the frontend of Aegir and hook into things like the site form and site node</li>
<li>How to capture data on task 'events' like install and send it to the backend</li>
<li>How to recognise that data in the backend and use it in install profiles or invoke our hooks to inject the data into configuration files</li>
<li>How much I really like cheese</li>
</ul>
<h2>Cheesy tarball</h2>
<p>As mentioned at the start of this article, you can download all these components I've been talking about here: <a href="http://www.migueljacq.com/files/cheesy.tar.gz">cheesy.tar.gz</a>. Remember to read the README.txt</p>
<h2>Further reading</h2>
<p>A great article by hadsie on g.d.o on <a href="http://groups.drupal.org/node/97039">sending data to an install profile via the Signup form</a> covers similar information on capturing data sent to the backend in an install profile.</p>
</div>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-422.html?destination=node%2F75%23comment-form">Login</a> or <a href="../../../../../user/register/index-422.html?destination=node%2F75%23comment-form">register</a> to post comments</span></li>
<li class="print active"><a href="index-2.html?print" class="active">Print</a></li>
<li class="print_recurse active"><a href="index-3.html?print&amp;book_recurse" class="active">Print entire section</a></li>
<li class="talk_comments last"><a href="../../../talk/index.html" title="Jump to the first comment of this posting.">Talk</a></li>
</ul></div>
  </div>


</div>
    </div></div>
<div id='right'><div class='page-region'>
    

<div  id="block-diff-inline" class="block block-diff">
      <div class='block-title'>
            Highlight changes    </div>
  
  
      <div class='block-content clear-block '>
      <form action="http://community.aegirproject.org/node/75/revisions/179/view"  accept-charset="UTF-8" method="post" id="diff-inline-form">
<div><div  class="form-item" id="edit-revision-wrapper">
    <select name="revision" class="form-select" id="edit-revision" ><option value="0">&lt; No highlighting &gt;</option><option value="323">11/11/2010 - 23:47 by mig5</option><option value="208">11/05/2010 - 19:35 by omega8cc</option><option value="179" selected="selected">11/03/2010 - 21:30 by mig5</option></select>  </div>
<input type="submit" name="op" id="edit-submit" value="View"  class="form-submit diff-js-hidden" />
<input type="hidden" name="form_build_id" id="form-OQmduwmB7UATKR7KKa9Vz1fd7XCs-LXJDWpizvWJk5s" value="form-OQmduwmB7UATKR7KKa9Vz1fd7XCs-LXJDWpizvWJk5s"  />
<input type="hidden" name="form_id" id="edit-diff-inline-form" value="diff_inline_form"  />
<input type="hidden" name="honeypot_time" id="edit-honeypot-time" value="1438184770"  />
<div class="honeypot-textfield"><div  class="form-item form-item-labeled" id="edit-homepage-wrapper">
      <label  for="edit-homepage">Leave this field blank: </label>
    <input type="text" maxlength="128" name="homepage" id="edit-homepage" size="20" value="" class="form-text" />  </div>
</div>
</div></form>
    </div>
  
  </div>


  

<div  id="block-atrium_book-book_all" class="block block-atrium_book">
      <div class='block-title'>
            <span class='trail'>Documentation</span>    </div>
  
  
      <div class='block-content clear-block '>
      <ul class="menu"><li class="expanded first last"><a href="../../../../../handbook/index.html">Documentation</a><ul class="menu"><li class="expanded first"><a href="../../../../../content/aegir-handbook/index.html">Aegir Handbook</a><ul class="menu"><li class="expanded first"><a href="../../../../../intro/index.html">Introduction to Aegir</a><ul class="menu"><li class="leaf first"><a href="../../../../../handbook/operating-system-support/index.html">Operating system support</a></li>
<li class="leaf"><a href="../../../../34/index.html">Project goals</a></li>
<li class="leaf"><a href="../../../../../project-history/index.html">Project history</a></li>
<li class="expanded"><a href="../../../../../faq/index.html">FAQ</a><ul class="menu"><li class="leaf first last"><a href="../../../../../faq/ubercart-integration-faq/index.html">Ubercart Integration FAQ</a></li>
</ul></li>
<li class="leaf"><a href="../../../../../intro/case-studies/index.html">Case Studies</a></li>
<li class="leaf last"><a href="../../../../../wikipedia-article/index.html">Wikipedia Article</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../help/index.html">Getting Help</a><ul class="menu"><li class="leaf first"><a href="../../../../../aegir-handbook/getting-help/troubleshooting-aegir/index.html">Troubleshooting Aegir</a></li>
<li class="leaf"><a href="../../../../../contact/index.html">Contact the community</a></li>
<li class="leaf"><a href="../../../../../bugs/index.html">Bug reporting guidelines</a></li>
<li class="leaf"><a href="../../../../../howtohelp/index.html">How to help?</a></li>
<li class="leaf"><a href="../../../../../donate/index.html">Donate to the Aegir project</a></li>
<li class="expanded last"><a href="../../../../../service-providers/index.html">Aegir Service Providers</a><ul class="menu"><li class="leaf first last"><a href="../../../../3/index.html">Shop resources</a></li>
</ul></li>
</ul></li>
<li class="expanded"><a href="../../../../../using/index.html">User Manual</a><ul class="menu"><li class="leaf first"><a href="../../../../19/index.html">Getting to know the interface</a></li>
<li class="expanded"><a href="../../../../43/index.html">Your site and Aegir</a><ul class="menu"><li class="leaf first"><a href="../../../../22/index.html">Installing a new website</a></li>
<li class="leaf"><a href="../../../../60/index.html">Site Aliases</a></li>
<li class="leaf"><a href="../../../../42/index.html">Resetting site password</a></li>
<li class="expanded"><a href="../../../../23/index.html">Migrating/upgrading and renaming websites</a><ul class="menu"><li class="leaf first"><a href="../../../../../migration-tips/index.html">Migration Tips</a></li>
<li class="leaf last"><a href="../../../../../content/renaming-aegir-hostmaster-site-itself/index.html">Renaming the Aegir hostmaster site itself</a></li>
</ul></li>
<li class="leaf"><a href="../../../../24/index.html">Cloning sites</a></li>
<li class="leaf"><a href="../../../../25/index.html">Disabling and Enabling sites</a></li>
<li class="leaf"><a href="../../../../45/index.html">Backup and Restore</a></li>
<li class="leaf"><a href="../../../../26/index.html">Deleting sites</a></li>
<li class="leaf"><a href="../../../../../open-id-tips-and-tricks/index.html">Open ID tips and tricks</a></li>
<li class="leaf last"><a href="../../../../../content/best-recipes-disaster-and-how-avoid-them/index.html">The best recipes for disaster and how to avoid them</a></li>
</ul></li>
<li class="expanded"><a href="../../../../20/index.html">Setting up a Platform</a><ul class="menu"><li class="leaf first"><a href="../../../../44/index.html">Verifying servers, platforms and sites</a></li>
<li class="leaf"><a href="../../../../27/index.html">Locking and Deleting platforms</a></li>
<li class="leaf last"><a href="../../../../256/index.html">Using drush_make to optimize workflow</a></li>
</ul></li>
<li class="leaf last"><a href="../../../../28/index.html">Client management and access control</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../administrator/index.html">Administrator Manual</a><ul class="menu"><li class="expanded first"><a href="../../../../../installing/index.html">Installation Guide</a><ul class="menu"><li class="leaf first"><a href="../../../../../content/installing/system-requirements/index.html">System Requirements</a></li>
<li class="expanded"><a href="../../../../../installing/debian/index.html">Automatic install on Debian</a><ul class="menu"><li class="leaf first last"><a href="../../../../../content/installing/debian/automatic-installation-ubuntu-1104-quickstart/index.html">Automatic Installation on Ubuntu 11.04+ (QuickStart)</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../installing/manual/index.html">Manual Installation</a><ul class="menu"><li class="expanded first"><a href="../../../../417/index.html">Mac OS X installation instructions</a><ul class="menu"><li class="leaf first"><a href="../../../../../content/apache-mysql-php-aegir/index.html">Apache / mySQL / PHP / Aegir</a></li>
<li class="leaf last"><a href="../../../../../content/nginx-mariadb-php-aegir-memp%c3%a6/index.html">nginx / MariaDB / PHP / Aegir (MEMPÆ)</a></li>
</ul></li>
<li class="leaf"><a href="../../../../../content/installing/manual/centos-6x-aegir-install-guide/index.html">Centos 6.x Aegir Install Guide</a></li>
<li class="leaf"><a href="../../../../../installing/manual/manual-install-web-cluster-aegir-using-nginx/index.html">Manual install of a web cluster aegir using nginx</a></li>
<li class="leaf last"><a href="../../../../../content/installing/manual/nginx-mariadb-php-fpm-single-server-installation/index.html">nginx / MariaDB / PHP-FPM Single Server Installation</a></li>
</ul></li>
<li class="leaf"><a href="../../../../462/index.html">Common installation problems</a></li>
<li class="leaf last"><a href="../../../../../installing/ubuntu-1004-specific-how-downgrade-php-52-install/index.html">Ubuntu 10.04 Specific : How to downgrade to php 5.2 before install</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../content/administrator/post-install-configuration/index.html">Post-install configuration</a><ul class="menu"><li class="expanded first"><a href="../../../../../content/content/administrator/post-install-configuration/importing-sites/index.html">Importing sites</a><ul class="menu"><li class="leaf first"><a href="../../../../../content/importing-existing-aegir-backups/index.html">Importing from existing Aegir backups</a></li>
<li class="leaf"><a href="../../../../../content/importing-single-site-manually/index.html">Importing a single site manually</a></li>
<li class="leaf"><a href="../../../../../content/importing-complete-drupal-platform/index.html">Importing a complete Drupal platform</a></li>
<li class="leaf"><a href="../../../../517/index.html">Setting up a test Aegir site from an existing one</a></li>
<li class="leaf last"><a href="../../../../426/index.html">Troubleshooting creating a platform or importing sites</a></li>
</ul></li>
<li class="expanded"><a href="../../../../30/index.html">Remote servers (multiserver)</a><ul class="menu"><li class="leaf first"><a href="../../../../396/index.html">Remote webserver configuration</a></li>
<li class="leaf"><a href="../../../../446/index.html">Adding a platform on a remote web server</a></li>
<li class="leaf last"><a href="../../../../../content/web-clusters/index.html">Web clusters</a></li>
</ul></li>
<li class="leaf"><a href="../../../../388/index.html">Setting Up Varnish &amp; Memcache with Aegir</a></li>
<li class="leaf"><a href="../../../../427/index.html">Working as aegir user</a></li>
<li class="leaf"><a href="../../../../341/index.html">Adding apache config files</a></li>
<li class="leaf"><a href="../../../../../content/content/administrator/post-install-configuration/using-ssl/index.html">Using SSL</a></li>
<li class="expanded"><a href="../../../../../administrator/dns/index.html">DNS</a><ul class="menu"><li class="leaf first last"><a href="../../../../../dnswildcard/index.html">DNS Wildcard Configuration</a></li>
</ul></li>
<li class="expanded"><a href="../../../../39/index.html">Hooking into Aegir (site overrides)</a><ul class="menu"><li class="leaf first"><a href="../../../../73/index.html">Injecting into server-wide vhosts</a></li>
<li class="leaf"><a href="../../../../72/index.html">Injecting into platform-wide vhosts (.htaccess)</a></li>
<li class="expanded"><a href="../../../../70/index.html">Injecting into site vhosts</a><ul class="menu"><li class="leaf first last"><a href="../../../../../content/overriding-site-specific-php-values/index.html">Overriding site-specific PHP values</a></li>
</ul></li>
<li class="leaf"><a href="../../../../71/index.html">Injecting into settings.php</a></li>
<li class="leaf last"><a href="../../../../../content/injecting-drushrcphp/index.html">Injecting into drushrc.php</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../contrib-modules/index.html">Contributed Modules</a><ul class="menu"><li class="leaf first"><a href="../../../../../contrib-modules/aegir-services/index.html">Aegir Services</a></li>
<li class="leaf"><a href="../../../../../content/contrib-modules/contribs-aegir-7x-3x/index.html">Contribs for Aegir 7.x-3.x</a></li>
<li class="expanded"><a href="../../../../../content/contrib-modules/devshop-provision/index.html">DevShop Provision</a><ul class="menu"><li class="leaf first last"><a href="../../../../../content/content/contrib-modules/devshop-provision/commands/index.html">Commands</a></li>
</ul></li>
<li class="leaf"><a href="../../../../../content/contrib-modules/provision-acl/index.html">Provision ACL</a></li>
<li class="leaf"><a href="../../../../516/index.html">Ubercart Integration</a></li>
<li class="leaf last"><a href="../../../../../contrib-modules/provision-civicrm/index.html">Provision CiviCRM</a></li>
</ul></li>
<li class="leaf"><a href="../../../../../content/content/administrator/post-install-configuration/create-sudo-user-server-administration/index.html">Create a SUDO user for server administration</a></li>
<li class="leaf"><a href="../../../../../content/content/administrator/post-install-configuration/experimental-aegir-2-ubuntu-1204-apache-php/index.html">Experimental: Aegir 2 on Ubuntu 12.04 with apache, php-fpm</a></li>
<li class="leaf last"><a href="../../../../../handbook/administrator/post-install-configuration/using-proxy-cache-accelerate-platform-build/index.html">Using a proxy cache to accelerate platform builds</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../upgrading/index.html">Upgrade Guide</a><ul class="menu"><li class="leaf first"><a href="../../../../../upgrading/manual/index.html">Manual Upgrade</a></li>
<li class="leaf"><a href="../../../../../upgrading/debian/index.html">Automatic upgrades with Debian packages</a></li>
<li class="leaf"><a href="../../../../../upgrading/script/index.html">Automatic upgrades with upgrade.sh script</a></li>
<li class="leaf last"><a href="../../../../../upgrading/path/index.html"> Version-specific &amp; upgrade path information</a></li>
</ul></li>
<li class="leaf"><a href="../../../../../uninstalling/index.html">Uninstalling Aegir</a></li>
<li class="leaf"><a href="../../../../../content/administrator/extracting-drupal-site-aegir/index.html">Extracting a Drupal site from Aegir</a></li>
<li class="expanded last"><a href="../../../../../content/administrator/troubleshooting-aegir/index.html">Troubleshooting Aegir</a><ul class="menu"><li class="leaf first"><a href="../../../../321/index.html">How to fix a stuck task</a></li>
<li class="leaf"><a href="../../../../../debugging/index.html">Debugging Aegir</a></li>
<li class="leaf last"><a href="../../../../../content/content/administrator/troubleshooting-aegir/strict-warning-error/index.html">&quot;strict warning&quot; error</a></li>
</ul></li>
</ul></li>
<li class="expanded"><a href="../../../../546/index.html">Community coordination guide</a><ul class="menu"><li class="leaf first"><a href="../../../../../content/release-process/index.html">Release process</a></li>
<li class="leaf"><a href="../../../../../debian/index.html">Building and working with the debian packages</a></li>
<li class="leaf"><a href="../../../../../roadmap/1/index.html">1.0 roadmap</a></li>
<li class="expanded"><a href="../../../../../roadmap/2/index.html">2.0 roadmap</a><ul class="menu"><li class="leaf first last"><a href="../../../../../roadmap/2.0/d7-port-dns-editor-plan-google-summer-code-2011/index.html">D7 port &amp; DNS editor plan (google summer of code 2011)</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../scrums/index.html">Weekly Scrums</a><ul class="menu"><li class="expanded first"><a href="../../../../../content/scrums/archive-2010/index.html">Archive: 2010</a><ul class="menu"><li class="leaf first"><a href="../../../../180/index.html">Weekly Scrum IRC Log: 2010-12-02</a></li>
<li class="leaf"><a href="../../../../196/index.html">Weekly Scrum IRC Log: 2010-12-09</a></li>
<li class="leaf"><a href="../../../../210/index.html">Weekly Scrum IRC Log: 2010-12-16</a></li>
<li class="leaf last"><a href="../../../../225/index.html">Weekly Scrum IRC Log: 2010-12-23</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../content/scrums/archive-2011/index.html">Archive: 2011</a><ul class="menu"><li class="leaf first"><a href="../../../../240/index.html">Weekly Scrum IRC Log: 2011-01-07</a></li>
<li class="leaf"><a href="../../../../250/index.html">Weekly Scrum IRC Log: 2011-01-14</a></li>
<li class="leaf"><a href="../../../../264/index.html">Weekly Scrum IRC Log: 2011-01-20</a></li>
<li class="leaf"><a href="../../../../280/index.html">Weekly Scrum IRC Log: 2011-01-27</a></li>
<li class="leaf"><a href="../../../../301/index.html">Weekly Scrum IRC Log: 2011-02-03</a></li>
<li class="leaf"><a href="../../../../340/index.html">Weekly Scrum IRC Log: 2011-02-10</a></li>
<li class="leaf"><a href="../../../../356/index.html">Weekly Scrum IRC Log: 2011-02-17</a></li>
<li class="leaf"><a href="../../../../383/index.html">Weekly Scrum IRC Log: 2011-02-23</a></li>
<li class="leaf"><a href="../../../../463/index.html">Weekly Scrum IRC Log: 2011-03-09</a></li>
<li class="leaf"><a href="../../../../490/index.html">Weekly Scrum IRC Log: 2011-03-15</a></li>
<li class="leaf"><a href="../../../../513/index.html">Weekly Scrum IRC Log: 2011-03-29</a></li>
<li class="leaf"><a href="../../../../541/index.html">Weekly Scrum IRC Log: 2011-04-05</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-04-12/index.html">Weekly Scrum IRC Log: 2011-04-12</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-04-19/index.html">Weekly Scrum IRC Log: 2011-04-19</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-04-26/index.html">Weekly Scrum IRC Log: 2011-04-26</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-05-03/index.html">Weekly Scrum IRC Log: 2011-05-03</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-05-10/index.html">Weekly Scrum IRC Log: 2011-05-10</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-05-24/index.html">Weekly Scrum IRC Log: 2011-05-24</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-05-31/index.html">Weekly Scrum IRC Log: 2011-05-31</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-06-07/index.html">Weekly Scrum IRC Log: 2011-06-07</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-06-21/index.html">Weekly Scrum IRC Log: 2011-06-21</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-06-28/index.html">Weekly Scrum IRC Log: 2011-06-28</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-07-05/index.html">Weekly Scrum IRC Log: 2011-07-05</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-07-12/index.html">Weekly Scrum IRC Log: 2011-07-12</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-07-19/index.html">Weekly Scrum IRC Log: 2011-07-19</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-07-26/index.html">Weekly Scrum IRC Log: 2011-07-26</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-08-02/index.html">Weekly Scrum IRC Log: 2011-08-02</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-09-13/index.html">Weekly Scrum IRC Log: 2011-09-13</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-09-20/index.html">Weekly Scrum IRC Log: 2011-09-20</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-09-27/index.html">Weekly Scrum IRC Log: 2011-09-27</a></li>
<li class="leaf"><a href="../../../../../scrums/weekly-scrum-irc-log-2011-10-18/index.html">Weekly Scrum IRC Log: 2011-10-18</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2011-11-01/index.html">Weekly Scrum IRC Log: 2011-11-01</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2011-11-14/index.html">Weekly Scrum IRC Log: 2011-11-14</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2011-11-21/index.html">Weekly Scrum IRC Log: 2011-11-21</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2011-11-28/index.html">Weekly Scrum IRC Log: 2011-11-28</a></li>
<li class="leaf last"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2011-12-12/index.html">Weekly Scrum IRC Log: 2011-12-12</a></li>
</ul></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-01-09/index.html">Weekly Scrum IRC Log: 2012-01-09</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-02-06/index.html">Weekly Scrum IRC Log: 2012-02-06</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-02-13/index.html">Weekly Scrum IRC Log: 2012-02-13</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-02-20/index.html">Weekly Scrum IRC Log: 2012-02-20</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-02-27/index.html">Weekly Scrum IRC Log: 2012-02-27</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-03-05/index.html">Weekly Scrum IRC Log: 2012-03-05</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-03-12/index.html">Weekly Scrum IRC Log: 2012-03-12</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-03-19/index.html">Weekly Scrum IRC Log: 2012-03-19</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-03-26/index.html">Weekly Scrum IRC Log: 2012-03-26</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-04-09/index.html">Weekly Scrum IRC Log: 2012-04-09</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-04-12/index.html">Weekly Scrum IRC Log: 2012-04-12</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-04-16/index.html">Weekly Scrum IRC Log: 2012-04-16</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-04-26/index.html">Weekly Scrum IRC Log: 2012-04-26</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-04-30/index.html">Weekly Scrum IRC Log: 2012-04-30</a></li>
<li class="leaf"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-05-10/index.html">Weekly Scrum IRC Log: 2012-05-10</a></li>
<li class="leaf last"><a href="../../../../../content/scrums/weekly-scrum-irc-log-2012-05-28/index.html">Weekly Scrum IRC Log: 2012-05-28</a></li>
</ul></li>
<li class="leaf"><a href="../../../../../roadmap/3/index.html">3.0 roadmap</a></li>
<li class="expanded"><a href="../../../../../maintainers/index.html">Aegir core team</a><ul class="menu"><li class="leaf first"><a href="../../../../../content/maintainers/aegir-co-maintainer-criteria/index.html">Aegir Co-maintainer Criteria</a></li>
<li class="leaf"><a href="../../../../../content/maintainers/aegir-project-leadership/index.html">Aegir Project Leadership</a></li>
<li class="leaf last"><a href="../../../../../content/maintainers/how-welcome-someone-core-team/index.html">How to welcome someone to the core team</a></li>
</ul></li>
<li class="leaf"><a href="../../../../../development-news/index.html">Development news</a></li>
<li class="leaf"><a href="../../../../../content/office-hours/index.html">Office hours</a></li>
<li class="expanded last"><a href="../../../../../release-notes/index.html">Release Notes</a><ul class="menu"><li class="leaf first"><a href="../../../../../3/index.html">3.0 release notes</a></li>
<li class="leaf"><a href="../../../../../3/index-2.html">3.0-rc1 release notes</a></li>
<li class="leaf"><a href="../../../../../3/index-3.html"> 3.0-beta2 release notes</a></li>
<li class="leaf"><a href="../../../../../2/index.html">2.4 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index.html">1.12 release notes</a></li>
<li class="expanded"><a href="../../../../../content/release-notes/30-alphas-betas-release-candidates/index.html">3.0 alphas, betas &amp; release candidates</a><ul class="menu"><li class="leaf first"><a href="../../../../../3/index-4.html">3.0-alpha1 release notes</a></li>
<li class="leaf last"><a href="../../../../../3/index-5.html">3.0-alpha2 release notes</a></li>
</ul></li>
<li class="leaf"><a href="../../../../../3/index-6.html">3.0-beta1 release notes</a></li>
<li class="expanded"><a href="../../../../../content/release-notes/older-2x-releases/index.html">Older 2.x releases</a><ul class="menu"><li class="leaf first"><a href="../../../../../2/index-2.html">2.1 release notes</a></li>
<li class="leaf"><a href="../../../../../2/index-3.html">2.0 release notes</a></li>
<li class="leaf"><a href="../../../../../2/index-4.html">2.2 release notes</a></li>
<li class="leaf"><a href="../../../../../2/index-5.html">2.3 release notes</a></li>
<li class="expanded last"><a href="../../../../../content/content/release-notes/older-2x-releases/20-alphas-betas-release-candidates/index.html">2.0 alphas, betas &amp; release candidates</a><ul class="menu"><li class="leaf first"><a href="../../../../../2/index-6.html">2.0-rc5 release notes</a></li>
<li class="leaf"><a href="../../../../../2/index-7.html">2.0-rc4 release notes</a></li>
<li class="leaf"><a href="../../../../../2/index-8.html">2.0-rc3 release notes</a></li>
<li class="leaf"><a href="../../../../../2/index-9.html">2.0-rc2 release notes</a></li>
<li class="leaf"><a href="../../../../../2/index-10.html">2.0-rc1 release notes</a></li>
<li class="leaf"><a href="../../../../../2/index-11.html">2.0-beta2 release notes</a></li>
<li class="leaf"><a href="../../../../../2/index-12.html">2.0-beta1 release notes</a></li>
<li class="leaf"><a href="../../../../../2/index-13.html">2.0-alpha2 release notes</a></li>
<li class="leaf last"><a href="../../../../../2/index-14.html">2.0-alpha1 release notes</a></li>
</ul></li>
</ul></li>
<li class="expanded"><a href="../../../../../content/release-notes/older-1x-releases/index.html">Older 1.x releases</a><ul class="menu"><li class="leaf first"><a href="../../../../../1/index-2.html">1.10 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-3.html">1.9 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-4.html">1.8 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-5.html">1.7 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-6.html">1.6 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-7.html">1.5 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-8.html">1.4 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-9.html">1.3 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-10.html">1.2 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-11.html">1.1 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-12.html">1.0 release notes</a></li>
<li class="expanded"><a href="../../../../../10-release-candidate/index.html">1.0 Release candidates</a><ul class="menu"><li class="leaf first"><a href="../../../../../1/index-13.html">1.0-rc7 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-14.html">1.0-rc6 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-15.html">1.0-rc5 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-16.html">1.0-rc4 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-17.html">1.0-rc3 release notes</a></li>
<li class="leaf"><a href="../../../../../1/index-18.html">1.0-rc2 release notes</a></li>
<li class="leaf last"><a href="../../../../../0/index.html">0.4-rc1 release notes</a></li>
</ul></li>
<li class="leaf last"><a href="../../../../../1/index-19.html">1.11 release notes</a></li>
</ul></li>
<li class="expanded last"><a href="../../../../../04-alpha-and-beta/index.html">0.4 alpha and beta releases</a><ul class="menu"><li class="leaf first"><a href="../../../../../0/index-2.html">0.4-beta2 release notes</a></li>
<li class="leaf"><a href="../../../../../0/index-3.html">0.4-beta1 release notes</a></li>
<li class="leaf"><a href="../../../../../0/index-4.html">0.4-alpha15 release notes</a></li>
<li class="leaf last"><a href="../../../../522/index.html">Previous release notes</a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="expanded"><a href="../../../../../developing/index.html">Developer Manual</a><ul class="menu"><li class="expanded first"><a href="../../../../31/index.html">Git repositories locations and instructions</a><ul class="menu"><li class="leaf first"><a href="../../../../185/index.html">A crash course in Git</a></li>
<li class="leaf"><a href="../../../../186/index.html">Basic git workflow: committing and pushing</a></li>
<li class="leaf"><a href="../../../../../content/branch-and-tagging-conventions/index.html">Branch and tagging conventions</a></li>
<li class="leaf last"><a href="../../../../385/index.html">The great git.drupal.org migration</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../developing/architecture/index.html">Architecture Guide</a><ul class="menu"><li class="leaf first"><a href="../../../../36/index.html">Aegir design and terminology</a></li>
<li class="leaf"><a href="../../../../../architecture/aegir-architecture/index.html">Aegir Architecture</a></li>
<li class="leaf"><a href="../../../../77/index.html">Aegir file system structure</a></li>
<li class="leaf"><a href="../../../../41/index.html">Provision - the Aegir backend.</a></li>
<li class="leaf"><a href="../../../../284/index.html">Messaging systems evaluation</a></li>
<li class="expanded"><a href="../../../../318/index.html">Provision contexts</a><ul class="menu"><li class="leaf first"><a href="../../../../319/index.html">Purpose</a></li>
<li class="leaf"><a href="../../../../320/index.html">Implementation</a></li>
<li class="leaf"><a href="../../../../322/index.html">Using contexts in your code</a></li>
<li class="leaf"><a href="../../../../323/index.html">Properties and services</a></li>
<li class="leaf last"><a href="../../../../325/index.html">Using services from contexts</a></li>
</ul></li>
<li class="leaf"><a href="../../../../324/index.html">Provision services</a></li>
<li class="leaf"><a href="../../../../../developing/architecture/unix-group-limitations/index.html">UNIX group limitations</a></li>
<li class="leaf last"><a href="../../../../494/index.html">Running drush on Aegir sites as a regular user</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../contrib/index.html">Extending Aegir</a><ul class="menu"><li class="leaf first"><a href="../../../../../dev-cheat-sheet/index.html">Aegir developer cheat sheet</a></li>
<li class="leaf"><a href="../../../index.html">Extending Aegir and communicating with install profiles</a></li>
<li class="expanded"><a href="../../../../108/index.html">E-Commerce Integration Roadmap</a><ul class="menu"><li class="leaf first last"><a href="../../../../../creating-product-features-using-uchosting-1x/index.html">Creating product features using uc_hosting 1.x</a></li>
</ul></li>
<li class="leaf"><a href="../../../../../content/contrib/class-auto-loading/index.html">Class auto-loading</a></li>
<li class="leaf"><a href="../../../../../contrib/customizing-platform-templates/index.html">Customizing Platform Templates</a></li>
<li class="leaf last"><a href="../../../../../content/contrib/passing-values-site-drushrcphp-file-during-migrations/index.html">Passing values into the site drushrc.php file during migrations</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../content/developing/integrating-aegir/index.html">Integrating Aegir</a><ul class="menu"><li class="leaf first"><a href="../../../../../content/content/developing/integrating-aegir/integrating-aegir-openssh/index.html">Integrating Aegir with OpenSSH</a></li>
<li class="leaf last"><a href="../../../../../content/content/developing/integrating-aegir/integrating-aegir-pureftp/index.html">Integrating Aegir with PureFTP</a></li>
</ul></li>
<li class="leaf"><a href="../../../../../developing/continuous-integration/index.html">Continuous Integration</a></li>
<li class="leaf last"><a href="../../../../../content/developing/despamming-guide/index.html">Despamming guide</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../presentation/index.html">Presentation &amp; Training Materials</a><ul class="menu"><li class="expanded first"><a href="../../../../../videos/index.html">Presentation videos</a><ul class="menu"><li class="leaf first"><a href="../../../../../drupalcamp-montreal-2010-antoine-beaupr%c3%a9-aegir-one-drupal-rule-them-all/index.html">2010 DrupalCamp Montreal: Antoine Beaupré -- Aegir: One Drupal to Rule Them All</a></li>
<li class="leaf"><a href="../../../../48/index.html">2010 DrupalCon Copenhagen - Aegir - One Drupal to Rule them All!</a></li>
<li class="leaf"><a href="../../../../92/index.html">2010 DrupalCamp LA - How Aegir Will Save Your Sanity</a></li>
<li class="leaf"><a href="../../../../50/index.html">2010 DrupalCon San Francisco - Aegir - One Drupal to Rule them All!</a></li>
<li class="leaf"><a href="../../../../51/index.html">2009 DrupalCon Paris - Automate your maintenance troubles away with the Aegir hosting system!</a></li>
<li class="leaf"><a href="../../../../52/index.html">2009 DrupalCon Paris - Aegir: Build Once, Deploy often: Real life use-cases </a></li>
<li class="leaf"><a href="../../../../56/index.html">2009 DrupalCon DC - Deploying and Maintaining Drupal Sites Using the Aegir Hosting System</a></li>
<li class="leaf"><a href="../../../../55/index.html">2008 DrupalCon Szeged - Deploying and maintaining Drupal sites using Aegir hosting system</a></li>
<li class="leaf"><a href="../../../../59/index.html">2009 Drupal Melbourne Meet Oct - Introduction to the Aegir Hosting System</a></li>
<li class="leaf"><a href="../../../../57/index.html">2009 DrupalCamp Montréal - Aegir - One Drupal to Rule them All!</a></li>
<li class="leaf"><a href="../../../../../videos/drupalcamp-spain-2011-aegir-one-drupal-rule-them-all-spanish/index.html">2011 DrupalCamp Spain -- Aegir: One Drupal to Rule Them All (Spanish)</a></li>
<li class="leaf"><a href="../../../../../videos/drupalcon-london-2011-aegir-based-business-models/index.html">2011 DrupalCon London -- Aegir Based Business Models</a></li>
<li class="leaf"><a href="../../../../../videos/drupalcon-london-2011-aegir-one-drupal-rule-them-all/index.html">2011 DrupalCon London -- Aegir: One Drupal to Rule Them All</a></li>
<li class="leaf"><a href="../../../../../content/videos/2014-drupal-melbourne-meetup-march-11-web-stacks-local-development/index.html">2014 Drupal Melbourne Meetup March 11 -- Web Stacks for local development</a></li>
<li class="leaf"><a href="../../../../../content/videos/2014-drupalcon-amsterdam-spidersnet-infinity-creating-site-factory-drupal-aegir/index.html">2014 DrupalCon Amsterdam: Spidersnet Infinity: Creating a Site Factory with Drupal &amp; Aegir</a></li>
<li class="leaf last"><a href="../../../../58/index.html">2009 Drupal Vancouver April meet - Automated Deployment with the Ægir Hosting System</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../presentation/screencasts/index.html">Screencasts</a><ul class="menu"><li class="leaf first"><a href="../../../../../presentation/screencasts/oct-2011-aegir-site-tasks-backup-restore-clone-migrate-friendlydrupalcom/index.html">Oct 2011 - Aegir Site Tasks: Backup, Restore, Clone, Migrate (friendlydrupal.com)</a></li>
<li class="leaf"><a href="../../../../../content/presentation/screencasts/oct-2011-zero-touch-drupal-deployment-jenkins-aegir-git-fabric-and-/index.html">Oct 2011 - Zero-Touch Drupal Deployment with Jenkins, Aegir, Git, Fabric and Drush</a></li>
<li class="leaf"><a href="../../../../../presentation/screencasts/oct-2011-install-platforms-and-sites-aegir-drupal-hosting-system-friendlydr/index.html">Oct 2011 - Install Platforms and Sites with Aegir Drupal Hosting System (friendlydrupal.com)</a></li>
<li class="leaf"><a href="../../../../../presentation/screencasts/oct-2011-install-aegir-drupal-hosting-platform-ubuntu-friendlydrupalcom/index.html">Oct 2011 - Install Aegir Drupal Hosting Platform on Ubuntu (friendlydrupal.com)</a></li>
<li class="leaf"><a href="../../../../183/index.html">Nov 2010 - Installing 0.4-beta1</a></li>
<li class="leaf"><a href="../../../../94/index.html">Nov 2010 - Upgrading Aegir</a></li>
<li class="leaf"><a href="../../../../49/index.html">Drupaldojo - Introduction to the Aegir Hosting System</a></li>
<li class="leaf"><a href="../../../../47/index.html">Building Drupal applications with Drush Make, provisioning sites with Aegir</a></li>
<li class="leaf"><a href="../../../../53/index.html">Deprecated: Aegir from Scratch - Installing 0.2 RC1</a></li>
<li class="leaf"><a href="../../../../54/index.html">Deprecated: Applying Drupal Security updates with Aegir</a></li>
<li class="leaf last"><a href="../../../../46/index.html">Deprecated: Installing Aegir 0.4 alpha5</a></li>
</ul></li>
<li class="leaf"><a href="../../../../472/index.html">Aegir Images</a></li>
<li class="expanded"><a href="../../../../../presentation/article-archive/index.html">Article archive</a><ul class="menu"><li class="leaf first"><a href="../../../../../article-archive/aegir-drupalcon-san-francisco/index.html">Aegir at DrupalCon San Francisco</a></li>
<li class="leaf"><a href="../../../../../article-archive/introduction-aegir-hosting-system/index.html">An introduction to the Aegir Hosting system</a></li>
<li class="leaf"><a href="../../../../../article-archive/drupal-deployments-workflows-version-control-drushmake-and-aegir/index.html">Drupal deployments &amp; workflows with version control, drush_make, and Aegir</a></li>
<li class="leaf"><a href="../../../../../content/presentation/article-archive/how-install-aegir-and-use-it-deploy-drupal-sites-debian-vps/index.html">How To Install Aegir and Use it to Deploy Drupal Sites on a Debian VPS</a></li>
<li class="leaf"><a href="../../../../../article-archive/test-your-drupal-distro-building-continuous-integration-server-aegir-jenkins/index.html">Test your Drupal distro: Building a continuous integration server with Aegir &amp; Jenkins</a></li>
<li class="leaf last"><a href="../../../../../article-archive/upgrading-aegir-itself-latest-version-drupal/index.html">Upgrading Aegir itself to the latest version of Drupal</a></li>
</ul></li>
<li class="expanded"><a href="../../../../../presentation/slidedecks/index.html">Slidedecks</a><ul class="menu"><li class="leaf first"><a href="../../../../../apple-keynote-theme-aegir-presentations/index.html">Apple Keynote Theme for Aegir Presentations</a></li>
<li class="leaf"><a href="../../../../../content/presentation/slidedecks/aegir-ecology-vs-drupal-gardens/index.html">Aegir Ecology vs Drupal Gardens</a></li>
<li class="leaf"><a href="../../../../../content/presentation/slidedecks/drupalcampnyc-aegir-based-business-models/index.html">DrupalCampNYC -- Aegir-based Business Models</a></li>
<li class="leaf"><a href="../../../../../presentation/slidedecks/drupalcon-london-2011-aegir-based-business-models/index.html">DrupalCon London 2011 -- Aegir-based Business Models</a></li>
<li class="leaf"><a href="../../../../../content/presentation/slidedecks/nyccamp-2015-aegir-30-deep-dive/index.html">NYCcamp 2015 - Aegir 3.0 deep dive</a></li>
<li class="leaf"><a href="../../../../478/index.html">OpenCamp in Dallas, TX - 2010</a></li>
<li class="leaf"><a href="../../../../../presentation/slidedecks/overview-aegir-and-devstageproduction/index.html">Overview of Aegir and Dev/Stage/Production</a></li>
<li class="leaf last"><a href="../../../../../using-aegir-drupal-hosting-and-management-drupalcampsc-2011-06-12/index.html">Using Aegir for Drupal Hosting and Management - DrupalCampSC (2011-06-12)</a></li>
</ul></li>
<li class="expanded last"><a href="../../../../474/index.html">Training Materials</a><ul class="menu"><li class="leaf first last"><a href="../../../../../drupalcon-training-aegir-hosting-system-deep-dive/index.html">DrupalCon Training - Aegir Hosting System: Deep Dive</a></li>
</ul></li>
</ul></li>
<li class="expanded last"><a href="../../../../../handbook/strategy/index.html">Strategy</a><ul class="menu"><li class="leaf first"><a href="../../../../../handbook/strategy/open-app-standard-draft/index.html">Open App Standard DRAFT</a></li>
<li class="leaf"><a href="../../../../../handbook/strategy/saas-business-model-spec/index.html">Software-as-a-Service Business Model Specification</a></li>
<li class="leaf last"><a href="../../../../../content/handbook/strategy/universities-using-aegir/index.html">Universities using Aegir</a></li>
</ul></li>
</ul></li>
<li class="expanded last"><a href="../../../../518/index.html">Archived documentation</a><ul class="menu"><li class="leaf first"><a href="../../../../418/index.html">HINTS_CentOS.txt</a></li>
<li class="leaf"><a href="../../../../246/index.html">Unofficial install script for Ubuntu 10.4 LTS</a></li>
<li class="leaf"><a href="../../../../79/index.html">Aegir API</a></li>
<li class="leaf"><a href="../../../../244/index.html">Aegir Virtual Appliance</a></li>
<li class="leaf"><a href="../../../../416/index.html">Solaris installation instructions hints</a></li>
<li class="leaf"><a href="../../../../414/index.html">UPGRADE.txt</a></li>
<li class="leaf"><a href="../../../../415/index.html">alien-cms-integration.txt</a></li>
<li class="leaf"><a href="../../../../316/index.html">Migrating Aegir to Aegir</a></li>
<li class="leaf last"><a href="../../../../../drupalcon-2011-london-sessions/index.html">DrupalCon 2011 London sessions</a></li>
</ul></li>
</ul></li>
</ul>    </div>
  
  </div>


</div></div>

  </div></div>

    <div id="footer"><div class='limiter clear-block'>
        <ul class="links"><li class="atrium first last"><a href="http://www.openatrium.com/" target="_blank">OpenAtrium.com</a></li>
</ul>  </div></div>
  
  <div id='palette'>  

<div  id="block-atrium-help" class="block block-atrium">
      <div class='block-title'>
            <span class='close'></span>Need help?    </div>
  
  
      <div class='block-content clear-block '>
      

<div  id="help-text" class="path-admin-help clear-block toggleable">
  
    
  
  
  
      <div class='help-content clear-block prose'>
      <span class='icon'></span><h3>Documentation</h3><p>The notebook section provides a way for you to store and share information with your group members. With the book feature you can:</p><ul><li><a href="../../../../add/book/index.html">Add book pages</a> and organize them hierarchically into different books.</li><li>Attach files to pages to share them with others.</li><li>Track changes that others have made and revert changes as necessary.</li><li><a href="../../../../../notebook/archived/index.html">Archive</a> books that are no longer of interest to the group. Archived books can be reactivated later if needed.</li></ul>
<p>The revisions let you track differences between multiple versions of a post.</p>
    </div>
  
  </div>


    </div>
  
  </div>


</div>
  
  </body>

<!-- Mirrored from community.aegirproject.org/node/75/revisions/179/view by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 17:21:31 GMT -->
</html>
