<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from community.aegirproject.org/node/13156/revisions/15981/view?print&book_recurse by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 18:13:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="prev" href="../../../../../3/index-6.html" />
<link rel="up" href="../../../../../release-notes/index.html" />
<link rel="next" href="../../../../../2/index-2.html" />
<link rel="prev" href="../../../../../3/index-6.html" />
<link rel="up" href="../../../../../release-notes/index.html" />
<link rel="next" href="../../../../../2/index-2.html" />
<link rel="prev" href="../../../../../3/index-6.html" />
<link rel="up" href="../../../../../release-notes/index.html" />
<link rel="next" href="../../../../../2/index-2.html" />
<link rel="canonical" href="index.html" />
<link rel="prev" href="../../../../../content/release-notes/older-2x-releases/index.html" />
<link rel="up" href="../../../../../content/release-notes/older-2x-releases/index.html" />
<link rel="next" href="../../../../../2/index-3.html" />
<link rel="prev" href="../../../../../2/index-2.html" />
<link rel="up" href="../../../../../content/release-notes/older-2x-releases/index.html" />
<link rel="next" href="../../../../../2/index-4.html" />
<link rel="prev" href="../../../../../2/index-3.html" />
<link rel="up" href="../../../../../content/release-notes/older-2x-releases/index.html" />
<link rel="next" href="../../../../../2/index-5.html" />
<link rel="prev" href="../../../../../2/index-4.html" />
<link rel="up" href="../../../../../content/release-notes/older-2x-releases/index.html" />
<link rel="next" href="../../../../../content/content/release-notes/older-2x-releases/20-alphas-betas-release-candidates/index.html" />
<link rel="prev" href="../../../../../2/index-5.html" />
<link rel="up" href="../../../../../content/release-notes/older-2x-releases/index.html" />
<link rel="next" href="../../../../../2/index-6.html" />
<link rel="prev" href="../../../../../content/content/release-notes/older-2x-releases/20-alphas-betas-release-candidates/index.html" />
<link rel="up" href="../../../../../content/content/release-notes/older-2x-releases/20-alphas-betas-release-candidates/index.html" />
<link rel="next" href="../../../../../2/index-7.html" />
<link rel="prev" href="../../../../../2/index-6.html" />
<link rel="up" href="../../../../../content/content/release-notes/older-2x-releases/20-alphas-betas-release-candidates/index.html" />
<link rel="next" href="../../../../../2/index-8.html" />
<link rel="prev" href="../../../../../2/index-7.html" />
<link rel="up" href="../../../../../content/content/release-notes/older-2x-releases/20-alphas-betas-release-candidates/index.html" />
<link rel="next" href="../../../../../2/index-9.html" />
<link rel="prev" href="../../../../../2/index-8.html" />
<link rel="up" href="../../../../../content/content/release-notes/older-2x-releases/20-alphas-betas-release-candidates/index.html" />
<link rel="next" href="../../../../../2/index-10.html" />
<link rel="prev" href="../../../../../2/index-9.html" />
<link rel="up" href="../../../../../content/content/release-notes/older-2x-releases/20-alphas-betas-release-candidates/index.html" />
<link rel="next" href="../../../../../2/index-11.html" />
<link rel="prev" href="../../../../../2/index-10.html" />
<link rel="up" href="../../../../../content/content/release-notes/older-2x-releases/20-alphas-betas-release-candidates/index.html" />
<link rel="next" href="../../../../../2/index-12.html" />
<link rel="prev" href="../../../../../2/index-11.html" />
<link rel="up" href="../../../../../content/content/release-notes/older-2x-releases/20-alphas-betas-release-candidates/index.html" />
<link rel="next" href="../../../../../2/index-13.html" />
<link rel="prev" href="../../../../../2/index-12.html" />
<link rel="up" href="../../../../../content/content/release-notes/older-2x-releases/20-alphas-betas-release-candidates/index.html" />
<link rel="next" href="../../../../../2/index-14.html" />
<link rel="prev" href="../../../../../2/index-13.html" />
<link rel="up" href="../../../../../content/content/release-notes/older-2x-releases/20-alphas-betas-release-candidates/index.html" />
<link rel="next" href="../../../../../content/release-notes/older-1x-releases/index.html" />
<link rel="shortcut icon" href="../../../../../sites/community.aegirproject.org/themes/up/favicon/index.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="print" href="../../../../../sites/community.aegirproject.org/files/css/css_5fa73dc3677977c016a597acd186e4e7/index.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../../../../sites/community.aegirproject.org/files/css/css_5fa73dc3677977c016a597acd186e4e7/index.css" />

  <title>Revision of Older2.x releases from Wed, 05/20/2015 - 19:00 | community.aegirproject.org</title>
</head>

<body  class="print rubik admin-static page">
  <div class='limiter clear-block'>
    <div id='content' class='clear-block'>
      <div class='print-header'>
      <h1 class='site-name'>community.aegirproject.org</h1>
  </div>
      

<div  id="node-13156" class="node node-book clear-block node-page">
  
      <h2 class='node-title'>
            <a href="../../../../../content/release-notes/older-2x-releases/index.html">Older2.x releases</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div id='diff-inline-13156'><div class='diff-inline-metadata clear-block'><div class='diff-inline-byline'>Updated by <a href="../../../../../users/helmo/index.html" class="username" title="View user profile.">helmo</a> on 05/20/2015 - 19:00</div><div class='diff-inline-legend clear-block'><label>Legend</label><span class='diff-added'>Added</span><span class='diff-changed'>Changed</span><span class='diff-deleted'>Deleted</span></div></div><p>This section documents all the older releases in the 2.x release cycle.</p></div>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-156.html?destination=node%2F13156%23comment-form">Login</a> or <a href="../../../../../user/register/index-156.html?destination=node%2F13156%23comment-form">register</a> to post comments</span></li>
<li class="print active"><a href="index-2.html?print" class="active">Print</a></li>
<li class="print_recurse active"><a href="index-3.html?print&amp;book_recurse" class="active">Print entire section</a></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-156.html?destination=node%2F13156%23comment-form">Login</a> or <a href="../../../../../user/register/index-156.html?destination=node%2F13156%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>



<div  id="node-2879" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../2/index-2.html">2.1 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div class='field terms clear-block'><span class='field-label-inline-first'>Tagged:</span> <ul class="links inline"><li class="taxonomy_term_4 first"><a href="../../../../../taxonomy/term/4/index.html" rel="tag" title="This level is for users who have access to only their sites and not able to manage all Aegir features, accounts or the server/system.">Client</a></li>
<li class="taxonomy_term_27"><a href="../../../../../category/level/developer/index.html" rel="tag" title="This level is generally for users interested in further developing the Aegir system itself, or extending it with contributed modules.">Developer</a></li>
<li class="taxonomy_term_3"><a href="../../../../../taxonomy/term/3/index.html" rel="tag" title="This level is for users, who are using hosted Aegir version, without access to the server root, with features limited to those allowed by their host, and often with Aegir UI changed/simplified.">Hosted</a></li>
<li class="taxonomy_term_2 last"><a href="../../../../../taxonomy/term/2/index.html" rel="tag" title="This level is generally for users with the root access to their server, who are responsible for installation and configuration of entire Aegir system environment.">Sysadmin</a></li>
</ul></div><p>The Aegir team is proud to announce the second release in the stable 2.x release branch!</p>

<p>But first, here's a word from Antoine Beaupr√©:</p>

<blockquote>
  <p>This latest release of the Aegir project will be the last one for me as a release manager, as I will be stepping down from the leadership position I have filled in the 7 years of involvement in this amazing project. I will continue to contribute to the project, to a lesser extent. I will remain available, through <a href="http://koumbit.org/">Koumbit</a>, to provide high-level consulting work for Aegir. We can also now welcome <a href="http://praxis.coop/">Praxis Labs Coop</a> as a new consulting partner of the Aegir project. Praxis will help to finance ongoing Aegir development by subsidizing part of my salary, in a similar fashion to how Omega8.cc had in the past.</p>
  
  <p>Working with the Aegir project was a huge challenge, both from a technical perspective, but also from a human standpoint, as it is a large and complex project that may seem daunting for new users. But with regular releases and continuous support in the issue queue, I think we have been able to foster a great community of contributors that goes beyond what a single person can do, as Adrian proved when he left the project with the <a href="../../../../../1/index-12.html">1.0 release</a> in 2011. Christopher (ergonlogic) and other contributors have shown they are in a good position to take over that leadership role, and will do so from now on.</p>
  
  <p>Now it is my turn to move on, and I am quite proud of what I leave behind. This project allowed me to travel around the world, meet incredible people and learn a lot about hosting and provisioning. It is however time for me to move on. I have been involved with the Drupal community for over 13 years, and things, to put it lightly, have changed. PHP is attempting to become a real programming language, something that I didn't believe could or should happen, and I wish to move on to other paradigms. Python and Haskell are waiting for me around this turn in the road, and even Perl and shell scripting look awesome in comparison to those <a href="http://me.veekun.com/blog/2012/04/09/php-a-fractal-of-bad-design/">dreaded PHP years</a>. Besides, since Aegir started, lots of configuration management systems have popped up that we can leverage to host way more than PHP and Drupal: Docker, Chef, Puppet hold lots of promise for those of us who dare to get out of the NIH syndrome. Hopefully, that energy will be reusable in the Aegir project as we head towards Aegir 4!</p>
</blockquote>

<p>And so, thank you, Antoine, for all your great contributions as leader of the Aegir project! You have been an inspiration to many of us, and have provided superbly <a href="https://medium.com/tech-talk/b193a544e771">effective technical leadership</a>.</p>

<p>This release ships with support for Apache 2.4, along with updates to Drupal core and ModalframeAPI. A number of bug-fixes are included affecting deployment of Drupal 7 sites, aliases with sub-directory installs, backups, among other things. See below for the full lists of new features and bug fixes. Everyone is encouraged to upgrade.</p>

<script type="text/javascript">toc_collapse=0;</script><div class="toc" id="toc">
<div class="toc-title">Table of Contents<span class="toc-toggle-message">&nbsp;</span></div>
<div class="toc-list">
<ol>
	<li class="toc-level-1"><a href="#Installing_and_upgrading"><span class="toc-number">1. </span>Installing and upgrading</a></li>
	<li class="toc-level-1"><a href="#Need_help"><span class="toc-number">2. </span>Need help?</a></li>
	<li class="toc-level-1"><a href="#Known_issues"><span class="toc-number">3. </span>Known issues</a></li>
	<li class="toc-level-1"><a href="#Features"><span class="toc-number">4. </span>Features</a></li>
	<li class="toc-level-1"><a href="#Bug_fixes"><span class="toc-number">5. </span>Bug fixes</a></li>
</ol>
</div>
</div>

<h2 id="Installing_and_upgrading">1. Installing and upgrading</h2>

<p>The canonical source of installation documentation is on the community site at:</p>

<pre><code>http://community.aegirproject.org/installing
</code></pre>

<p>In a similar fashion, the upgrade documentation is at:</p>

<pre><code>http://community.aegirproject.org/upgrading
</code></pre>

<p>Within those sections, you'll find step-by-step instructions for performing both <a href="../../../../../upgrading/manual/index.html">manual</a> and <a href="../../../../../upgrading/script/index.html">automatic</a> upgrade processes.</p>

<p>It is still imperative that you read the the <a href="../../../../../upgrading/path/index.html">upgrade path and version-specific information</a> and follow all version-specific upgrade instructions before trying to run the upgrade script or manual upgrade. This especially applies to users upgrading from releases prior to 0.4-alpha8, including 0.3.</p>

<p>For users coming from the 0.4 betas or rc releases, there are unlikely to be any version-specific manual steps required to upgrade, but you should make a habit of reading them anyway just to make sure. Noone likes a nasty surprise!</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Need_help">2. Need help?</h2>

<p>If you struggle to install or upgrade your Aegir system, you have a number of options available to you for getting help.</p>

<p>Consult this page for more information: <a href="../../../../../help/index.html" title="http://community.aegirproject.org/help">http://community.aegirproject.org/help</a></p>

<p>Thanks to our awesome <a href="../../../../../index.html">community</a> for their help, support and encouragement as always! Enjoy the new release :)</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Known_issues">3. Known issues</h2>

<p>Being really open about our project, we have never hidden the fact that some things, sometimes, do not work in Aegir. Our <a href="http://drupal.org/project/issues?text=&amp;projects=provision%2C%20hosting%2C%20hostslave%2C%20eldir%2C%20Hostmaster%20%28Aegir%29&amp;status=Open&amp;priorities=All&amp;categories=All">issue trackers</a> are public, and we've made it a point of honor not only to document clearly what is wrong in our releases as soon as we find out about it, but also to reroll new releases when we fix it.</p>

<p>That being said, 2.1 still has a number of issues and design flaws. This is the list of <a href="https://drupal.org/project/issues?projects=provision%2C+hosting%2C+hostslave%2C+eldir%2C+Hostmaster+%28Aegir%29&amp;priorities=300">all issues marked "major" in the queue right now</a>. Most issues are now likely to be fixed in the 3.x development branch, and unlikely to be backported unless considered critical.</p>

<ul>
<li><code>hosting-queued</code> doesn't get properly re-enabled on upgrades, see <a href="https://drupal.org/node/2114675">#2114675</a> for a workaround.</li>
<li>previous Debian packages may remove the <code>aegir.conf</code> symlink before being upgraded. this is fixed in 2.0 but will occur (it's inevitable) during upgrades from 1.x releases. details and simple workaround in <a href="https://drupal.org/node/2121263">#2121263</a></li>
</ul>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Features">4. Features</h2>

<ul>
<li>Apache 2.4 is now supported in the 1.x and 2.x branches, see <a href="https://drupal.org/node/2153929">#2153929</a> and <a href="https://drupal.org/node/2155445">#2155445</a></li>
<li>updated core to Drupal 6.31</li>
<li><a href="https://drupal.org/node/2191827">#2191827</a> by Jon Pugh: Update modalframe</li>
</ul>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Bug_fixes">5. Bug fixes</h2>

<ul>
<li><a href="https://drupal.org/node/2157785">#2157785</a> by helmo: Deploy_7 code lacks functionality from D6 code</li>
<li><a href="https://drupal.org/node/2169025">#2169025</a> by gboudrias: Fix non-gzipped backups can't be restored</li>
<li><a href="https://drupal.org/node/2213387">#2213387</a> by Chris Moates: Fix alias handling when using subdirs support</li>
<li>Cleanup some file permissions from 755 to 644</li>
<li><a href="https://drupal.org/node/2213787">#2213787</a> by SocialNicheGuru, helmo: Undefined property: stdClass::$ssl_key_new hosting_ssl.nodeapi.inc:252</li>
<li>Fixed reference in comment and cleanup notices</li>
<li><a href="https://drupal.org/node/2171075">#2171075</a> by helmo: Fix hostmaster-resume command options. (3 months ago) </li>
<li><a href="https://drupal.org/node/2189687">#2189687</a> Redirect to site-alias not working </li>
</ul><div class="toc-back-to-top"><a href="#toc">Back to top</a></div><script type="text/javascript">toc_scroll_back_to_top = 1;</script>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-157.html?destination=node%2F2879%23comment-form">Login</a> or <a href="../../../../../user/register/index-157.html?destination=node%2F2879%23comment-form">register</a> to post comments</span></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-157.html?destination=node%2F2879%23comment-form">Login</a> or <a href="../../../../../user/register/index-157.html?destination=node%2F2879%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>




<div  id="node-2850" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../2/index-3.html">2.0 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div class='field terms clear-block'><span class='field-label-inline-first'>Tagged:</span> <ul class="links inline"><li class="taxonomy_term_4 first"><a href="../../../../../taxonomy/term/4/index.html" rel="tag" title="This level is for users who have access to only their sites and not able to manage all Aegir features, accounts or the server/system.">Client</a></li>
<li class="taxonomy_term_27"><a href="../../../../../category/level/developer/index.html" rel="tag" title="This level is generally for users interested in further developing the Aegir system itself, or extending it with contributed modules.">Developer</a></li>
<li class="taxonomy_term_3"><a href="../../../../../taxonomy/term/3/index.html" rel="tag" title="This level is for users, who are using hosted Aegir version, without access to the server root, with features limited to those allowed by their host, and often with Aegir UI changed/simplified.">Hosted</a></li>
<li class="taxonomy_term_2 last"><a href="../../../../../taxonomy/term/2/index.html" rel="tag" title="This level is generally for users with the root access to their server, who are responsible for installation and configuration of entire Aegir system environment.">Sysadmin</a></li>
</ul></div><p>The Aegir team is very pleased to announce the official release of Aegir 2.0.0. This long-awaited release ships with significant stability improvements, Drush 5 and 6 support, subdirectory multisite support, improved nginx support, native views and much, much more! We unfortunately had to drop support for Drupal 5, as Drush 5 and 6 dropped support for this unsupported Drupal release.</p>

<p>This release deprecates the 1.x branch, marking the 1.11 release as the last one of the 1.x branch. All Aegir users are strongly encouraged to upgrade to the 2.0 release. The upgrade has been thoroughly tested and works fairly reliably, except some documented minor issues.</p>

<p>We have a very dynamic community of contrib developers, and various projects built atop Aegir. So if you were waiting for Aegir 2 to be stable, easy to install, production-ready, now is the time. The 2.x branch will be well supported as a lot of shops are running it in production already.</p>

<script type="text/javascript">toc_collapse=0;</script><div class="toc" id="toc1">
<div class="toc-title">Table of Contents<span class="toc-toggle-message">&nbsp;</span></div>
<div class="toc-list">
<ol>
	<li class="toc-level-1"><a href="#Major_changes_in_this_release"><span class="toc-number">1. </span>Major changes in this release</a>
<ol>
	<li class="toc-level-2"><a href="#x_branch_maintenance_policy"><span class="toc-number">1.1. </span>2.x branch maintenance policy</a></li>
	<li class="toc-level-2"><a href="#The_future"><span class="toc-number">1.2. </span>The future</a></li>
</ol>
</li>
	<li class="toc-level-1"><a href="#Installing_and_upgrading"><span class="toc-number">2. </span>Installing and upgrading</a>
<ol>
	<li class="toc-level-2"><a href="#Need_help"><span class="toc-number">2.1. </span>Need help?</a></li>
	<li class="toc-level-2"><a href="#Known_issues"><span class="toc-number">2.2. </span>Known issues</a></li>
</ol>
</li>
	<li class="toc-level-1"><a href="#Complete_list_of_changes"><span class="toc-number">3. </span>Complete list of changes</a>
<ol>
	<li class="toc-level-2"><a href="#API_changes"><span class="toc-number">3.1. </span>API changes</a></li>
	<li class="toc-level-2"><a href="#New_features"><span class="toc-number">3.2. </span>New features</a></li>
	<li class="toc-level-2"><a href="#Bugfixes"><span class="toc-number">3.3. </span>Bugfixes</a></li>
	<li class="toc-level-2"><a href="#Other_issues"><span class="toc-number">3.4. </span>Other issues</a></li>
</ol>
</li>
</ol>
</div>
</div>

<h1 id="Major_changes_in_this_release">1. Major changes in this release</h1>

<p>Since th 1.0 stable release (<a href="../../../../../1/index-12.html">1.0</a>) in April 2011, we've done an incredible amount of work. The code size nearly doubled as did the development team and user base. We have accomplished a significant number of the <a href="../../../../../roadmap/2/index.html">release goals we set for 2.0</a>, but not all. Here is a broad breakdown of the most important improvements between the 1.11 and 2.0 releases:</p>

<ul>
<li>Subdirectory multisite support

<ul>
<li>you can now have different sites in example.com/foo and example.com/bar, a great feature if you do not control DNS, as well as for local development!</li>
</ul></li>
<li>SSL improvements

<ul>
<li>IP allocation improvement: addresses can be changed, added and removed more easily, and are managed from the front-end now.</li>
<li>SSL certificate generation now has saner defaults (e.g. 2048bits)</li>
<li>better error handling</li>
</ul></li>
<li>Drush 5 &amp; 6 support

<ul>
<li>includes better support for archive-dump command</li>
<li>means we also drop the dependency on drush make 2.3, now included in Drush 5</li>
<li>support for Drush 4 has been dropped, the minimum version is now 5.5, but Drush 6 or 5.10+ is recommended.</li>
</ul></li>
<li>Packaging improvements and changes

<ul>
<li>Nginx support in the Debian package</li>
<li>now a "native" debian package</li>
<li>package name changed: it is now <code>aegir2</code>, <code>aegir2-provision</code>, etc, to avoid overwriting the previous package - note that aegir 1 and 2 can <em>not</em> be installed in parallel</li>
<li>hosting and eldir now split back in their own projects on dripal.org</li>
<li>using Drupal.org packaging tools to provide a full tarball for the whole frontend, speeding up installs significantly</li>
</ul></li>
<li>Nginx improvements:

<ul>
<li>fixed support for nginx 1.3 and newer</li>
<li>better defaults for caching</li>
<li>SSL and Nginx are now officially supported (not marked as "experimental")</li>
</ul></li>
<li>New modules:

<ul>
<li>the <code>hosting-queue-runner</code> module is now <a href="https://drupal.org/node/1189556">merged into core</a> as <code>hosting-queued</code></li>
<li>"pack" module, designed as a lightweight replacement to the "cluster" module, now available as an experimental extension</li>
</ul></li>
<li>Hosting-queued improvements

<ul>
<li>run with a lower priority ("<em>niced</em>")</li>
<li>improved portability and reliability of startup script</li>
<li>enabled by default in the Debian package</li>
<li>improved stability</li>
</ul></li>
<li>Code refactoring and improvements:

<ul>
<li>now using the Symphony autoloading code</li>
<li>fix coding style in a lot of source files</li>
<li>improved builtin test suite</li>
</ul></li>
<li>Frontend improvements:

<ul>
<li>all custom displays ported to Views and VBO</li>
<li>nicer frontpage</li>
<li>new and improved roles with more useful default permission sets</li>
</ul></li>
<li>Documentation improvements:

<ul>
<li>Our documentation initiative to <a href="http://drupal.org/node/1111254">better document the Hostmaster API</a> has progressed nicely</li>
<li>we'll be launching an updated version of our <a href="http://api.aegirproject.org/">API site</a> (along the lines of api.drupal.org) shortly, to ease exploring the code-base of the Aegir Project, see <a href="http://drupal.org/node/1111254#comment-4287518">this issue</a>. </li>
</ul></li>
</ul>

<p>For a more detailed list of new functionalities, bugfixes and API changes, see below.</p>

<p>Some goals of the <a href="../../../../../roadmap/2/index.html">original 2.0 roadmap</a> have <em>not</em> been accomplished, namely:</p>

<ul>
<li>modular backup, platform and queuing systems - although work has started on Wordpress support, and an overhaul of the Aegir architecture is considered for 4.0, which will affect queuing systems (see below)</li>
<li>DNS, PostgreSQL and statistics efforts have mostly stalled</li>
<li>clone and migrate optimizations still have to be completed</li>
<li>completely automatic upgrades have not been implemented, although the Debian package upgrades are working generally well</li>
<li>the release was about 2 months late from the <a href="../../../../../discuss/another-stab-short-and-long-term-roadmap-aegir-2x-and-3x/index.html">october 31st estimate</a></li>
</ul>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="x_branch_maintenance_policy">1.1. 2.x branch maintenance policy</h2>

<p>With the 2.0 release, the Aegir project wished to adopt the growing standard of <a href="http://semver.org/">Semantic Versioning</a>. Unfortunately, the tools on Drupal.org <a href="https://drupal.org/node/1612910">do not allow 3-digits version numbers in contrib</a>, something of a blocker to allow us to use that great numbering scheme. So we will stick to our previous scheme for now, but we'll consider a switch to semver for 3.0.0.</p>

<p>No API change will be done in the 2.x branch. All core development will now happen on the 3.x branch, which shifts the focus of development to the port of the frontend to Drupal 7 (almost complete).</p>

<p>Note that the 2.x API has already been frozen for some time, since the first release candidate, to be more precise. Major changes to 2.x will not be committed unless they are first tested in 3.x and merged back. However, we wish the 2.x branch to be relatively short-lived, and it is more likely that major changes will <em>not</em> be backported from 3.x unless absolutely necessary for users needing a Drupal 6 Aegir frontend.</p>

<p>The 1.x branch is now deprecated and the 1.11 release will be the last release of that venerable branch, unless we need another release to fix the upgrade path to the 2.x branch. This is considered very unlikely. Security fixes or critical issues will therefore <em>not</em> be backported to the 1.x branch.</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="The_future">1.2. The future</h2>

<p>While we're very proud of what we've accomplished in Aegir 2.0, we've also been working in parallel to port Aegir to Drupal 7. Aegir 3.0 has already begun as a fairly straight-forward port. As such, we'll be releasing our first alpha of Aegir 3 shortly. We would like to have a stable Aegir 3.0 release before the release of Drupal 8, to allow for users to transition as Drupal 6 enters its end-of-life phase.</p>

<p>The reason for the change to semantic versioning is that we've been discussing a full re-write of Aegir for some time, and would like to do so with Aegir 4. The changes are likely to be fairly drastic, and so we want to be able to keep moving Aegir 3 forward in the mean time. By moving to Drupal 7, we expect to have bought ourselves 2+ years of breathing room within which to accomplish this re-architecture and the semantic versioning system allows us to integrate major changes in the 3.x branch progressively.</p>

<p>When the Aegir project started (back in 2008), the free software options for systems management software were very limited. As a result, we wrote our own code to do things like deploying code, writing configuration files, starting and stopping services, and so forth. Now, as 2014 begins, there are a wealth of tools that perform  these functions (e.g. Puppet and Chef, but also Openshift, Docker, etc), each with their own communities supporting them. We are exploring how we might be able to leverage these tools, rather than maintaining our own partial implementations, that will never likely be as robust as these more specialized projects.</p>

<p>We feel that the time is opportune since Drupal 8 will require significant re-writing of the front-end components. In addition, re-writing the backend so completely will allow us to seriously consider moving to a programming language other than PHP; one that would be better suited to the project's long-term goals, such as Python or Ruby.</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h1 id="Installing_and_upgrading">2. Installing and upgrading</h1>

<p>The canonical source of installation documentation is on the community site at:</p>

<pre><code>http://community.aegirproject.org/installing
</code></pre>

<p>In a similar fashion, the upgrade documentation is:</p>

<pre><code>http://community.aegirproject.org/upgrading
</code></pre>

<p>Within those sections you'll find step-by-step instructions for performing both <a href="../../../../../upgrading/manual/index.html">manual</a> and <a href="../../../../../upgrading/script/index.html">automatic</a> upgrade processes.</p>

<p>It is still imperative that you read the the <a href="../../../../../upgrading/path/index.html">upgrade path and version-specific information</a> and follow all version-specific upgrade instructions before trying to run the upgrade script or manual upgrade.</p>

<p>For users coming from the 2.0 betas or recent rc releases, there are unlikely to be any version-specific manual steps required to upgrade, but you should make a habit of reading them anyway just to make sure. No-one likes a nasty surprise!</p>

<p>Note that you should upgrade to the latest 1.x release (currently: <a href="../../../../../1/index-3.html">1.9</a>) before attempting the upgrade to 2.x. This is especially important if you are running a pre-1.0 release (poor you!).</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Need_help">2.1. Need help?</h2>

<p>If you struggle to install or upgrade your Aegir system, you have a number of options available to you for getting help.</p>

<p>Consult this page for more information: <a href="../../../../../help/index.html" title="http://community.aegirproject.org/help">http://community.aegirproject.org/help</a></p>

<p>Thanks to our awesome <a href="../../../../../index.html">community</a> for their help, support and encouragement as always! Enjoy the new release :)</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Known_issues">2.2. Known issues</h2>

<p>Being really open about our project, we have never hidden the fact that some things, sometimes, do not work in Aegir. Our <a href="http://drupal.org/project/issues?text=&amp;projects=provision%2C%20hosting%2C%20hostslave%2C%20eldir%2C%20Hostmaster%20%28Aegir%29&amp;status=Open&amp;priorities=All&amp;categories=All">issue trackers</a> are public, and we've made it a point of honor not only to document clearly what is wrong in our releases as soon as we find out about it, but also to reroll new releases when we fix it.</p>

<p>That being said, 2.0 still has a number of issues and design flaws. This is the list of <a href="https://drupal.org/project/issues?text=&amp;projects=provision,+hosting,+hostslave,+eldir,+Hostmaster+(Aegir)&amp;status=Open&amp;priorities=4&amp;categories=All">all issues marked "major" in the queue right now</a>. Most issues are now likely to be fixed in the 3.x development branch, and unlikely to be backported unless considered critical.</p>

<ul>
<li><code>hosting-queued</code> doesn't get properly re-enabled on upgrades, see <a href="https://drupal.org/node/2114675">#2114675</a> for a workaround.</li>
<li>Ubuntu saucy has some changes in apache config wich breaks Aegir <a href="https://drupal.org/node/2155705">#2155705</a></li>
<li>previous Debian packages may remove the <code>aegir.conf</code> symlink before being upgraded. this is fixed in 2.0 but will occur (it's inevitable) during upgrade. details and simple workaround in <a href="https://drupal.org/node/2121263">#2121263</a></li>
</ul>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h1 id="Complete_list_of_changes">3. Complete list of changes</h1>

<p>Her is the complete list of changes, since the 1.x branch, some of which were already mentioned in previous release notes for alpha/beta/rc releases.</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="API_changes">3.1. API changes</h2>

<p>Those changes are, as usual, more explicitly documented in the <a href="../../../../../upgrading/path/index.html">upgrade path</a> documentation.</p>

<ul>
<li>hosting-task now needs a <code>--force</code> argument to run a non-queued task</li>
<li>the '--force' option also allows running tasks that appear to be running in the queue</li>
<li>functions that were deprecated in 1.x are now removed</li>
<li>the <code>email</code> and <code>client_email</code> database fields are now removed from client and site node types</li>
<li>numerous changes to the IP allocation and SSL management code</li>
<li>deprecate hosting_ip_delete_revision(), dupe of hosting_ip_delete() now that revisions are gone (8 weeks ago)</li>
<li>remove deprecated DEBUG flag in debian package</li>
<li>#1785624: Some Drupal API changes in D7 (and D8) are not used/respected properly</li>
<li>#1945950: Rename provision_drupal_sync_site_back()</li>
<li>#1083366: Make the spokes authoritative for files/ and private/ directories</li>
<li>#1812338: Refactor sync back</li>
<li>a new control file has been introduced in /etc/nginx/basic_nginx.conf to force the nginx configuration to be the "simpler" one (see #1635596)</li>
<li>#1987026: Move generated platform drushrc.php to sites/all/drush</li>
<li>Multiple files can be managed in a single context now (see <a href="https://drupal.org/node/2000038">issue #2000038</a>, <a href="https://drupal.org/node/1784108">issue #1784108</a>)</li>
<li><a href="https://drupal.org/node/1034520">#1034520</a>: Cleanup package instances when deleting sites and platforms.</li>
<li><a href="https://drupal.org/node/1830220">#1830220</a>: Drop support for Drupal 5.</li>
<li><a href="https://drupal.org/node/1975086">#1975086</a>: Move log parsing and status updates to seperate functions and call them from a shutdown function.</li>
<li>Pass the entity type when we're sync'ing package instances.</li>
<li>Save the platform field when creating a package instance record.</li>
<li>Move to individual operation callbacks for VBO tasks.</li>
<li><a href="https://drupal.org/node/2022849">#2022849</a>: Record disable and delete backups in the database.</li>
<li><a href="https://drupal.org/node/2031491">#2031491</a>: Rename SSL permission to be more descriptive.</li>
<li>Fix node grants so that proper permissions are respected on all Aegir node types.</li>
<li>Add 'administer' permissions for platforms and servers, and allow platforms to be viewed.</li>
<li><a href="http://drupal.org/node/1283738">#1283738</a>: Allow other commands to add or alter the directories to be created.</li>
<li>remove version pinning in hostmaster, our release process now again needs to modify only one makefile (<a href="https://drupal.org/node/2002114">#2002114</a>)</li>
<li><a href="http://drupal.org/node/1986928">#1986928: Provide 2.x upgrade guidance for services</a></li>
<li><a href="http://drupal.org/node/2099889">#2099889: More hosting_features checks in _drush_load hooks?</a></li>
<li><a href="http://drupal.org/node/1882708">#1882708: Unused 'release_id' field in 'hosting_platform'</a></li>
<li><a href="http://drupal.org/node/2012508">#2012508: hosting_context_name returns '@' if node not found</a></li>
<li><a href="http://drupal.org/node/1283738">#1283738: Add new hook provision_drupal_create_directories in _provision_drupal_create_directories</a></li>
<li>There is now a registry in the backend of the features enabled in the front-end (in /var/aegir/.drush/drushrc.php) which allows backend components to better determine if they should act</li>
<li>If <code>/var/aegir</code> is a symlink, it will be destroyed by the debian package, make sure the Aegir $HOME is properly set to work around that, see <a href="https://drupal.org/node/2118857">issue #2118857</a></li>
</ul>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="New_features">3.2. New features</h2>

<p>In addition to the "major changes" mentioned above, the following should also be noted.</p>

<ul>
<li><a href="http://drupal.org/node/1830994">#1830994: Login directly via 'login' link</a></li>
<li><a href="http://drupal.org/node/1853588">#1853588: Sort Install profiles on Site add form</a></li>
<li><a href="http://drupal.org/node/709862">#709862: Allow drush modules to add to apache vhost config template</a></li>
<li><a href="http://drupal.org/node/1861896">#1861896: Make $type argument of function hosting_available_tasks() optional.</a></li>
<li><a href="http://drupal.org/node/1843198">#1843198: Add Content top and bottom to Eldir.</a></li>
<li><a href="http://drupal.org/node/1826074">#1826074: Add tests to ensure site directories are migrated</a></li>
<li><a href="http://drupal.org/node/1464220">#1464220: Support alternative 'Hostmaster' profiles</a></li>
<li><a href="http://drupal.org/node/610040">#610040: Add X links on listing pages</a></li>
<li><a href="http://drupal.org/node/710834">#710834: notify clients on site migrations</a></li>
<li><a href="http://drupal.org/node/1260066">#1260066: Allow use of the working copy option when creating a platform</a></li>
<li><a href="http://drupal.org/node/1047992">#1047992: exportable backups</a></li>
<li><a href="http://drupal.org/node/1189556">#1189556: Pull the queue runner into Aegir 2</a></li>
<li><a href="http://drupal.org/node/1408410">#1408410: Add microcaching to Nginx config by default</a></li>
<li><a href="http://drupal.org/node/1138104">#1138104: Tiny module to automatically fill in platform publish path based on title</a></li>
<li>#1929372: Flag tasks with logged warnings</li>
<li>#1515416: On a package page, show table listing sites and platforms using the package</li>
<li>#1853620: Add db_name to site summary</li>
<li>#1681904: Ability to configure a url to redirect to in site configuration.</li>
<li>#1968226: manage each IP individually on the server level</li>
<li>add uninstall command</li>
<li>Nginx Security: BEAST attack protection and fix for PCI compliance.</li>
<li>#1980136: Allow setting default profile from the front-end.</li>
<li>#588728: Replace custom lists with Views and VBO for sites, platforms and packages.</li>
<li>Support for installing in subdirectories (<a href="https://drupal.org/node/705026">issue #705026</a>)</li>
<li>Proper homepage on startup so non-logged-in users don't see an error page, and new users have basic instructions (<a href="https://drupal.org/node/1793740">issue #1793740</a>)</li>
<li>SSL support for clusters should now work properly (<a href="https://drupal.org/node/2000964">issue #2000964</a>)</li>
<li>New roles added: 'aegir platform manager', 'aegir administrator' (<a href="https://drupal.org/node/1403208">issue #1403208</a>)</li>
<li>Convert list of platforms to use views (<a href="https://drupal.org/node/1876350">Issue #1876350</a>)</li>
<li><a href="http://drupal.org/node/600350">#600350: provide a nice "history" of ran tasks</a></li>
<li><a href="http://drupal.org/node/1988642">#1988642: Add site by platform</a></li>
<li><a href="http://drupal.org/node/1912238">#1912238: automatically build and upload aegir 2.x packages</a></li>
<li><a href="http://drupal.org/node/585830">#585830: usability story: "How do I create a client?"</a></li>
<li><a href="http://drupal.org/node/1212086">#1212086: Platforms should be locked by default</a></li>
<li><a href="http://drupal.org/node/1403208">#1403208: Add additional roles</a></li>
<li><a href="http://drupal.org/node/1174440">#1174440: provide a way to show site's DB username/password in the frontend</a></li>
<li><a href="http://drupal.org/node/606120">#606120: Disabled sites should be class hosting-warning, enabled but problematic sites should be hosting-error</a></li>
<li><a href="https://drupal.org/node/905326">#905326</a>: Improve file path changes.</li>
<li><a href="https://drupal.org/node/1201174">#1201174</a>: Make UID1 username configurable.</li>
<li><a href="https://drupal.org/node/1345118">#1345118</a>: Make platform access control an autocomplete form.</li>
<li><a href="https://drupal.org/node/1515416">#1515416</a>: Replace listing of sites and platforms using a package with a view.</li>
<li><a href="https://drupal.org/node/1975086">#1975086</a>: Add 'update status' button to tasks.</li>
<li><a href="https://drupal.org/node/2005310">#2005310</a>: Add VBO operations to platforms view.</li>
<li><a href="https://drupal.org/node/2006074">#2006074</a>: Enable backups via VBO.</li>
<li><a href="https://drupal.org/node/2025787">#2025787</a>: Open site goto link in a new window/tab.</li>
<li><a href="https://drupal.org/node/2022813">#2022813</a>: Expose backups to Views.</li>
<li><a href="https://drupal.org/node/2027269">#2027269</a>: Update a task's status after all Drush operations are complete.</li>
<li><a href="https://drupal.org/node/2031491">#2031491</a>: Review and update permissions for all roles.</li>
<li><a href="https://drupal.org/node/2031765">#2031765</a>: Clean up VBO operations with Action Permissions.</li>
<li><a href="http://drupal.org/node/2035873">#2035873</a>: Show package 'popularity' on platform package view</li>
<li><a href="https://drupal.org/node/2036283">#2036283</a>: Make Aegir aware of site-specific packages.</li>
<li><a href="https://drupal.org/node/2036793">#2036793</a> Ignore hidden modules and profiles.</li>
<li><a href="https://drupal.org/node/2037045">#2037045</a>: Change some log statuses to better match Drush's log styling.</li>
<li><a href="https://drupal.org/node/2037965">#2037965</a>: Clean up hosting-pause.</li>
<li><a href="https://drupal.org/node/2038279">#2038279</a>: Validate email during site install.</li>
<li>Display all validation errors when adding a client, and limit to 20 suggestions.</li>
<li>Flag rollbacks as warnings in our task logs.</li>
<li>Handle package page views separately for sites and platforms.</li>
<li>Update default hosting_site views to use new access plugin for blocks, and add a couple more displays for non admin listings.</li>
<li>Add Views access plugin for hosting_site and hosting_package.</li>
<li>Add views handler to filter packages by status.</li>
<li><a href="http://drupal.org/node/2069387">#2069387</a>: Support nonstandard ports on hostmaster-install command.</li>
<li><a href="http://drupal.org/node/2067617">#2067617</a>: Allow hostmaster-install to accept '--working-copy' option.</li>
<li>Allow the redirect to the welcome page to be turned off.</li>
<li>aegir install time reduced by about 60 seconds (on a cable uplink) by using Drupal.org distributions (<a href="https://drupal.org/node/2002114">#2002114</a>)</li>
<li><a href="http://drupal.org/node/2001964">#2001964: Upgrade Views Bulk Operations 6.x-1.16</a></li>
<li><a href="http://drupal.org/node/2099057">#2099057: Allow _provision_drupal_create_directories to skip chmod</a></li>
<li><a href="http://drupal.org/node/2100251">#2100251: Implement post-enable hook for 'hosting_*' modules</a></li>
<li><a href="http://drupal.org/node/2020075">#2020075: Refactor subdirs to use proper Config class(es)</a></li>
<li><a href="http://drupal.org/node/2020079">#2020079: Multi-server subdirectory support</a></li>
<li><a href="http://drupal.org/node/2096629">#2096629: hook_provision_drupal_create_directories_alter by ref</a></li>
<li><a href="http://drupal.org/node/2086009">#2086009: Logo Cannot be changed / disabled</a></li>
<li><a href="http://drupal.org/node/2069387">#2069387: Support nonstandard ports on hostmaster-install command</a></li>
<li><a href="http://drupal.org/node/2074681">#2074681: Ports are hardcoded in hostmaster.profile</a></li>
<li><a href="http://drupal.org/node/2103173">#2103173: Provide an example of saving data to a site context</a></li>
</ul>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Bugfixes">3.3. Bugfixes</h2>

<p>This list only shows bug fixes since the last release candidate (RC5), since the list of all bugfixes in Aegir 2 is truly enormous. Please review the individual release notes for more details, if you are curious.</p>

<ul>
<li>Improve the subdir related description in the site add/edit forms, to explain the most important details clearly enough.</li>
<li>Do not allow duplicate subdir aliases - use hosting_alias_allow_domain() in hosting_alias_validate_subdir() directly.</li>
<li>Update the inline how-to for sites in subdirs.</li>
<li><a href="../../../../2020089/index.html">#2020089</a> by ergonlogic - Allow example.com and example.com/foo domains (Hosting)</li>
<li><a href="../../../../2151475/index.html">#2151475</a> by helmo: Extra comment.</li>
<li><a href="../../../../2151371/index.html">#2151371</a> by helmo: Allow custom platform tasks.</li>
<li>security fix: SA-CORE-2013-003, fix files/ protection</li>
<li><a href="../../../../1220062/index.html">#1220062</a> fix mild security issue with login-reset links.</li>
<li>fix SSL certificate garbage collection, it was simply not working</li>
<li>reformat complex query to be more readable</li>
<li>also free SSL certificate when SSL is disabled on a site</li>
<li>check only client nodes for duplicates, closes <a href="../../../../2123355/index.html">#2123355</a></li>
<li><a href="../../../../2119101/index.html">#2119101</a>: Fix tasks are not sorted properly.</li>
<li>don't verify deleted sites, fixes <a href="../../../../2119111/index.html">#2119111</a></li>
<li>properly populate the SSL cert / IP association map</li>
<li>properly count the aegir hosting aliases, fixes <a href="../../../../2118917/index.html">#2118917</a></li>
<li>Fix malformed @defgroup.</li>
<li><a href="../../../../2085077/index.html">#2085077</a> by chertzog | ergonlogic: Fixed Invalid argument supplied for foreach() hosting.ip.inc:39.</li>
<li><a href="../../../../2126895/index.html">#2126895</a> by helmo: Upgrade.sh not compatible with Drush 6.</li>
<li><a href="../../../../2020089/index.html">#2020089</a> by ergonlogic - Allow example.com and example.com/foo domains (improved to fix a few dangerous errors) plus comments.</li>
<li>Nginx: Use text/xml mime type for .xml URLs to restore defaults.</li>
<li>Fix the check for parent site existence - we should look for drush alias file and not a vhost (which can be dummy subdir vhost).</li>
<li>Nginx: Fix aliases in redirects on the fly.</li>
<li>Nginx: Convert subdir alias name properly when used as server_name in redirection.</li>
<li><a href="../../../../2020089/index.html">#2020089</a> by ergonlogic - Allow example.com and example.com/foo domains (Apache)</li>
<li>Nginx: Redirect to working homepage for subdir based site.</li>
<li><a href="../../../../2100181/index.html">#2100181</a> by ergonlogic - Symlink missing for D6 subdir sites.</li>
<li><a href="../../../../2146711/index.html">#2146711</a> by helmo: PHP 5.3 compatible (Nginx).</li>
<li><a href="../../../../2038891/index.html">#2038891</a> by drastik: add missing --client-email option</li>
<li><a href="../../../../2020091/index.html">#2020091</a> by ergonlogic - Support subdirs with Nginx.</li>
<li>fix redirection for non-ssl hosts, issue <a href="../../../../2148671/index.html">#2148671</a> by logaritmisk</li>
<li><a href="../../../../2157785/index.html">#2157785</a> by helmo: Remove unused variables, these get written to the site's settings.php anyway.</li>
<li><a href="../../../../2157783/index.html">#2157783</a> by helmo: Deploy_7 code has an unused old_uri.</li>
<li>don't go around destroying apache configs on upgrades or removal</li>
<li>get the aegir home directory dynamically</li>
<li>rename VARLIB variable to AEGIRHOME for clarity</li>
<li>fix drush dependency: we need 5.10 to treat hostmaster as core in drush make</li>
<li>Further fixes for strict options checking in Drush 6.</li>
<li><a href="../../../../2135999/index.html">#2135999</a>: Fix for strict options checking in Drush 6.</li>
<li>Update site_data example extension with new load method.</li>
<li>Fix naming of hook in api docs.</li>
<li>be more tolerant about the way the alias gets passed from the frontend</li>
<li><a href="../../../../2117227/index.html">#2117227</a> by Ogredude - Missing newline causes syntax errors in vhost.d nginx config when redirects are enabled.</li>
<li>Copy all makefiles into Debian package.</li>
<li>Conditinally add subdirs/ to the debian package.</li>
<li>Fix .deb dependency.</li>
<li><a href="../../../../2113463/index.html">#2113463</a>: Fix take hosting_platform_pathauto out of experimental.</li>
<li><a href="../../../../1376466/index.html">#1376466</a> by Dane Powell: Fixed path not generated when copy/paste is used.</li>
<li><a href="../../../../1898252/index.html">#1898252</a> by Dane Powell: Fixed Edit option displayed on existing platforms.</li>
</ul>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Other_issues">3.4. Other issues</h2>

<ul>
<li>#1923552: Rename 'Queue runner settings' tab to 'Queue daemon'</li>
<li>#1834036: Add 'hosting platform pathauto' to the .gitignore</li>
<li>#1785624: Some Drupal API changes in D7 (and D8) are not used/respected properly</li>
<li>#1979496: Update upgrade.sh.txt for Drush 5</li>
<li>#1974752: Document old_uri option for provision-deploy</li>
</ul><div class="toc-back-to-top"><a href="#toc">Back to top</a></div><script type="text/javascript">toc_scroll_back_to_top = 1;</script>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-158.html?destination=node%2F2850%23comment-form">Login</a> or <a href="../../../../../user/register/index-158.html?destination=node%2F2850%23comment-form">register</a> to post comments</span></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-158.html?destination=node%2F2850%23comment-form">Login</a> or <a href="../../../../../user/register/index-158.html?destination=node%2F2850%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>




<div  id="node-13006" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../2/index-4.html">2.2 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <p>2.2 was an abortive release, due to missing updates to contrib modules. Use 2.3 instead.</p>

<p>See: <a href="../../../../../2/index-5.html" title="http://community.aegirproject.org/2.3">http://community.aegirproject.org/2.3</a></p>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-159.html?destination=node%2F13006%23comment-form">Login</a> or <a href="../../../../../user/register/index-159.html?destination=node%2F13006%23comment-form">register</a> to post comments</span></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-159.html?destination=node%2F13006%23comment-form">Login</a> or <a href="../../../../../user/register/index-159.html?destination=node%2F13006%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>




<div  id="node-3100" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../2/index-5.html">2.3 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div class='field terms clear-block'><span class='field-label-inline-first'>Tagged:</span> <ul class="links inline"><li class="taxonomy_term_4 first"><a href="../../../../../taxonomy/term/4/index.html" rel="tag" title="This level is for users who have access to only their sites and not able to manage all Aegir features, accounts or the server/system.">Client</a></li>
<li class="taxonomy_term_27"><a href="../../../../../category/level/developer/index.html" rel="tag" title="This level is generally for users interested in further developing the Aegir system itself, or extending it with contributed modules.">Developer</a></li>
<li class="taxonomy_term_3"><a href="../../../../../taxonomy/term/3/index.html" rel="tag" title="This level is for users, who are using hosted Aegir version, without access to the server root, with features limited to those allowed by their host, and often with Aegir UI changed/simplified.">Hosted</a></li>
<li class="taxonomy_term_2 last"><a href="../../../../../taxonomy/term/2/index.html" rel="tag" title="This level is generally for users with the root access to their server, who are responsible for installation and configuration of entire Aegir system environment.">Sysadmin</a></li>
</ul></div><p>The Aegir team is proud to announce the third release in the stable 2.x release branch!</p>

<p>This maintenance release ships with a huge number of bug fixes since our last stable release, almost a whole year ago. There are also some security improvements for nginx users. See below for the full list of bug fixes. Everyone is encouraged to upgrade.</p>

<p>Also, worth noting is the simultaneous release of our <a href="../../../../../3/index-6.html">first beta for Aegir 3</a>. Debian packages are now being provided for Aegir 3, so trying it out is easier than ever!</p>

<p><strong>N.B.</strong> The 2.2 release was invalid, as the contrib modules included in the drupal-org.make had not been updated.</p>

<script type="text/javascript">toc_collapse=0;</script><div class="toc" id="toc2">
<div class="toc-title">Table of Contents<span class="toc-toggle-message">&nbsp;</span></div>
<div class="toc-list">
<ol>
	<li class="toc-level-1"><a href="#Security_improvements_for_nginx"><span class="toc-number">1. </span>Security improvements for nginx</a></li>
	<li class="toc-level-1"><a href="#Installing_and_upgrading"><span class="toc-number">2. </span>Installing and upgrading</a></li>
	<li class="toc-level-1"><a href="#Need_help"><span class="toc-number">3. </span>Need help?</a></li>
	<li class="toc-level-1"><a href="#Known_issues"><span class="toc-number">4. </span>Known issues</a></li>
	<li class="toc-level-1"><a href="#Features"><span class="toc-number">5. </span>Features</a></li>
	<li class="toc-level-1"><a href="#Bug_fixes"><span class="toc-number">6. </span>Bug fixes</a></li>
</ol>
</div>
</div>

<h2 id="Security_improvements_for_nginx">1. Security improvements for nginx</h2>

<p>Previously, Aegir stored SSL cipher and protocol settings per site in Nginx virtualhost configuration files. This included the enabling of SSLv3, which is vulnerable to POODLE attacks [1].</p>

<p>Because these settings were stored via templates, permanently removing SSLv3 support on Aegir-based Nginx SSL environments was not possible. These settings have now been removed from the templates that generate Nginx virtualhost files under Aegir. If you wish to either re-enable SSLv3, or otherwise alter SSL cipher and protocol settings in Nginx, we recommend you do so in the http {} context (e.g, in /etc/nginx/nginx.conf), which are applied globally and are never manipulated by Aegir.</p>

<p>Sites that were running on Nginx and had SSL enabled, should be re-verified to remove those settings.</p>

<p>Apache users (including those using SSL) were not affected.</p>

<p>[1] <a href="http://en.wikipedia.org/wiki/POODLE" title="http://en.wikipedia.org/wiki/POODLE">http://en.wikipedia.org/wiki/POODLE</a></p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Installing_and_upgrading">2. Installing and upgrading</h2>

<p>The canonical source of installation documentation is on the community site at:</p>

<pre><code>http://community.aegirproject.org/installing
</code></pre>

<p>In a similar fashion, the upgrade documentation is at:</p>

<pre><code>http://community.aegirproject.org/upgrading
</code></pre>

<p>Within those sections, you'll find step-by-step instructions for performing both <a href="../../../../../upgrading/manual/index.html">manual</a> and <a href="../../../../../upgrading/script/index.html">automatic</a> upgrade processes.</p>

<p>It is still imperative that you read the the <a href="../../../../../upgrading/path/index.html">upgrade path and version-specific information</a> and follow all version-specific upgrade instructions before trying to run the upgrade script or manual upgrade.</p>

<p><strong>N.B.</strong> <a href="https://www.drupal.org/node/2146977">Issue #2146977: Broken backward compatibility with IP based vhosts</a> may affect those upgrading from 1.x. It appears that running 'verify' tasks on all sites should resolve the issue.</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Need_help">3. Need help?</h2>

<p>If you struggle to install or upgrade your Aegir system, you have a number of options available to you for getting help.</p>

<p>Consult this page for more information: <a href="../../../../../help/index.html" title="http://community.aegirproject.org/help">http://community.aegirproject.org/help</a></p>

<p>Thanks to our awesome <a href="../../../../../index.html">community</a> for their help, support and encouragement as always! Enjoy the new release :)</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Known_issues">4. Known issues</h2>

<p>Being really open about our project, we have never hidden the fact that some things, sometimes, do not work in Aegir. Our <a href="http://drupal.org/project/issues?text=&amp;projects=provision%2C%20hosting%2C%20hostslave%2C%20eldir%2C%20Hostmaster%20%28Aegir%29&amp;status=Open&amp;priorities=All&amp;categories=All">issue trackers</a> are public, and we've made it a point of honor not only to document clearly what is wrong in our releases as soon as we find out about it, but also to reroll new releases when we fix it.</p>

<p>That being said, 2.2 still has a number of issues and design flaws. This is the list of <a href="https://drupal.org/project/issues?projects=provision%2C+hosting%2C+hostslave%2C+eldir%2C+Hostmaster+%28Aegir%29&amp;priorities=300">all issues marked "major" in the queue right now</a>. Most issues are now likely to be fixed in the 3.x development branch, and unlikely to be backported unless considered critical.</p>

<p>As mentioned in the previous section, <a href="https://www.drupal.org/node/2146977">Issue #2146977: Broken backward compatibility with IP based vhosts</a> is still listed as a 'critical' issue against the 2.x branch. However, it should only affect those upgrading from 1.x, and has a fairly simple work-around. If you come across this behaviour during your upgrade, please post a comment to the issue, so we can confirm that it still exists.</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Features">5. Features</h2>

<p><a href="https://www.drupal.org/node/2267057">#2267057</a>: Pre-upgrade add ctools to 6.x-2.x</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Bug_fixes">6. Bug fixes</h2>

<p>Changes to hosting since 6.x-2.1:</p>

<ul>
  <li>Make it clear that subdomain (foo) and subdirectory name (foo) must be identical.</li>
  <li><a href="../../../../2333911/index.html">#2333911</a> - Restore the pre-views order of tasks in the queue blocks/lists.</li>
  <li><a href="../../../../2313327/index.html">#2313327</a> by <a href="../../../../../u/helmo-_-tvl/index.html">helmo | tvl</a>: Fixed Unknown options for provision-verify.</li>
  <li><a href="../../../../2163525/index.html">#2163525</a> by <a href="../../../../../u/helmo-_-daften/index.html">helmo | daften</a>: Fixed Aegir doesn't delete old alias on migration of site.</li>
</ul>

<p>Changes to provision since 6.x-2.1:</p>

<ul>
  <li><a href="../../../../2457359/index.html">#2457359</a>: Stop overriding Nginx SSL settings</li>
  <li>Nginx: Stop the POST flood to /autodiscover/autodiscover.xml generated by MS Office/Outlook</li>
  <li>Nginx: Use dummy db fastcgi_param placeholders if any of them is empty</li>
  <li><a href="../../../../2350695/index.html">#2350695</a> by <a href="../../../../../u/omega8cc/index.html">omega8cc</a>, <a href="../../../../../u/helmo/index.html">helmo</a>: Profile is registered twice, also as a module, which causes warning</li>
  <li>Nginx: Remove webform keyword from regex locations - fixes <a href="../../../../599/index.html">#599</a></li>
  <li>Nginx: Sync configuration improvements.</li>
  <li>Fix for custom cpuinfo logic.</li>
  <li><a href="../../../../2421543/index.html">#2421543</a> by <a href="../../../../../u/notzach/index.html">notzach</a>: Changing how Apache ServerAliases are defined</li>
  <li>Nginx: Use safe fallback for mysteriously empty $db_port</li>
  <li>Nginx: Use reliable source for db_port to write in the vhost</li>
  <li><a href="../../../../2276557/index.html">#2276557</a> by <a href="../../../../../u/zxaos/index.html">zxaos</a>, <a href="../../../../../u/bgm/index.html">bgm</a>: allow aegir2-provision package to accept mariadb or mysql</li>
  <li>Nginx: Fix for D8-specific /cron/ location caching (extended mode only).</li>
  <li>Nginx: Fix for D8-specific /cron/ location regex.</li>
  <li>Nginx: Drupal 8 with clean urls enabled should use /cron/ URI.</li>
  <li>Nginx: Sync config templates.</li>
  <li>Detect if the platform stays the same only when site name changes.</li>
  <li>Standardize inline comments.</li>
  <li><a href="../../../../2372653/index.html">#2372653</a> by <a href="../../../../../u/helmo/index.html">helmo</a>: Add --no-autocommit when dumping MySQL tables</li>
  <li>Use $new_name instead of $new_uri to avoid confusion.</li>
  <li>Compare $new_uri with d()-&gt;name and not d()-&gt;uri in the Site Rename Check.</li>
  <li>Nginx: Helper locations to avoid 404 on legacy images paths (subdir only)</li>
  <li>Nginx: Fix spacing</li>
  <li>Nginx: Add missing variables in subdirectory config template.</li>
  <li>don't allow d() to run before drush is fully initialized</li>
  <li>Nginx: Add the fix for known problem with files/imagecache in legacy D6 sites (again).</li>
  <li>Nginx: Fail early if any required db credentials are empty, to never create broken vhost.</li>
  <li>Nginx: Block semalt botnet (extended boa mode only)</li>
  <li><a href="../../../../2358977/index.html">#2358977</a> by mrP - [nginx] Aegir redirection to non-install url leads to sites/$server_name/files 404 errors (sub-dir config sync)</li>
  <li><a href="../../../../2373923/index.html">#2373923</a> by griz - https redirect problem with Nginx (fix tested)</li>
  <li>Nginx: Avoid redirect loops (really fixed).</li>
  <li>Nginx: Avoid redirect loops (fixed).</li>
  <li>Nginx: Avoid redirect loops.</li>
  <li><a href="../../../../2358977/index.html">#2358977</a> by mrP - [nginx] Aegir redirection to non-install url leads to sites/$server_name/files 404 errors.</li>
  <li>Nginx: Simplify imagecache/styles support.</li>
  <li>Nginx: Remember real site name in $main_site_name and MAIN_SITE_NAME.</li>
  <li>Sync new lines.</li>
  <li>Nginx: proper sync with Apache redirects.</li>
  <li>Revert "Issue <a href="../../../../2373923/index.html">#2373923</a> by griz - https redirect problem with Nginx"</li>
  <li><a href="../../../../2373923/index.html">#2373923</a> by griz - https redirect problem with Nginx</li>
  <li>Merge remote-tracking branch 'origin/6.x-2.x-backports' into 6.x-2.x</li>
  <li><a href="../../../../2163979/index.html">#2163979</a> - Check if field_info_field_map() is available to not break support for old D7 versions.</li>
  <li>Make sure that db_port is never empty and defaults to 3306.</li>
  <li><a href="../../../../2266997/index.html">#2266997</a> by <a href="../../../../../u/helmo/index.html">helmo</a>, <a href="../../../../../u/cweagans/index.html">cweagans</a>: Added Do not automatically enable update module when installing a site.</li>
  <li>Nginx: Update vhosts templates to match BOA improvements #unforkboa</li>
  <li>Nginx: Sanitize aliases in vhost_disabled.tpl.php to avoid: 'nginx: [warn] server name "foo.com/bar" has suspicious symbols'</li>
  <li>Fix spacing in config lines.</li>
  <li>Nginx: Update config includes to match optional BOA features improvements #unforkboa</li>
  <li>Manage extra GRANTS to allow SQL remote access via SSH tunneling which depends on '127.0.0.1' and will not work with GRANTS for 'localhost'.</li>
  <li>Add support for file generated from /proc/cpuinfo on system with no access to /proc #unforkboa</li>
  <li>Ignore paths from OS X</li>
  <li>Backport provision_hosting_feature_enabled (2)</li>
  <li>Backport provision_hosting_feature_enabled()</li>
  <li>Fix typo.</li>
  <li>Shorten and simplify the subdirs checks code.</li>
  <li>Remove legacy subdir code and update checks.</li>
  <li>Remove whitespace.</li>
  <li>Use is_readable() instead of file_exists() when checking alias existence.</li>
  <li>Use is_dir() instead of file_exists() when checking directory existence.</li>
  <li>Use is_readable() check instead of insufficient file_exists() for config includes.</li>
  <li>Remove redundant file_exists() if is_readable() is also used.</li>
  <li>Add little debugging markers.</li>
  <li>Use strict checks: is_file() and/or is_link() instead of file_exists() before attempting unlink()</li>
  <li>Fix for mysterious warning "Could not create directory ." on Hostmaster site Verify.</li>
  <li>Nginx: Fix typo in vhosts templates.</li>
  <li><a href="../../../../2330781/index.html">#2330781</a> - Use Drush native dt() wrapper instead of not always available t()</li>
  <li><a href="../../../../2329131/index.html">#2329131</a> by <a href="../../../../../u/dagomar/index.html">dagomar</a>: Fixed Uninstalled block module causes errors.</li>
  <li>Allow usage with Drush7, now that *.drush.load.inc's aren't being included.</li>
  <li><a href="../../../../2177315/index.html">#2177315</a> by <a href="../../../../../u/pwatzeels/index.html">pwatzeels</a>: Fixed Group permissions on private/temp folder not correct on remote server.</li>
  <li><a href="../../../../2296089/index.html">#2296089</a> by <a href="../../../../../u/ergonlogic/index.html">ergonlogic</a>, <a href="../../../../../u/cosmicdreams/index.html">cosmicdreams</a>: Fixed Installer can detect incorrect default web group.</li>
  <li><a href="../../../../2169287/index.html">#2169287</a> by <a href="../../../../../u/cableman0408/index.html">cableman0408</a>: Fixed Setting user name twice (fails non-default installation profile).</li>
  <li><a href="../../../../2275467/index.html">#2275467</a> by <a href="../../../../../u/kristofferwiklund/index.html">kristofferwiklund</a>: Fixed incorrect variable in Debian postinstall script for Apache 2.4</li>
  <li>Stop false-positive warnings when SSL uses a wildcard.</li>
  <li><a href="../../../../2259461/index.html">#2259461</a> by Liam McDermott - Remove too aggressive limit_conn directive in the Nginx config templates.</li>
  <li>Revert "change version information for release 2.1"</li>
  <li><a href="../../../../1168758/index.html">#1168758</a> by <a href="../../../../../u/helmo-_-acrollet/index.html">helmo | acrollet</a>: Optionally add --include-vcs argument when using drush rsync to sync remote platform.</li>
  <li>Extend provision_drupal_fetch_site with a parameter to specify site to fetch.</li>
</ul><div class="toc-back-to-top"><a href="#toc">Back to top</a></div><script type="text/javascript">toc_scroll_back_to_top = 1;</script>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-328.html?destination=node%2F3100%23comment-form">Login</a> or <a href="../../../../../user/register/index-328.html?destination=node%2F3100%23comment-form">register</a> to post comments</span></li>
<li class="talk_comments last"><a href="../../../../3100/talk/index.html" title="Jump to the first comment of this posting.">Talk</a></li>
</ul></div>
  </div>




<div  id="node-2877" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../content/content/release-notes/older-2x-releases/20-alphas-betas-release-candidates/index.html">2.0 alphas, betas &amp; release candidates</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div class='field terms clear-block'><span class='field-label-inline-first'>Tagged:</span> <ul class="links inline"><li class="taxonomy_term_4 first"><a href="../../../../../taxonomy/term/4/index.html" rel="tag" title="This level is for users who have access to only their sites and not able to manage all Aegir features, accounts or the server/system.">Client</a></li>
<li class="taxonomy_term_27"><a href="../../../../../category/level/developer/index.html" rel="tag" title="This level is generally for users interested in further developing the Aegir system itself, or extending it with contributed modules.">Developer</a></li>
<li class="taxonomy_term_3"><a href="../../../../../taxonomy/term/3/index.html" rel="tag" title="This level is for users, who are using hosted Aegir version, without access to the server root, with features limited to those allowed by their host, and often with Aegir UI changed/simplified.">Hosted</a></li>
<li class="taxonomy_term_2 last"><a href="../../../../../taxonomy/term/2/index.html" rel="tag" title="This level is generally for users with the root access to their server, who are responsible for installation and configuration of entire Aegir system environment.">Sysadmin</a></li>
</ul></div><p>This section documents all the release candidates towards the 2.0 release.</p>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-160.html?destination=node%2F2877%23comment-form">Login</a> or <a href="../../../../../user/register/index-160.html?destination=node%2F2877%23comment-form">register</a> to post comments</span></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-160.html?destination=node%2F2877%23comment-form">Login</a> or <a href="../../../../../user/register/index-160.html?destination=node%2F2877%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>




<div  id="node-2830" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../2/index-6.html">2.0-rc5 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <p>The Aegir team is is pleased to announce the fifth release candidate for the upcoming Aegir 2.0 release!</p>

<p>This release ships a <em>ton</em> of bugfixes we have found in RC4. We also finalised subdirectory support which, while it still has <a href="#">some issues</a>, is now actually working correctly, even on multiple servers. The IP allocation code for SSL on multiple servers was also fixed, making this probably the most solid multi-server Aegir release ever. We also did some API cleanups that seemed necessary before the final 2.0 release.</p>

<p>Finally, we should also mentionned that the install process was significantly sped up thanks to the use of Drupal.org distributions to ship a single tarball for the hostmaster platform instead of using a makefile to build it from its parts all the times. During out tests, the platform <code>make</code> step went from 60 seconds to 1.5 seconds, an amazing improvement!</p>

<h1>Installing and upgrading</h1>

<p>The canonical source of installation documentation is on the community site at:</p>

<pre><code>http://community.aegirproject.org/installing
</code></pre>

<p>In a similar fashion, the upgrade documentation is:</p>

<pre><code>http://community.aegirproject.org/upgrading
</code></pre>

<p>Within those sections you'll find step-by-step instructions for performing both <a href="../../../../../upgrading/manual/index.html">manual</a> and <a href="../../../../../upgrading/script/index.html">automatic</a> upgrade processes, with <code>2.x</code>-specific instructions outlined in <strong>bold</strong>.</p>

<p>It is still imperative that you read the the <a href="../../../../../upgrading/path/index.html">upgrade path and version-specific information</a> and follow all version-specific upgrade instructions before trying to run the upgrade script or manual upgrade. You should be able to upgrade to 2.x releases from any release in the 1.x series, but it's better to upgrade to the latest 1.x release first.</p>

<h1>Known issues</h1>

<p>Those are the critical bugs that were found in this release that you may encounter and should watch out for.</p>

<ul>
<li>There was a problem in the Debian package, the original uploads were missing some critical files (subdir support and some makefiles). This was fixed in an intermediate package named <code>2.0~rc5.1</code>.</li>
<li>If <code>/var/aegir</code> is a symlink, it will be destroyed, see <a href="https://drupal.org/node/2118857">issue #2118857</a> for a workaround.</li>
<li><code>hosting-queued</code> doesn't get properly re-enabled on upgrades, see <a href="https://drupal.org/node/2114675">#2114675</a> for a workaround.</li>
<li>Some upgrades fail with mysterious redirection failures, see <a href="https://drupal.org/node/2118061">#2118061</a> for details.</li>
<li>Some upgrades may loop over one of the update_N() functions, see <a href="https://drupal.org/node/2118917">#2118917</a> for details and workaround.</li>
<li>Upgrading through Debian packages removes the <code>aegir.conf</code> Apache configuration file, dropping all sites, during the upgrade, see <a href="https://drupal.org/node/2121263">#2121263</a>.</li>
<li>Ubuntu sausy has some changes in apache config wich breaks Aegir <a href="https://drupal.org/node/2155705">#2155705</a></li>
</ul>

<h1>Detailed list of changes</h1>

<h2>API CHANGES</h2>

<ul>
<li>remove version pinning in hostmaster, our release process now again needs to modify only one makefile (<a href="https://drupal.org/node/2002114">#2002114</a>)</li>
<li><a href="http://drupal.org/node/1986928">#1986928: Provide 2.x upgrade guidance for services</a></li>
<li><a href="http://drupal.org/node/2099889">#2099889: More hosting_features checks in _drush_load hooks?</a></li>
<li><a href="http://drupal.org/node/1882708">#1882708: Unused 'release_id' field in 'hosting_platform'</a></li>
<li><a href="http://drupal.org/node/2012508">#2012508: hosting_context_name returns '@' if node not found</a></li>
<li><a href="http://drupal.org/node/1283738">#1283738: Add new hook provision_drupal_create_directories in _provision_drupal_create_directories</a></li>
<li>the package name changed (for example) from aegir-hostmaster2 to aegir2-hostmaster, compatibility shims are available for people having installed aegir2 before, but they will be dropped in 2.0, so make sure you upgrade to this release before upgrading to aegir 2.0</li>
</ul>

<h2>NEW FEATURES</h2>

<ul>
<li>aegir install time reduced by about 60 seconds (on a cable uplink) by using Drupal.org distributions (<a href="https://drupal.org/node/2002114">#2002114</a>)</li>
<li><a href="http://drupal.org/node/2001964">#2001964: Upgrade Views Bulk Operations 6.x-1.16</a></li>
<li><a href="http://drupal.org/node/2099057">#2099057: Allow _provision_drupal_create_directories to skip chmod</a></li>
<li><a href="http://drupal.org/node/2100251">#2100251: Implement post-enable hook for 'hosting_*' modules</a></li>
<li><a href="http://drupal.org/node/2020075">#2020075: Refactor subdirs to use proper Config class(es)</a></li>
<li><a href="http://drupal.org/node/2020079">#2020079: Multi-server subdirectory support</a></li>
<li><a href="http://drupal.org/node/2096629">#2096629: hook_provision_drupal_create_directories_alter by ref</a></li>
<li><a href="http://drupal.org/node/2086009">#2086009: Logo Cannot be changed / disabled</a></li>
<li><a href="http://drupal.org/node/2069387">#2069387: Support nonstandard ports on hostmaster-install command</a></li>
<li><a href="http://drupal.org/node/2074681">#2074681: Ports are hardcoded in hostmaster.profile</a></li>
<li><a href="http://drupal.org/node/2103173">#2103173: Provide an example of saving data to a site context</a></li>
</ul>

<h2>BUG FIXES</h2>

<ul>
<li><a href="http://drupal.org/node/2110057">#2110057: Key used for signing debian package has expired</a></li>
<li><a href="http://drupal.org/node/1635628">#1635628: do not talk about a makefile if installing over an existing platform</a></li>
<li><a href="http://drupal.org/node/2103173">#2103173: Provide an example of saving data to a site context</a></li>
<li><a href="http://drupal.org/node/2109637">#2109637: upgrade.sh script fails to checkout 6.x-2.x</a></li>
<li><a href="http://drupal.org/node/2085077">#2085077: Invalid argument supplied for foreach() hosting.ip.inc:39</a></li>
<li><a href="http://drupal.org/node/2102341">#2102341: Differentiate between a feature being disabled vs absent</a></li>
<li><a href="http://drupal.org/node/2029799">#2029799: Error deleting a platform: Call to a member function succeed() on a non-object</a></li>
<li><a href="http://drupal.org/node/1971348">#1971348: Site aliases get chopped if longer than 50 characters</a></li>
<li><a href="http://drupal.org/node/2071317">#2071317: Incorrect SSL IP is deployed to servers in a web pack</a></li>
<li><a href="http://drupal.org/node/2098289">#2098289: Backup task does not detect failed database dump</a></li>
<li><a href="http://drupal.org/node/2098389">#2098389: subdirs kicks in even when subdirs module is disabled.</a></li>
<li><a href="http://drupal.org/node/1189576">#1189576: can't disable the DNS service from the frontend</a></li>
<li><a href="http://drupal.org/node/1931000">#1931000: Missing drush backend output in frontend log</a></li>
<li><a href="http://drupal.org/node/2077793">#2077793: Queue daemon collecting quotes</a></li>
<li><a href="http://drupal.org/node/2097689">#2097689: clean_urls don't work well with subdirectory</a></li>
<li><a href="http://drupal.org/node/2097363">#2097363: Add site spins forever</a></li>
<li><a href="http://drupal.org/node/1387578">#1387578: hosting_queues_cron_cmd makes unwarranted assumptions about bash availablility</a></li>
<li><a href="http://drupal.org/node/2084963">#2084963: SSL vhost does not respect Alias redirects</a></li>
<li><a href="http://drupal.org/node/2061509">#2061509: List of platforms is no longer updated to match install profile clicked at node/add/site</a></li>
<li><a href="http://drupal.org/node/2046783">#2046783: Task dialogs won't open after clearing the cache</a></li>
</ul>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-161.html?destination=node%2F2830%23comment-form">Login</a> or <a href="../../../../../user/register/index-161.html?destination=node%2F2830%23comment-form">register</a> to post comments</span></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-161.html?destination=node%2F2830%23comment-form">Login</a> or <a href="../../../../../user/register/index-161.html?destination=node%2F2830%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>




<div  id="node-2782" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../2/index-7.html">2.0-rc4 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <p>An error in the manual portion of our <a href="../../../../../content/release-process/index.html">release process</a> resulted in the incorrect version of the code-base being built. See the <a href="../../../../../2/index-8.html">release notes for 2.0-rc3</a> for relevant changes since 2.0-rc2.</p>

<h1>Known bugs</h1>

<p>In addition to those listed in the <a href="../../../../../2/index-8.html">release notes for 2.0-rc3</a>, note that some people have experienced problems with downloading a patch in the main Aegir makefile. This is most likely due to problems with drupal.org's SSL certificate. If you are experiencing such an issue, there is a simple work-around: edit the aegir.make file in the provision/ directory to make the path use http:// instead of https://.</p>

<p>For a Debian-based system (including Ubuntu), this would look something like:</p>

<pre><code>$ sudo vi /usr/bin/drush/commands/provision/aegir.make
</code></pre>

<p>For 'manual' installs on other OS's, it would probably be:</p>

<pre><code>$ sudo vi /var/aegir/provision/aegir.make
</code></pre>

<p>Change the line:</p>

<pre><code>projects[drupal][patch][] = "https://drupal.org/files/common.inc_6.28.patch"
</code></pre>

<p>to read:</p>

<pre><code>projects[drupal][patch][] = "http://drupal.org/files/common.inc_6.28.patch"
</code></pre>

<p>Then re-run the install. On Debian/Ubuntu machines:</p>

<pre><code>$ sudo apt-get install aegir2
</code></pre>

<p>On manually installed systems (CentOS, etc.) as the aegir user:</p>

<pre><code>$ drush hostmaster-install
</code></pre>

<h1>Detailed list of changes</h1>

<h2>API CHANGES</h2>

<p>None.</p>

<h2>NEW FEATURES</h2>

<p>None.</p>

<h2>BUG FIXES</h2>

<ul>
  <li>Fixed makefiles to point to proper versions of projects.</li>
</ul>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-162.html?destination=node%2F2782%23comment-form">Login</a> or <a href="../../../../../user/register/index-162.html?destination=node%2F2782%23comment-form">register</a> to post comments</span></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-162.html?destination=node%2F2782%23comment-form">Login</a> or <a href="../../../../../user/register/index-162.html?destination=node%2F2782%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>




<div  id="node-2755" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../2/index-8.html">2.0-rc3 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div class='field terms clear-block'><span class='field-label-inline-first'>Tagged:</span> <ul class="links inline"><li class="taxonomy_term_4 first"><a href="../../../../../taxonomy/term/4/index.html" rel="tag" title="This level is for users who have access to only their sites and not able to manage all Aegir features, accounts or the server/system.">Client</a></li>
<li class="taxonomy_term_27"><a href="../../../../../category/level/developer/index.html" rel="tag" title="This level is generally for users interested in further developing the Aegir system itself, or extending it with contributed modules.">Developer</a></li>
<li class="taxonomy_term_3"><a href="../../../../../taxonomy/term/3/index.html" rel="tag" title="This level is for users, who are using hosted Aegir version, without access to the server root, with features limited to those allowed by their host, and often with Aegir UI changed/simplified.">Hosted</a></li>
<li class="taxonomy_term_2 last"><a href="../../../../../taxonomy/term/2/index.html" rel="tag" title="This level is generally for users with the root access to their server, who are responsible for installation and configuration of entire Aegir system environment.">Sysadmin</a></li>
</ul></div><p>The Aegir team is pleased to announce the third release candidate for the upcoming Aegir 2.0 release.</p>

<p>This release mainly fixes a couple critical bugs in 2.0-rc2 that were causing problems when sites were being cloned or renamed. We've added a couple small features, such as additional options during hostmaster-install, and allowing the redirect to the Welcome page to be turned off. Also, we've made a small addition to the API, in that there is now a hook available (<code>hook_provision_drupal_create_directories_alter()</code>) to allow altering the directories created when a site installed.</p>

<p>In order to better support PHP 5.4, we have added a patch to Drupal core to suppress E_STRICT warnings. These were harmless, but annoying. They were caused by a changed in PHP error-reporting in PHP 5.4, and the Views module's maintainers' desire to remain backward compatible with PHP 4. For more details, see: <a href="http://drupal.org/node/2060727">#2060727: Patch Drupal core to suppress E_STRICT warnings on PHP5.4.</a></p>

<p>A number of pending issues require a new stable release of Drush (5.10), so we will work with the maintainers to help get a new release out.</p>

<h1>Known issues</h1>

<p>Our release process is still done by hand instead of being more automated because we can't use our aegir distribution as core (<a href="https://drupal.org/node/1991764">issue #1991764</a>).</p>

<p><a href="https://drupal.org/node/1931000">Issue #1931000: Missing drush backend output in frontend log</a> has been fixed, but may require a <a href="https://drupal.org/node/2025527#comment-7566747">patch to Drush</a> for the use of hosting-queued.</p>

<p>Subdirectory support is still very preliminary and needs a number of issues to be fixed before completion, see <a href="https://drupal.org/node/2046167">#2046167</a> for details. Note that this will not block a stable release, since this feature is 'experimental', and additional re-factoring can occur during the stable release cycle.</p>

<h1>Detailed list of changes</h1>

<h2>API CHANGES</h2>

<ul>
  <li><a href="http://drupal.org/node/1283738">#1283738</a> by halcyonCorsair, cweagans: Allow other commands to add or alter the directories to be created.</li>
</ul>

<h2>NEW FEATURES</h2>

<ul>
  <li><a href="http://drupal.org/node/2069387">#2069387</a> by cweagans, mstenta: Support nonstandard ports on hostmaster-install command.</li>
  <li><a href="http://drupal.org/node/2067617">#2067617</a>: Allow hostmaster-install to accept '--working-copy' option.</li>
  <li>Allow the redirect to the welcome page to be turned off.</li>
</ul>

<h2>BUG FIXES</h2>

<ul>
  <li>Add E_STRICT patch to test openatrium makefile so tests will pass on PHP 5.4.</li>
  <li><a href="http://drupal.org/node/2067603">#2067603</a>: Fix original and cloned site pointing to the same database.</li>
  <li><a href="http://drupal.org/node/2048653">#2048653</a>: Ensure mysql is secure before proceeding with hostmaster install.</li>
  <li><a href="http://drupal.org/node/2060727">#2060727</a>: Patch Drupal core to suppress E_STRICT warnings on PHP5.4.</li>
  <li><a href="http://drupal.org/node/2038279">#2038279</a>: Warn of invalid account email on site install.</li>
  <li><a href="http://drupal.org/node/2055949">#2055949</a>: Fix migrate drops wrong database when domain name changes.</li>
  <li><a href="http://drupal.org/node/2074681">#2074681</a> by cweagans, mstenta: Fixed ports are hardcoded in hostmaster.profile.</li>
  <li>Use custom functions for block visibility.</li>
  <li><a href="http://drupal.org/node/1940378">#1940378</a>: Fix PHP 5.4 warning by initializing an object variable prior to assigning properties.</li>
  <li><a href="http://drupal.org/node/2050881">#2050881</a>: Call drush.php via php, since it isn't executable when installed via PEAR.</li>
  <li>Enable platform site-list block, since it had to be renamed.</li>
</ul>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-163.html?destination=node%2F2755%23comment-form">Login</a> or <a href="../../../../../user/register/index-163.html?destination=node%2F2755%23comment-form">register</a> to post comments</span></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-163.html?destination=node%2F2755%23comment-form">Login</a> or <a href="../../../../../user/register/index-163.html?destination=node%2F2755%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>




<div  id="node-2738" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../2/index-9.html">2.0-rc2 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div class='field terms clear-block'><span class='field-label-inline-first'>Tagged:</span> <ul class="links inline"><li class="taxonomy_term_4 first"><a href="../../../../../taxonomy/term/4/index.html" rel="tag" title="This level is for users who have access to only their sites and not able to manage all Aegir features, accounts or the server/system.">Client</a></li>
<li class="taxonomy_term_27"><a href="../../../../../category/level/developer/index.html" rel="tag" title="This level is generally for users interested in further developing the Aegir system itself, or extending it with contributed modules.">Developer</a></li>
<li class="taxonomy_term_3"><a href="../../../../../taxonomy/term/3/index.html" rel="tag" title="This level is for users, who are using hosted Aegir version, without access to the server root, with features limited to those allowed by their host, and often with Aegir UI changed/simplified.">Hosted</a></li>
<li class="taxonomy_term_2 last"><a href="../../../../../taxonomy/term/2/index.html" rel="tag" title="This level is generally for users with the root access to their server, who are responsible for installation and configuration of entire Aegir system environment.">Sysadmin</a></li>
</ul></div><p>The Aegir team is pleased to announce the second release candidate for the upcoming Aegir 2.0 release.</p>

<p>This release mainly fixes our project makefile that, due to an error in our build process, did not pull in the latest code. As a result, installing 2.0-rc1 actually installed a 2.0-beta2 codebase. While changes between 2.0-rc1 and 2.0-rc2 have otherwise been minimal, we invite you to explore all the new features and bugfixes in <a href="../../../../../2/index-10.html">2.0-rc1</a>.</p>

<p>Note that we have taken this opportunity to update our external dependencies, as well.</p>

<h1>Known issues</h1>

<p>Our release process is still done by hand instead of automated because we can't use our aegir distribution as core (<a href="https://drupal.org/node/1991764">issue #1991764</a>).</p>

<p><a href="https://drupal.org/node/1931000">Issue #1931000: Missing drush backend output in frontend log</a> has been fixed, but may require a <a href="https://drupal.org/node/2025527#comment-7566747">patch to Drush</a> for the use of hosting-queued.</p>

<p>Subdirectory support is still very preliminary and needs those issues to be fixed before completion, see <a href="https://drupal.org/node/2046167">#2046167</a> for details.</p>

<p><strike><a href="https://drupal.org/node/2046783">Issue #2046783: Task dialogs won't open after clearing the cache</a> was the result of updating our dependencies. Refreshing the page is usually sufficient to make modal dialogs work again.</strike> It looks like this was probably specific to the development environment, as we can no longer reproduce it.</p>

<p>A critical bug was discovered: <a href="https://drupal.org/node/2055949">Issue #2055949: Migrate drops wrong database when domain name changes</a>. It has been fixed in 6.x-2.x, and a <a href="https://drupal.org/node/2055949#comment-7713571">patch for 2.0-rc2</a> is available.</p>

<h1>Detailed list of changes</h1>

<h2>API CHANGES</h2>

<ul>
  <li>Update external dependencies.</li>
</ul>

<h2>NEW FEATURES</h2>

<p>none</p>

<h2>BUG FIXES</h2>

<ul>
  <li>Add dependency on jquery_update, so we can use the more recent version of modal_dialog.</li>
  <li>Enable login and nav blocks explicitly.</li>
  <li>treat symlinks as existing, fixes <a href="../../../../2046249/index.html">#2046249</a></li>
</ul>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-164.html?destination=node%2F2738%23comment-form">Login</a> or <a href="../../../../../user/register/index-164.html?destination=node%2F2738%23comment-form">register</a> to post comments</span></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-164.html?destination=node%2F2738%23comment-form">Login</a> or <a href="../../../../../user/register/index-164.html?destination=node%2F2738%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>




<div  id="node-2730" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../2/index-10.html">2.0-rc1 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div class='field terms clear-block'><span class='field-label-inline-first'>Tagged:</span> <ul class="links inline"><li class="taxonomy_term_4 first"><a href="../../../../../taxonomy/term/4/index.html" rel="tag" title="This level is for users who have access to only their sites and not able to manage all Aegir features, accounts or the server/system.">Client</a></li>
<li class="taxonomy_term_27"><a href="../../../../../category/level/developer/index.html" rel="tag" title="This level is generally for users interested in further developing the Aegir system itself, or extending it with contributed modules.">Developer</a></li>
<li class="taxonomy_term_3"><a href="../../../../../taxonomy/term/3/index.html" rel="tag" title="This level is for users, who are using hosted Aegir version, without access to the server root, with features limited to those allowed by their host, and often with Aegir UI changed/simplified.">Hosted</a></li>
<li class="taxonomy_term_2 last"><a href="../../../../../taxonomy/term/2/index.html" rel="tag" title="This level is generally for users with the root access to their server, who are responsible for installation and configuration of entire Aegir system environment.">Sysadmin</a></li>
</ul></div><p>The Aegir team is pleased to announce the first release candidate for the upcoming Aegir 2.0 release.</p>

<p>This release mainly targets a few critical bugs that were found in the second beta, mostly related to ongoing Views, Drush integration and access control. We also introduce a number of new features and finally drop support for provisioning Drupal 5 sites completely (for real this time!). Along the way, we did quite a bit of API cleanup.</p>

<p>While we are in feature freeze, we have continued to add some UI improvements, since they don't affect the API. We've added some long-standing UI enhancements, and fixed a number of bugs in the views integration and other usability problems, as well as overhauling our access control. Significant improvements to the package-management system have also been introduced.</p>

<p>Our only remaining critical bugs are basically waiting on a new release of Drush, upgrade testing on Nginx and some contrib upgrade guidance documentation. If no other critical bugs are discovered during the time it takes us to fix these, we should move on to a full release of Aegir 2.0!</p>

<h1>Known issues</h1>

<p>Our release process is still done by hand instead of automated because we can't use our aegir distribution as core (<a href="https://drupal.org/node/1991764">issue #1991764</a>).</p>

<p><a href="https://drupal.org/node/1931000">Issue #1931000: Missing drush backend output in frontend log</a> has been fixed, but may require a <a href="https://drupal.org/node/2025527#comment-7566747">patch to Drush</a> for the use of hosting-queued.</p>

<p>Subdirectory support is still very preliminary and needs those issues to be fixed before completion, see <a href="https://drupal.org/node/2046167">#2046167</a> for details.</p>

<h1>Detailed list of changes</h1>

<h2>API CHANGES</h2>

<ul>
    <li><a href="https://drupal.org/node/1034520">#1034520</a>: Cleanup package instances when deleting sites and platforms.</li>
<li><a href="https://drupal.org/node/1830220">#1830220</a>: Drop support for Drupal 5.</li>
  <li><a href="https://drupal.org/node/1975086">#1975086</a>: Move log parsing and status updates to seperate functions and call them from a shutdown function.</li>
  <li>Pass the entity type when we're sync'ing package instances.</li>
  <li>Save the platform field when creating a package instance record.</li>
  <li>Move to individual operation callbacks for VBO tasks.</li>
  <li><a href="https://drupal.org/node/2022849">#2022849</a>: Record disable and delete backups in the database.</li>
  <li><a href="https://drupal.org/node/2031491">#2031491</a>: Rename SSL permission to be more descriptive.</li>
  <li>Clean up hosting_node_grants().</li>
  <li>Add 'administer' permissions for platforms and servers, and allow platforms to be viewed.</li>
</ul>

<h2>NEW FEATURES</h2>

<ul>
  <li><a href="https://drupal.org/node/905326">#905326</a> by ergonlogic, crea: Improve file path changes.</li>
  <li><a href="https://drupal.org/node/1201174">#1201174</a>: Make UID1 username configurable.</li>
  <li><a href="https://drupal.org/node/1345118">#1345118</a>: Make platform access control an autocomplete form.</li>
  <li><a href="https://drupal.org/node/1515416">#1515416</a> by ergonlogic, helmo, Deciphered: Replace listing of sites and platforms using a package with a view.</li>
  <li><a href="https://drupal.org/node/1975086">#1975086</a>: Add 'update status' button to tasks.</li>
  <li><a href="https://drupal.org/node/2005310">#2005310</a>: Add VBO operations to platforms view.</li>
  <li><a href="https://drupal.org/node/2006074">#2006074</a> by Deciphered: Enable backups via VBO.</li>
  <li><a href="https://drupal.org/node/2025787">#2025787</a> by omega8cc, ergonlogic, anarcat: Open site goto link in a new window/tab.</li>
  <li><a href="https://drupal.org/node/2022813">#2022813</a> by Deciphered: Expose backups to Views.</li>
  <li><a href="https://drupal.org/node/2027269">#2027269</a>: Update a task's status after all Drush operations are complete.</li>
  <li><a href="https://drupal.org/node/2031491">#2031491</a>: Review and update permissions for all roles.</li>
  <li><a href="https://drupal.org/node/2031765">#2031765</a>: Clean up VBO operations with Action Permissions.</li>
  <li><a href="http://drupal.org/node/2035873">#2035873</a>: Show package 'popularity' on platform package view</li>
  <li><a href="https://drupal.org/node/2036283">#2036283</a>: Make Aegir aware of site-specific packages.</li>
  <li><a href="https://drupal.org/node/2036793">#2036793</a> Ignore hidden modules and profiles.</li>
  <li><a href="https://drupal.org/node/2037045">#2037045</a> by helmo, ergonlogic: Change some log statuses to better match Drush's log styling.</li>
  <li><a href="https://drupal.org/node/2037965">#2037965</a>: Clean up hosting-pause.</li>
  <li><a href="https://drupal.org/node/2038279">#2038279</a> by ergonlogic, Jon Pugh: Validate email during site install.</li>
  <li>Display all validation errors when adding a client, and limit to 20 suggestions.</li>
  <li>Flag rollbacks as warnings in our task logs.</li>
  <li>Handle package page views separately for sites and platforms.</li>
  <li>Update default hosting_site views to use new access plugin for blocks, and add a couple more displays for non admin listings.</li>
  <li>Add Views access plugin for hosting_site and hosting_package.</li>
  <li>Add views handler to filter packages by status.</li>
</ul>

<h2>BUG FIXES</h2>

<ul>
  <li><a href="https://drupal.org/node/1238618">#1238618</a>: Fix client form validation.</li>
  <li><a href="https://drupal.org/node/1263264">#1263264</a> by ergonlogic, recidive, anarcat: Specify a type when getting a package, to avoid collisions.</li>
  <li><a href="https://drupal.org/node/1647830">#1647830</a> by sambonner: Fix Incorrect ownership of directories under sites/example.com/private/files/.</li>
  <li><a href="https://drupal.org/node/1861898">#1861898</a> by ergonlogic, Jon Pugh: Don't hardcode the types of entities to which we can attach tasks.</li>
  <li><a href="https://drupal.org/node/1975086">#1975086</a> by helmo | anarcat: Fixed updating a task when there is none.</li>
  <li><a href="https://drupal.org/node/2025355">#2025355</a>: view platform' permission broken</li>
  <li><a href="https://drupal.org/node/2026417">#2026417</a>: Disambiguate site operations.</li>
  <li><a href="https://drupal.org/node/2031491">#2031491</a>: Fix roles.</li>
  <li><a href="http://drupal.org/node/2031747">#2031747</a>: Fix Views block placement and visibility.</li>
  <li><a href="https://drupal.org/node/2038891">#2038891</a>: Add 'client_email' option to 'provision-install-backend'.</li>
  <li><a href="https://drupal.org/node/2038891">#2038891</a>: Switch from '--invoke' to '--strict=0' for backend calls.</li>
  <li><a href="https://drupal.org/node/2040285">#2040285</a> debian: properly detect webserver, again</li>
  <li><a href="http://drupal.org/node/2044251">#2044251</a> drush command '@none provision-save' could not be found</li>
  <li><a href="https://drupal.org/node/2045907">#2045907</a>: Remove extra tabs from deleted platforms.</li>
  <li>Fix php 5.4 issue</li>
  <li>Add missing unicode include for UID1 name validation.</li>
  <li>Fix update hook name.</li>
  <li>Only register shutdown function to update task status in the context of a front-end task.</li>
  <li>Don't display package block on profiles.</li>
  <li>Only show link to add clients on site form to those with proper permissions.</li>
  <li>Override hook_access functions for node_grants when hosting_client is enabled.</li>
  <li>Register node type in hosting_task's Hosting feature.</li>
  <li>Clean up Views exposed forms.</li>
  <li>Fix Views block placement and visibility.</li>
  <li>Only display client sites block on the 'view' tab.</li>
</ul>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-165.html?destination=node%2F2730%23comment-form">Login</a> or <a href="../../../../../user/register/index-165.html?destination=node%2F2730%23comment-form">register</a> to post comments</span></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-165.html?destination=node%2F2730%23comment-form">Login</a> or <a href="../../../../../user/register/index-165.html?destination=node%2F2730%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>




<div  id="node-2725" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../2/index-11.html">2.0-beta2 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div class='field terms clear-block'><span class='field-label-inline-first'>Tagged:</span> <ul class="links inline"><li class="taxonomy_term_4 first"><a href="../../../../../taxonomy/term/4/index.html" rel="tag" title="This level is for users who have access to only their sites and not able to manage all Aegir features, accounts or the server/system.">Client</a></li>
<li class="taxonomy_term_27"><a href="../../../../../category/level/developer/index.html" rel="tag" title="This level is generally for users interested in further developing the Aegir system itself, or extending it with contributed modules.">Developer</a></li>
<li class="taxonomy_term_3"><a href="../../../../../taxonomy/term/3/index.html" rel="tag" title="This level is for users, who are using hosted Aegir version, without access to the server root, with features limited to those allowed by their host, and often with Aegir UI changed/simplified.">Hosted</a></li>
<li class="taxonomy_term_2 last"><a href="../../../../../taxonomy/term/2/index.html" rel="tag" title="This level is generally for users with the root access to their server, who are responsible for installation and configuration of entire Aegir system environment.">Sysadmin</a></li>
</ul></div><p>The Aegir team is pleased to announce the second stabilization (beta) release of the Aegir 2.x branch.</p>

<p>This release mainly targets a few critical bugs that were found in the first beta, namely IP allocation on non-SSL and non-cluster sites which was completely broken and bugs the Debian package. We also introduce a few new features and finally drop support for provisionning Drupal 5 sites completely.</p>

<p>While we are in feature freeze, we have continued to add some UI improvements, since they don't affect the API. We've added some long-standing UI enhancements, and fixed a number of bugs in the views integration and other usability problems.</p>

<p>We are down to only one active critical bug. If no other critical bugs are discovered during the time it takes us to fix it, we should move on to our first release candidate!</p>

<h1>Known issues</h1>

<p>Our release process is still done by hand instead of automated because we can't use our aegir distribution as core (<a href="https://drupal.org/node/1991764">issue #1991764</a>)</p>

<p><a href="https://drupal.org/node/1931000">Issue #1931000: Missing drush backend output in frontend log</a> has been fixed, but may require a <a href="https://drupal.org/node/2025527#comment-7566747">patch to Drush</a> for the use of hosting-queued.</p>

<p>Subdirectory support is still very preliminary and needs those issues to be fixed before completion:</p>

<ul>
<li>Nginx support missing (<a href="https://drupal.org/node/2020091">issue #2020091</a>)</li>
<li>If <code>example.com/foo</code> is created, the <code>example.com</code> virtual will be overwritten and the site inaccessible under that domain (<a href="https://drupal.org/node/2020089">issue #2020089</a>)</li>
<li>Multi-server support is untested (<a href="https://drupal.org/node/2020079">issue #2020079</a>)</li>
<li>Code needs to be refactored to the new 2.x API (<a href="https://drupal.org/node/2020075">issue #2020075</a>)</li>
</ul>

<p>The move to Views has highlighted some additional issues:</p>

<ul>
<li><a href="https://drupal.org/node/2025355">#2025355: view platform' permission broken</a></li>
<li><a href="https://drupal.org/node/2005310">#2005310: No actions available on platforms view</a></li>
</ul>

<p>Fixing <a href="https://drupal.org/node/2027269">#2027269: warnings and errors in front-end pre- and post- hooks are ignored for task status</a> required a new Drush commandfile, and thus a 'drush cc drush' if upgrade between an alpha/beta release and HEAD.</p>

<p>The debian package <em>still</em> doesn't properly configure the webserver, a patch has been committed and a workaround is available in <a href="https://drupal.org/node/2040285">issue #2040285</a>.</p>

<h1>New features</h1>

<ul>
<li><a href="http://drupal.org/node/600350">#600350: provide a nice "history" of ran tasks</a></li>
<li><a href="http://drupal.org/node/1988642">#1988642: Add site by platform</a></li>
<li><a href="http://drupal.org/node/1912238">#1912238: automatically build and upload aegir 2.x packages</a></li>
<li><a href="http://drupal.org/node/585830">#585830: usability story: "How do I create a client?"</a></li>
<li><a href="http://drupal.org/node/1830220">#1830220: Drop support for Drupal 5 in 2.x</a></li>
<li><a href="http://drupal.org/node/1212086">#1212086: Platforms should be locked by default</a></li>
<li><a href="http://drupal.org/node/1403208">#1403208: Add additional roles</a></li>
<li><a href="http://drupal.org/node/1174440">#1174440: provide a way to show site's DB username/password in the frontend</a></li>
<li><a href="http://drupal.org/node/606120">#606120: Disabled sites should be class hosting-warning, enabled but problematic sites should be hosting-error</a></li>
</ul>

<h1>Bug fixes</h1>

<ul>
<li><a href="http://drupal.org/node/1992254">#1992254: restarting the mysql server crashes hosting-queued</a></li>
<li><a href="http://drupal.org/node/1761932">#1761932: Explain that updates will require the verify task to run</a></li>
<li><a href="http://drupal.org/node/1603702">#1603702: allows creation of SSL site even if there are no IPs available</a></li>
<li><a href="http://drupal.org/node/1130992">#1130992: User 1 has lost the ability to create platforms</a></li>
<li><a href="http://drupal.org/node/1126638">#1126638: two sites can take the same server IP for SSL</a></li>
<li><a href="http://drupal.org/node/1994000">#1994000: Nginx looking in wrong place for SSL setup information</a></li>
<li><a href="http://drupal.org/node/2023621">#2023621: Unable to allocate IP address for certificate, disabling SSL.</a></li>
<li><a href="http://drupal.org/node/1929454">#1929454: hosting_cron.modules requires hosting_site.module but lacks a dependency.</a></li>
<li><a href="http://drupal.org/node/2014589">#2014589: Views-based package list omits module/theme version</a></li>
<li><a href="https://drupal.org/node/2005246">#2005246: It is possible to disable Hostmaster site via bulk site operations</a></li>
<li><a href="http://drupal.org/node/2025533">#2025533: Mod Rewrite and Apache.conf symlink not created with debian package - beta2</a></li>
</ul>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-166.html?destination=node%2F2725%23comment-form">Login</a> or <a href="../../../../../user/register/index-166.html?destination=node%2F2725%23comment-form">register</a> to post comments</span></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-166.html?destination=node%2F2725%23comment-form">Login</a> or <a href="../../../../../user/register/index-166.html?destination=node%2F2725%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>




<div  id="node-2714" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../2/index-12.html">2.0-beta1 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div class='field terms clear-block'><span class='field-label-inline-first'>Tagged:</span> <ul class="links inline"><li class="taxonomy_term_4 first"><a href="../../../../../taxonomy/term/4/index.html" rel="tag" title="This level is for users who have access to only their sites and not able to manage all Aegir features, accounts or the server/system.">Client</a></li>
<li class="taxonomy_term_27"><a href="../../../../../category/level/developer/index.html" rel="tag" title="This level is generally for users interested in further developing the Aegir system itself, or extending it with contributed modules.">Developer</a></li>
<li class="taxonomy_term_3"><a href="../../../../../taxonomy/term/3/index.html" rel="tag" title="This level is for users, who are using hosted Aegir version, without access to the server root, with features limited to those allowed by their host, and often with Aegir UI changed/simplified.">Hosted</a></li>
<li class="taxonomy_term_2 last"><a href="../../../../../taxonomy/term/2/index.html" rel="tag" title="This level is generally for users with the root access to their server, who are responsible for installation and configuration of entire Aegir system environment.">Sysadmin</a></li>
</ul></div><p>The Aegir team is pleased to announce the first stabilization (beta) release of the Aegir 2.x branch, after nearly 3 weeks of development since our second alpha release. While we had expected an additional alpha release prior to the beta cycle, development on outstanding features went smoother than foreseen. We've added some significant features, and fixed a couple bugs and (again) made some important improvements to our API.</p>

<p>This release marks our feature freeze. The intention is to limit any further changes to only critical and major bug fixes. However, exceptions may be granted on a case by case basis. Our development efforts will now move to tackling all release critical bugs. Once all of these are fixed, we'll move on to our release candidate (RC) phase. That said, we expect this release to be sufficiently stable that we intend to run it in production at Koumbit soon.</p>

<h1>Release overview</h1>

<p>This release introduces a major new feature into Aegir core: support for installing sites in subdirectories (example.com/foo, example.com/bar, etc.). This has been our number one feature request from higher education institutions, and so we hope that this will enable greater adoption within that sector. While categorized as an "experimental" feature, we feel our approach is sufficiently strong that we're considering merging this into our core site functionality.</p>

<p>Additional new features include a nice homepage, fixes to SSL support and IP allocation on clusters, and we've added a couple new roles.</p>

<p>We've also tackled a number of bugs, especially in the Debian package, which now supports installing Aegir on Nginx servers. We've also fixed some issues introduced with the new views code, and improved nginx support.</p>

<p>The project's Debian repo now includes Drush 5.9, and we have migrated the 'aegir2' packages to the Testing repository.</p>

<h1>Known issues</h1>

<ul>
<li>the debian package shows a lot of garbage when installing from scratch, which is almost harmless except that we don't see the login URL, use <code>drush @hostmaster uli</code> to get a new one, fixed in <a href="http://drupal.org/node/2002076">issue #2002076</a></li>
<li>SSL support was severely broken for single servers and could lead to loss of the SSL certificate copies when a non-SSL site is installed. See commits f0980e0..9b86038 in Provision for fixes. (fixed in issue <a href="https://drupal.org/node/2023621">#2023621</a>)</li>
<li>the Debian package is severely broken - in most configuration (e.g. clean installs but not upgrade) the install will just fail with a permission denied. See commits <a href="http://drupalcode.org/project/provision.git/commit/d4efa37">d4efa37</a> and <a href="http://drupalcode.org/project/provision.git/commit/56d1718">56d1718</a> for fixes.</li>
</ul>

<p>These are related to drush:</p>

<ul>
<li>some warnings and errors may not show up in Aegir's task logs, making it believe tasks succeeded when the actually failed. this affects only hosting-queued. (<a href="https://drupal.org/node/1931000">issue #1931000</a> / <a href="https://drupal.org/node/1982502">issue #1982502</a>)</li>
<li>our release process is now done by hand instead of automated because we can't use our aegir distribution as core (<a href="https://drupal.org/node/1991764">issue #1991764</a>)</li>
</ul>

<p>Subdirectory support is still very preliminary and needs those issues to be fixed before completion:</p>

<ul>
<li>Nginx support missing (<a href="https://drupal.org/node/2020091">issue #2020091</a>)</li>
<li>If <code>example.com/foo</code> is created, the <code>example.com</code> virtual will be overwritten and the site inaccessible under that domain (<a href="https://drupal.org/node/2020089">issue #2020089</a>)</li>
<li>Multi-server support is untested (<a href="https://drupal.org/node/2020079">issue #2020079</a>)</li>
<li>Code needs to be refactored to the new 2.x API (<a href="https://drupal.org/node/2020075">issue #2020075</a>)</li>
</ul>

<h1>API changes</h1>

<ul>
<li>Multiple files can be managed in a single context now (see <a href="https://drupal.org/node/2000038">issue #2000038</a>, <a href="https://drupal.org/node/1784108">issue #1784108</a>)</li>
</ul>

<h1>New features</h1>

<ul>
<li>Support for installing in subdirectories (<a href="https://drupal.org/node/705026">issue #705026</a>)</li>
<li>Proper homepage on startup so non-logged-in users don't see an error page, and new users have basic instructions (<a href="https://drupal.org/node/1793740">issue #1793740</a>)</li>
<li>SSL support for clusters should now work properly (<a href="https://drupal.org/node/2000964">issue #2000964</a>)</li>
<li>New roles added: 'aegir platform manager', 'aegir administrator' (<a href="https://drupal.org/node/1403208">issue #1403208</a>)</li>
<li>Convert list of platforms to use views (<a href="https://drupal.org/node/1876350">Issue #1876350</a>)</li>
</ul>

<h1>Bugfixes</h1>

<ul>
<li>Debian package support for nginx was severely broken <a href="http://drupal.org/node/2001142">issue #2001142</a></li>
<li>the views bulk operations version shipped with alpha2 had security issues, see <a href="http://drupal.org/node/2001964">issue #2001964</a></li>
<li>an update hook was incorrectly named, and has since been fixed. The updates should not be destructive, but may output errors.</li>
<li>Placement of a number of our new Views-based blocks was omitted from the install profile, and so won't appear on a fresh install. These can be manually placed on the blocks page.</li>
<li>fix warning "Invalid argument supplied for foreach()" (<a href="https://drupal.org/node/2005698">issue #2005698</a>)</li>
<li>fix "Unknown options for provision-save" error (<a href="https://drupal.org/node/1972286">issue #1972286</a>)</li>
<li>removed hardcoded checks for IP addresses in <code>settings.php</code> that belong to core (<a href="https://drupal.org/node/2013683">issue #2013683</a>)</li>
<li>Views filter for status does not tell what to filter for (<a href="https://drupal.org/node/1997088">issue #1997088</a>)</li>
<li>nginx cloaks database credentials properly now</li>
<li>configure nginx to properly talk to the default php-fpm configuration in Debian (<a href="https://drupal.org/node/1635622">issue #1635622</a>)</li>
<li>lots of fixes for the Debian package, including

<ul>
<li>Silence garbage in the install output (<a href="https://drupal.org/node/2002076">issue #2002076</a>)</li>
<li>nginx support in sudoers file (<a href="https://drupal.org/node/2001142">issue #2001142</a>)</li>
<li>nginx autodetection in Debian package (<a href="https://drupal.org/node/2003712">issue #2003712</a>)</li>
</ul></li>
</ul>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-167.html?destination=node%2F2714%23comment-form">Login</a> or <a href="../../../../../user/register/index-167.html?destination=node%2F2714%23comment-form">register</a> to post comments</span></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-167.html?destination=node%2F2714%23comment-form">Login</a> or <a href="../../../../../user/register/index-167.html?destination=node%2F2714%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>




<div  id="node-2633" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../2/index-13.html">2.0-alpha2 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <p>The Aegir team is pleased to announce the second preview (alpha) release of the Aegir 2.x branch, after nearly 3 months of development since our first alpha release. We've squashed a number of tenacious bugs, added some nifty features, and made some important improvements to our API. We expect at least one more alpha release before we call a feature-freeze, and begin out stabilizing and cleanup (beta) release cycle.</p>

<p>During this release cycle, we also began work on Aegir 3, a more-or-less straight port of Aegir 2 to Drupal 7. We continue to sync changes in 2.x to our 3.x branch, and look forward to continuing the port (and beginning to add new features) as soon as we've released our first stable 2.x release.</p>

<p>Our next alpha release will target getting sub-site support (example.com/site1, example.com/site2, etc.) into Aegir core as an experimental feature. This has been our number one feature request from higher education institutions, and so we intend to incorporate it into Aegir 2, in order to enable greater adoption within that sector. We have a fairly detailed implementation plan, and so feel confident that we can incorporate this major feature, in fairly short order.</p>

<h1>Release overview</h1>

<p>This release features improvements to the IP management mechanisms that were broken in the last alpha1 release. We now manage IP addresses individually, and check if an IP is in use before allowing it to be deleted.</p>

<p>We also finally leave the files alone on spokes in the multi-server model, a long-standing bug in the 1.x series that led to data loss. A lot of work was done to standardize the Nginx configuration to allow for simpler, yet optional, configurations that leave the admin in charge of choosing the optimisation methods.</p>

<p>Also, we've moved Hosting and Eldir back to their own projects, and are now included via our makefiles. This simplifies building custom install profiles, though it complicates our release process somewhat. We've also added a drupal-org.make that will eventually allow proper distribution bundling of Aegir.</p>

<p>Finally, we've moved to using Views and View Bulk Operations for our lists of sites, platforms and packages. While there remain some rough edges, this will allow much easier customization of our principal UIs. It has also significantly reduced the custom code we have to maintain, in favour of exported Views, which simplifies maintenance.</p>

<h1>Known issues</h1>

<ul>
<li>the Debian package support for nginx is severely broken <a href="http://drupal.org/node/2001142">#2001142</a></li>
<li>the views bulk operations version shipped with alpha2 has security issues, see <a href="http://drupal.org/node/2001964">#2001964</a></li>
<li>the debian package shows a lot of garbage when installing from scratch, which is almost harmless except that we don't see the login URL, use <code>drush @hostmaster uli</code> to get a new one, fixed in <a href="http://drupal.org/node/2002076">#2002076</a></li>
<li>an update hook was incorrectly named, and has since been fixed. This may cause the hook to be run again, if the site is upgraded to a newer version. The updates should not be destructive, but may output errors.</li>
<li>Placement of a number of our new Views-based blocks was omitted from the install profile, and so won't appear on a fresh install. These can be manually placed on the blocks page.</li>
</ul>

<h1>API changes</h1>

<ul>
<li>deprecate hosting_ip_delete_revision(), dupe of hosting_ip_delete() now that revisions are gone (8 weeks ago)</li>
<li>allow running tasks that appear to be running with --force</li>
<li>remove deprecated DEBUG flag in debian package</li>
<li>#1785624: Some Drupal API changes in D7 (and D8) are not used/respected properly</li>
<li>#1945950: Rename provision_drupal_sync_site_back()</li>
<li>#1083366: Make the spokes authoritative for files/ and private/ directories</li>
<li>#1812338: Refactor sync back</li>
<li>a new control file has been introduced in /etc/nginx/basic_nginx.conf to force the nginx configuration to be the "simpler" one (see #1635596: nginx: do not decide the policy for users)</li>
<li>#1987026: Move generated platform drushrc.php to sites/all/drush</li>
</ul>

<h1>New features</h1>

<ul>
<li>#1929372: Flag tasks with logged warnings</li>
<li>#1515416: On a package page, show table listing sites and platforms using the package</li>
<li>#1853620: Add db_name to site summary</li>
<li>#1681904: Ability to configure a url to redirect to in site configuration.</li>
<li>#1968226: manage each IP individually on the server level - manage IPs individually</li>
<li>add uninstall command</li>
<li>Nginx Security: BEAST attack protection and fix for PCI compliance.</li>
<li>#1980136: Allow setting default profile from the front-end.</li>
<li>#588728: Replace custom lists with Views and VBO for sites, platforms and packages.</li>
</ul>

<h1>Bugfixes</h1>

<ul>
<li>#1930670: Duplicate entry 0 for key PRIMARY in hosting_ip_addresses when installing / upgrading</li>
<li>#1907028: user warning: Table 'XXX.hosting_ip_addresses' doesn't exist</li>
<li>#1961920: nginx: [emerg] invalid number of arguments in "limit_conn_zone" directive in /etc/nginx/conf.d/aegir.conf</li>
<li>#1923490: Incorrect error message in aegir-provision2.preinst</li>
<li>#1901508: "gzip --rsyncable" is invalid on OS X</li>
<li>#1678528: Database deleted on edge cases</li>
<li>#1930740: provision-delete leaves a drushrc.php lying around</li>
<li>Nginx: Do not override Nginx name with fake Apache name.</li>
<li>#1990370: Enable Hosting feature dependencies.</li>
</ul>

<h1>Other</h1>

<ul>
<li>#1923552: Rename 'Queue runner settings' tab to 'Queue daemon'</li>
<li>#1834036: Add 'hosting platform pathauto' to the .gitignore</li>
<li>#1785624: Some Drupal API changes in D7 (and D8) are not used/respected properly</li>
<li>#1979496: Update upgrade.sh.txt for Drush 5</li>
<li>#1974752: Document old_uri option for provision-deploy</li>
</ul>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-168.html?destination=node%2F2633%23comment-form">Login</a> or <a href="../../../../../user/register/index-168.html?destination=node%2F2633%23comment-form">register</a> to post comments</span></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-168.html?destination=node%2F2633%23comment-form">Login</a> or <a href="../../../../../user/register/index-168.html?destination=node%2F2633%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>




<div  id="node-2338" class="node node-book clear-block">
  
      <h2 class='node-title'>
            <a href="../../../../../2/index-14.html">2.0-alpha1 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <p>The Aegir team is pleased to announce the first preview release (<em>alpha</em>) of the Aegir 2.x branch, after almost 2 years of development. We have been pretty busy with the maintenance of the 1.x branch, so development has been sometimes intermittent, but it is not over yet!</p>

<p>This release is only a first of a series of alpha releases that are tailored to make upcoming changes available to a wider audience than people ready to install from git, but also to make features more widely available and tested. More alpha releases will be published on a more regular basis in the weeks to come as more features from the <a href="../../../../1829/index.html">new provisional roadmap</a> are implemented. We are still considering the following:</p>

<p>We have set the following priorities:</p>

<ol>
<li>subsite support (<a href="https://drupal.org/node/705026">#705026</a>) - now that mig5 did most of the work ;)</li>
<li>nginx cleanup (<a href="https://drupal.org/node/1635596">#1635596</a>, <a href="https://drupal.org/node/1635622">#1635622</a>, <a href="https://drupal.org/node/1622846">#1622846</a>, <a href="https://drupal.org/node/1635586">#1635586</a>, <a href="https://drupal.org/node/1608910">#1608910</a>) and Nginx Debian package (<a href="https://drupal.org/node/1348560">#1348560</a>)</li>
<li>files/ sync settled (<a href="https://drupal.org/node/1083366">#1083366</a>)</li>
<li><STRIKE>SSL code cleanup (<a href="http://drupal.org/node/941870">#941870</a>, <a href="../../../../../discuss/first-quarterly-report-aegir-funding-work/index.html#SSL_and_IP_allocation_work">see also this report</a>)</strike> - done! Now onto testing and fixing the actual bugs linked from <a href="http://drupal.org/node/941870">#941870</a></li>
</ol>

<p>We would like to get those in 2.x, but since no one has really started significant work on those, we are more likely to simply postpone those to 3.x at this point.</p>

<ol>
<li>standard archive support (<a href="https://drupal.org/node/1138882">#1138882</a>, <a href="../../../../../roadmap/2/index.html#Standard_archive_support">original roadmap description</a>)</li>
<li>intersite security (the infamous <a href="https://drupal.org/node/762138">#762138</a>)</li>
<li>more intelligence in spokes (<a href="../../../../../roadmap/2/index.html#From_a_hub-spoke_to_a_mesh_model">original roadmap description</a>)</li>
</ol>

<p>Also, since every single attempt at providing a proper timeline for the final 2.0 release has failed miserably, we'll just stop trying our luck and just give up on a formal timeline. Instead, we'll just do the freaking work. :) Also remember that the <a href="http://drupal.org/node/1261030">port to Drupal 7</a> has been <a href="http://drupal.org/node/1261030">postponed to Aegir 3</a>. Aegir 1 and 2 both support provisionning Drupal 7 sites, but the frontend is running Drupal 6. We are aiming for a "straight port" (no rewrite) of the frontend for Aegir 3.</p>

<script type="text/javascript">toc_collapse=0;</script><div class="toc" id="toc3">
<div class="toc-title">Table of Contents<span class="toc-toggle-message">&nbsp;</span></div>
<div class="toc-list">
<ol>
	<li class="toc-level-1"><a href="#Major_changes"><span class="toc-number">1. </span>Major changes</a></li>
	<li class="toc-level-1"><a href="#Major_API_changes"><span class="toc-number">2. </span>Major API changes</a></li>
	<li class="toc-level-1"><a href="#Installing_and_upgrading"><span class="toc-number">3. </span>Installing and upgrading</a></li>
	<li class="toc-level-1"><a href="#Need_help"><span class="toc-number">4. </span>Need help?</a></li>
	<li class="toc-level-1"><a href="#Features_and_improvements"><span class="toc-number">5. </span>Features and improvements</a></li>
	<li class="toc-level-1"><a href="#Bugfixes"><span class="toc-number">6. </span>Bugfixes</a></li>
	<li class="toc-level-1"><a href="#Known_issues"><span class="toc-number">7. </span>Known issues</a></li>
</ol>
</div>
</div>

<h2 id="Major_changes">1. Major changes</h2>

<p>This first alpha already packs a lot of changes. Those release notes detail the changes since the 2.x branch was first created, all the way back two years ago, when <a href="../../../../../1/index-12.html">1.0 was released</a>. Of course, we are not detailing all the changes made in the 1.x series that are all part of the 2.x, but only the changes specific to the 2.x release.</p>

<ul>
<li>SSL improvements:

<ul>
<li><a href="https://drupal.org/node/1126640">IP allocation was moved to the backend to the frontend</a></li>
<li>SSL certificate generation now has saner defaults (e.g. 2048bits)</li>
<li>better error handling</li>
</ul></li>
<li><p>Drush 5 support</p>

<ul>
<li>includes better support for archive-dump command</li>
<li>means we also drop the dependency on drush make 2.3, now included in Drush 5</li>
<li>support for Drush 4 has been dropped, the minimum version is now 5.5</li>
</ul></li>
<li><p>Debian package improvements and changes</p>

<ul>
<li>Nginx support in the Debian package</li>
<li>now a "native" debian package</li>
<li>package name changed: it is now <code>aegir2</code>, <code>aegir-provision2</code>, etc, to avoid overwriting the previous package - note that aegir 1 and 2 can <em>not</em> be installed in parallel</li>
</ul></li>
<li>Nginx improvements:

<ul>
<li>fixed support for nginx 1.3 and newer</li>
<li>better defaults for caching</li>
<li>SSL and Nginx are now officially supported (not marked as "experimental")</li>
</ul></li>
<li>New modules:

<ul>
<li>the <code>hosting-queue-runner</code> module is now <a href="https://drupal.org/node/1189556">merged into core</a> as <code>hosting-queued</code></li>
<li>"pack" module, designed as a lightweight replacement to the "cluster" module, now available as an experimental extension</li>
</ul></li>
<li>Hosting-queued improvements

<ul>
<li>run with a lower priority ("<em>niced</em>")</li>
<li>improved portability and reliability of startup script</li>
<li>enabled by default in the Debian package</li>
</ul></li>
<li>Code refactoring and improvements:

<ul>
<li>now using the Symphony autoloading code</li>
<li>fix coding style in a lot of source files</li>
<li>improved builtin test suite</li>
<li>eldir is <a href="https://drupal.org/node/1468874">split in its own module again</a>, allowing for porting it more easily to Drupal 7</li>
</ul></li>
</ul>

<p>A more detailed log of bugfixes and improvements is available below.</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Major_API_changes">2. Major API changes</h2>

<p>Those changes are, as usual, more explicitly documented in the <a href="../../../../../upgrading/path/index.html">upgrade path</a> documentation.</p>

<ul>
<li>hosting-task now needs a <code>--force</code> argument to run a non-queued task</li>
<li>functions that were deprecated in 1.x are now removed</li>
<li>the <code>email</code> and <code>client_email</code> database fields are now removed from client and site node types</li>
<li>numerous changes to the IP allocation and SSL management code</li>
</ul>

<p>Please note that the 2.x API is still not considered stable and may change without warning until 2.x is fully stabilized, see <a href="../../../../../content/release-process/index.html">our release process</a> for more information.</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Installing_and_upgrading">3. Installing and upgrading</h2>

<p>The canonical source of installation documentation is on the community site at:</p>

<pre><code>http://community.aegirproject.org/installing
</code></pre>

<p>In a similar fashion, the upgrade documentation is:</p>

<pre><code>http://community.aegirproject.org/upgrading
</code></pre>

<p>Within those sections you'll find step-by-step instructions for performing both <a href="../../../../../upgrading/manual/index.html">manual</a> and <a href="../../../../../upgrading/script/index.html">automatic</a> upgrade processes.</p>

<p>Note that you should upgrade to the latest 1.x release (currently: <a href="../../../../../1/index-3.html">1.9</a>) before attempting the upgrade to 2.x. This is especially important if you are running a pre-1.0 release (poor you!).</p>

<p>It is still imperative that you read the <a href="../../../../../upgrading/path/index.html">upgrade path and version-specific information</a> and follow all version-specific upgrade instructions before trying to run the upgrade script or manual upgrade.</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Need_help">4. Need help?</h2>

<p>If you struggle to install or upgrade your Aegir system, you have a number of options available to you for getting help.</p>

<p>Consult this page for more information: <a href="../../../../../help/index.html" title="http://community.aegirproject.org/help">http://community.aegirproject.org/help</a></p>

<p>Thanks to our awesome <a href="../../../../../index.html">community</a> for their help, support and encouragement as always! Enjoy the new release :)</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Features_and_improvements">5. Features and improvements</h2>

<p>In addition to the "major changes" mentioned above, the following should also be noted.</p>

<ul>
<li><a href="http://drupal.org/node/1830994">#1830994: Login directly via 'login' link</a></li>
<li><a href="http://drupal.org/node/1853588">#1853588: Sort Install profiles on Site add form</a></li>
<li><a href="http://drupal.org/node/709862">#709862: Allow drush modules to add to apache vhost config template</a></li>
<li><a href="http://drupal.org/node/1861896">#1861896: Make $type argument of function hosting_available_tasks() optional.</a></li>
<li><a href="http://drupal.org/node/1843198">#1843198: Add Content top and bottom to Eldir.</a></li>
<li><a href="http://drupal.org/node/1826074">#1826074: Add tests to ensure site directories are migrated</a></li>
<li><a href="http://drupal.org/node/1464220">#1464220: Support alternative 'Hostmaster' profiles</a></li>
<li><a href="http://drupal.org/node/610040">#610040: Add X links on listing pages</a></li>
<li><a href="http://drupal.org/node/710834">#710834: notify clients on site migrations</a></li>
<li><a href="http://drupal.org/node/1260066">#1260066: Allow use of the working copy option when creating a platform</a></li>
<li><a href="http://drupal.org/node/1047992">#1047992: exportable backups</a></li>
<li><a href="http://drupal.org/node/1189556">#1189556: Pull the queue runner into Aegir 2</a></li>
<li><a href="http://drupal.org/node/1408410">#1408410: Add microcaching to Nginx config by default</a></li>
<li><a href="http://drupal.org/node/1138104">#1138104: Tiny module to automatically fill in platform publish path based on title</a></li>
</ul>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Bugfixes">6. Bugfixes</h2>

<p>This is a non-exhaustive list.</p>

<ul>
<li><a href="http://drupal.org/node/1735174">#1735174: server verification fails after configuration on pack slave servers</a></li>
<li><a href="https://drupal.org/node/1798252">#1798252: reload hosting-queued on upgrade</a></li>
<li><a href="http://drupal.org/node/1898260">#1898260: platform form should allow editiong if platform is not verified</a></li>
<li><a href="http://drupal.org/node/1435098">#1435098: Client name validate sometimes gives erroneous results</a></li>
<li><a href="http://drupal.org/node/1591720">#1591720: Illegal choice when selecting sites to verify</a></li>
<li><a href="http://drupal.org/node/1587232">#1587232: All radios labels in forms use incorrect vertical-align property value (middle)</a></li>
<li><a href="http://drupal.org/node/1218130">#1218130: checking "Hide platforms with non-default profiles" breaks D7's minimal and standard profiles</a></li>
<li><a href="http://drupal.org/node/1227954">#1227954: hosting_quota lacks a feature.module_name.inc</a></li>
<li><a href="http://drupal.org/node/528064">#528064: h2 bigger than h1 in content</a></li>
<li><a href="http://drupal.org/node/460974">#460974: improve queue admin form</a></li>
<li><a href="http://drupal.org/node/1855486">#1855486: Patch to Remove some Notices</a></li>
<li><a href="http://drupal.org/node/1881868">#1881868: SA-CONTRIB-2012-080 hasn't been applied to 6.x-2.x</a></li>
<li><a href="http://drupal.org/node/1873384">#1873384: 'Silence warning' commit broke 6.x-2.x</a></li>
<li><a href="http://drupal.org/node/1843078">#1843078: aegir 2.x debian packages fail to install</a></li>
<li><a href="http://drupal.org/node/1829430">#1829430: drush hosting-tasks broken</a></li>
<li><a href="http://drupal.org/node/1146014">#1146014: A user can see sites that don't have a client associated.</a></li>
<li><a href="http://drupal.org/node/1256508">#1256508: path aliases for deleted sites are not deleted</a></li>
<li><a href="http://drupal.org/node/1249892">#1249892: Checkboxes on provision page not aligned</a></li>
<li><a href="http://drupal.org/node/941870">#941870: failure to copy SSL certificates should abort tasks</a></li>
<li><a href="http://drupal.org/node/1334950">#1334950: permissions on /var/aegir/config/server_NAME/SERVICE prevents access</a></li>
<li><a href="http://drupal.org/node/1471928">#1471928: provision-save: Unknown options: --context_type, --platform, --server, --db_server, --profile, --client_name, --aliases</a></li>
<li><a href="http://drupal.org/node/1751006">#1751006: Make is called incorrectly</a></li>
<li><a href="http://drupal.org/node/1750974">#1750974: Unable to pass working-copy or backend-only to hostmaster install</a></li>
<li><a href="http://drupal.org/node/1204990">#1204990: Drop old database when re-deploying a site.</a></li>
<li><a href="http://drupal.org/node/1734500">#1734500: Can't run tests with Drush 4.6</a></li>
<li><a href="http://drupal.org/node/1433406">#1433406: Make hosting (specifically hosting-dispatch) work with Drush 5</a></li>
<li><a href="http://drupal.org/node/1690472">#1690472: Declaration of Provision_Service_null::__call() should be compatible with that of Provision_Service::__call() null.php:27</a></li>
<li><a href="http://drupal.org/node/1266484">#1266484: Cannot verify Drupal 7.8 with PHP 5.2</a></li>
<li><a href="http://drupal.org/node/1612044">#1612044: upgrade from 1.7 to 2.x fails because of drush 5 command file cache</a></li>
<li><a href="http://drupal.org/node/1358768">#1358768: 6.x-2.x generates multiple Undefined property errors on hostmaster install</a></li>
</ul>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Known_issues">7. Known issues</h2>

<p>The Debian packages were not uploaded correctly on the release day, and have been unblocked only on 2013-12-12 14:45 (UTC-5).</p><div class="toc-back-to-top"><a href="#toc">Back to top</a></div><script type="text/javascript">toc_scroll_back_to_top = 1;</script>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-413.html?destination=node%2F2338%23comment-form">Login</a> or <a href="../../../../../user/register/index-413.html?destination=node%2F2338%23comment-form">register</a> to post comments</span></li>
<li class="talk_comments last"><a href="../../../../2338/talk/index.html" title="Jump to the first comment of this posting.">Talk</a></li>
</ul></div>
  </div>



    </div>
      </div>
</body>


<!-- Mirrored from community.aegirproject.org/node/13156/revisions/15981/view?print&book_recurse by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 18:13:17 GMT -->
</html>
