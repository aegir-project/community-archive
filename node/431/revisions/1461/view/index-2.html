<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from community.aegirproject.org/node/431/revisions/1461/view?print by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 17:42:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="prev" href="../../../../../upgrading/debian/index.html" />
<link rel="up" href="../../../../../upgrading/index.html" />
<link rel="next" href="../../../../../upgrading/path/index.html" />
<link rel="prev" href="../../../../../upgrading/debian/index.html" />
<link rel="up" href="../../../../../upgrading/index.html" />
<link rel="next" href="../../../../../upgrading/path/index.html" />
<link rel="prev" href="../../../../../upgrading/debian/index.html" />
<link rel="up" href="../../../../../upgrading/index.html" />
<link rel="next" href="../../../../../upgrading/path/index.html" />
<link rel="canonical" href="index.html" />
<link rel="shortcut icon" href="../../../../../sites/community.aegirproject.org/themes/up/favicon/index.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="print" href="../../../../../sites/community.aegirproject.org/files/css/css_5fa73dc3677977c016a597acd186e4e7/index.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../../../../sites/community.aegirproject.org/files/css/css_5fa73dc3677977c016a597acd186e4e7/index.css" />

  <title>Revision of Automatic upgrades with upgrade.sh script from Thu, 04/07/2011 - 18:14 | community.aegirproject.org</title>
</head>

<body  class="print rubik admin-static page">
  <div class='limiter clear-block'>
    <div id='content' class='clear-block'>
      <div class='print-header'>
      <h1 class='site-name'>community.aegirproject.org</h1>
  </div>
      

<div  id="node-431" class="node node-book clear-block node-page">
  
      <h2 class='node-title'>
            <a href="../../../../../upgrading/script/index.html">Automatic upgrades with upgrade.sh script</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div class='field terms clear-block'><span class='field-label-inline-first'>Tagged:</span> <ul class="links inline"><li class="taxonomy_term_2 first last"><a href="../../../../../taxonomy/term/2/index.html" rel="tag" title="This level is generally for users with the root access to their server, who are responsible for installation and configuration of entire Aegir system environment.">Sysadmin</a></li>
</ul></div><div id='diff-inline-431'><div class='diff-inline-metadata clear-block'><div class='diff-inline-byline'>Updated by <a href="../../../../../user/54/index.html" class="username" title="View user profile.">ergonlogic</a> on 04/07/2011 - 18:14</div><div class='diff-inline-legend clear-block'><label>Legend</label><span class='diff-added'>Added</span><span class='diff-changed'>Changed</span><span class='diff-deleted'>Deleted</span></div></div><p>This page describes the upgrade script in the Provision repository that tries to  automate much of the upgrade process.</p>

<p>It is imperative that you read the Version-specific upgrade notes located at  the bottom of this document before attempting to run the upgrade.sh script, as the script will assume you have your system set up appropriately to handle the upgrade process.</p>

<p>You can download the upgrade.sh script with the following command.</p>

<p>Make sure you download it to somewhere that the aegir user can access in order to execute it:</p>

<pre><code>wget -O upgrade.sh 'http://drupalcode.org/project/provision.git/blob_plain/refs/tags/6.x-1.0-rc3:/upgrade.sh.txt'
</code></pre>

<p>You may need to edit the script to set any variables that are different from the defaults, for example to upgrade to a different Aegir version. Then you just run the script:</p>

<pre><code>su -s /bin/sh aegir -c "sh <span class='diff-changed'>upgrade.sh"
</span></code></pre><span class='diff-deleted'>

</span><p><span class='diff-deleted'>Remember</span><span class='diff-deleted'> </span><span class='diff-deleted'>to</span><span class='diff-deleted'> </span><span class='diff-deleted'>replace</span><span class='diff-deleted'> </span><span class='diff-deleted'>aegir.example.com</span><span class='diff-deleted'> </span><span class='diff-deleted'>with</span><span class='diff-deleted'> </span><span class='diff-deleted'>the</span><span class='diff-deleted'> </span><span class='diff-deleted'>domain</span><span class='diff-deleted'> </span><span class='diff-deleted'>of</span><span class='diff-deleted'> </span><span class='diff-deleted'>your</span><span class='diff-deleted'> </span><span class='diff-deleted'>Aegir</span><span class='diff-deleted'> </span><span class='diff-deleted'>installation.</span></p></div>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-289.html?destination=node%2F431%23comment-form">Login</a> or <a href="../../../../../user/register/index-289.html?destination=node%2F431%23comment-form">register</a> to post comments</span></li>
<li class="print active"><a href="index-2.html?print" class="active">Print</a></li>
<li class="print_recurse active"><a href="index-3.html?print&amp;book_recurse" class="active">Print entire section</a></li>
<li class="talk_comments last"><a href="../../../talk/index.html" title="Jump to the first comment of this posting.">Talk</a></li>
</ul></div>
  </div>


<div id="comments">
  <a id="comment-2281"></a>


<div  id="comment-2281" class="comment comment-published clear-block decay-10 decay-10">
      <div class='comment-submitted clear-block'>
      <div class="picture">
  <a href="../../../../../users/marafa/index.html" title="View user profile."><img src="../../../../../sites/community.aegirproject.org/files/imagecache/user-s/profiles/openatrium/themes/ginkgo/images/user/index.png" alt="marafa&#039;s picture" title="View user profile." width="30" height="30" class="imagecache imagecache-user-s"/></a></div>
      <div class='byline'><a href="../../../../../users/marafa/index.html" class="username" title="View user profile.">marafa</a></div><div class='date'>9:36am Feb 16, 2014</div>    </div>
  
      <h2 class='comment-title'>
            <a href="../../../talk/index.html#comment-2281">#1</a>    </h2>
  
      <div class='comment-content clear-block prose'>
      <p>upgrades via script doesn't work: see <a href="https://drupal.org/node/2181885" title="https://drupal.org/node/2181885">https://drupal.org/node/2181885</a></p>    </div>
  
      <div class='comment-links clear-block'><ul class="links"><li class="comment_forbidden first last"><span><a href="../../../../../user/login/index-289.html?destination=node%2F431%23comment-form">Login</a> or <a href="../../../../../user/register/index-289.html?destination=node%2F431%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>


<a id="comment-2283"></a>


<div  id="comment-2283" class="comment comment-published clear-block decay-0 decay-0">
      <div class='comment-submitted clear-block'>
      <div class="picture">
  <a href="../../../../../users/adarkling/index.html" title="View user profile."><img src="../../../../../sites/community.aegirproject.org/files/imagecache/user-s/profiles/openatrium/themes/ginkgo/images/user/index.png" alt="aDarkling&#039;s picture" title="View user profile." width="30" height="30" class="imagecache imagecache-user-s"/></a></div>
      <div class='byline'><a href="../../../../../users/adarkling/index.html" class="username" title="View user profile.">aDarkling</a></div><div class='date'>7:15pm Feb 21, 2014</div>    </div>
  
      <h2 class='comment-title'>
            <a href="../../../talk/index.html#comment-2283">#2</a>    </h2>
  
      <div class='comment-content clear-block prose'>
      <p>The above issue was for upgrading to 2.0.  The 1.11 upgrade script also isn't working. 
<a href="https://drupal.org/node/2202423" title="https://drupal.org/node/2202423">https://drupal.org/node/2202423</a>
<a href="https://drupal.org/node/2202415" title="https://drupal.org/node/2202415">https://drupal.org/node/2202415</a></p>    </div>
  
      <div class='comment-links clear-block'><ul class="links"><li class="comment_forbidden first last"><span><a href="../../../../../user/login/index-289.html?destination=node%2F431%23comment-form">Login</a> or <a href="../../../../../user/register/index-289.html?destination=node%2F431%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>


</div>
    </div>
      </div>
</body>


<!-- Mirrored from community.aegirproject.org/node/431/revisions/1461/view?print by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 17:42:27 GMT -->
</html>
