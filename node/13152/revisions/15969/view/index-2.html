<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from community.aegirproject.org/node/13152/revisions/15969/view?print by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 18:12:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="prev" href="../../../../../3/index-2.html" />
<link rel="up" href="../../../../../release-notes/index.html" />
<link rel="next" href="../../../../../2/index.html" />
<link rel="prev" href="../../../../../3/index-2.html" />
<link rel="up" href="../../../../../release-notes/index.html" />
<link rel="next" href="../../../../../2/index.html" />
<link rel="prev" href="../../../../../3/index-2.html" />
<link rel="up" href="../../../../../release-notes/index.html" />
<link rel="next" href="../../../../../2/index.html" />
<link rel="canonical" href="index.html" />
<link rel="shortcut icon" href="../../../../../sites/community.aegirproject.org/themes/up/favicon/index.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="print" href="../../../../../sites/community.aegirproject.org/files/css/css_5fa73dc3677977c016a597acd186e4e7/index.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../../../../sites/community.aegirproject.org/files/css/css_5fa73dc3677977c016a597acd186e4e7/index.css" />

  <title>Revision of  3.0-beta2 release notes from Wed, 05/20/2015 - 09:48 | community.aegirproject.org</title>
</head>

<body  class="print rubik admin-static page">
  <div class='limiter clear-block'>
    <div id='content' class='clear-block'>
      <div class='print-header'>
      <h1 class='site-name'>community.aegirproject.org</h1>
  </div>
      

<div  id="node-13152" class="node node-book clear-block node-page">
  
      <h2 class='node-title'>
            <a href="../../../../../3/index-3.html"> 3.0-beta2 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div id='diff-inline-13152'><div class='diff-inline-metadata clear-block'><div class='diff-inline-byline'>Updated by <a href="../../../../../users/helmo/index.html" class="username" title="View user profile.">helmo</a> on 05/20/2015 - 09:48</div><div class='diff-inline-legend clear-block'><label>Legend</label><span class='diff-added'>Added</span><span class='diff-changed'>Changed</span><span class='diff-deleted'>Deleted</span></div></div><p>The Aegir team is pleased to announce the forth preview release (<em>beta</em>) of the Aegir 3.x branch, after months of development. Development has been sometimes intermittent, but it is not over yet!</p>

<p>This release is tailored to make upcoming changes available to a wider audience than people ready to install from git, but also to make features more widely available and tested. More beta releases will be published when there are substantial changes.</p>

<p>In the issue queues the central roadmap issue is: <a href="https://drupal.org/node/1261030">#1261030 [meta] Roadmap: Aegir 3.x (D7 port)</a></p>

<script type="text/javascript">toc_collapse=0;</script><div class="toc" id="toc1">
<div class="toc-title">Table of Contents<span class="toc-toggle-message">&nbsp;</span></div>
<div class="toc-list">
<ol>
	<li class="toc-level-1"><a href="#Major_changes"><span class="toc-number">1. </span>Major changes</a></li>
	<li class="toc-level-1"><a href="#Major_API_changes"><span class="toc-number">2. </span>Major API changes</a></li>
	<li class="toc-level-1"><a href="#Installing_and_upgrading"><span class="toc-number">3. </span>Installing and upgrading</a></li>
	<li class="toc-level-1"><a href="#Need_help"><span class="toc-number">4. </span>Need help?</a></li>
	<li class="toc-level-1"><a href="#Features_and_improvements"><span class="toc-number">5. </span>Features and improvements</a></li>
	<li class="toc-level-1"><a href="#Known_issues"><span class="toc-number">6. </span>Known issues</a></li>
</ol>
</div>
</div>

<h2 id="Major_changes">1. Major changes</h2>

<ul>
<li>Improved SSL support</li>
<li>Both Drush stable (6.6.0) and 7.x (the master branch) are supported.</li>
</ul>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Major_API_changes">2. Major API changes</h2>

<p>to be determined.</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Installing_and_upgrading">3. Installing and upgrading</h2>

<p>The canonical source of installation documentation is</p>

<p><a href="http://docs.aegirproject.org/en/latest/install.html" title="http://docs.aegirproject.org/en/latest/install.html">http://docs.aegirproject.org/en/latest/install.html</a></p>

<p>We're in the process of converting our docs, the old version is on  <a href="../../../../../installing/index.html" title="http://community.aegirproject.org/installing">http://community.aegirproject.org/installing</a></p>

<p>In a similar fashion, the upgrade documentation is:</p>

<pre><code>http://community.aegirproject.org/upgrading
</code></pre>

<p>Within those sections you'll find step-by-step instructions for performing both <a href="../../../../../upgrading/manual/index.html">manual</a> and <a href="../../../../../upgrading/script/index.html">automatic</a> upgrade processes.</p>

<p>Note that you should upgrade to the latest 2.x release (currently: <a href="../../../../../2/index.html">2.4</a>) before attempting the upgrade to 3.x..</p>

<p>It is still imperative that you read the <a href="../../../../../upgrading/path/index.html">upgrade path and version-specific information</a> and follow all version-specific upgrade instructions before trying to run the upgrade script or manual upgrade.</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Need_help">4. Need help?</h2>

<p>If you struggle to install or upgrade your Aegir system, you have a number of options available to you for getting help.</p>

<p>Consult this page for more information: <a href="../../../../../help/index.html" title="http://community.aegirproject.org/help">http://community.aegirproject.org/help</a></p>

<p>Thanks to our awesome <a href="../../../../../index.html">community</a> for their help, support and encouragement as always! Enjoy the new release :)</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Features_and_improvements">5. Features and improvements</h2>

<p>In addition to the "major changes" mentioned above, the following should also be noted.</p>

<p><span class='diff-added'>Changes ho hostmaster since 7.x-3.0-beta1:</span></p><span class='diff-added'>

</span><ul><span class='diff-added'>
 </span> <li><span class='diff-added'>Add hosting_remote_import to the distro.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Update the views version in our makefile.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Remove hosting_platform_pathauto, as it's built-in now.</span></li><span class='diff-added'>
</span></ul><span class='diff-added'>

</span><p><span class='diff-added'>Changes to provision since 7.x-3.0-beta1:</span></p><span class='diff-added'>

</span><ul><span class='diff-added'>
  </span><li><span class='diff-added'>Fix protection of files dir for multi-site</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2036333/index.html"><span class='diff-added'>#2036333</span></a><span class='diff-added'>: Remove CVS deploy code.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix queue lock name.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix syntax error.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Rework bypassing of task queue lock.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix lock waiting for tests.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Use Drupal API function for lock waiting.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2479345/index.html"><span class='diff-added'>#2479345</span></a><span class='diff-added'>: Wait for a lock on the tasks queue to be available.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2479885/index.html"><span class='diff-added'>#2479885</span></a><span class='diff-added'>: Remove anchors and double-escaping from regexes.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2479885/index.html"><span class='diff-added'>#2479885</span></a><span class='diff-added'>: Fix mysql filtering regex anchors.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Add provision-tests-new-run command to start testing D8.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2474197/index.html"><span class='diff-added'>#2474197</span></a><span class='diff-added'>: Debian package for aegir3 should depend on curl</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2475527/index.html"><span class='diff-added'>#2475527</span></a><span class='diff-added'>: Catch additional DB connection failures, and provide more meaningful error messages.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Generate an SSL certificate for use in the default SSL vhost.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Add NameVirtualHost for SSL, regardless of IP addresses.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Merge branch 'dev/mysqldump-error-check' into 7.x-3.x</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix up docs.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Anchor regexes, cleanup docs.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Split regexes into helper function with alter hook and static caching, and add docs for new hook.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Clarify docs.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Split mysqldump filtering into a helper function.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Dedupe generating descriptors fro proc_open().</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Document new method and fix typos.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Dedupe temporary mysql config generation.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix up some syntax errors.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>fix comment typo</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>handle mysqldump errors again</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2471805/index.html"><span class='diff-added'>#2471805</span></a><span class='diff-added'>: Add hook_provision_deploy_options_alter() invocations to migrate and restore, and document it in te API.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2471805/index.html"><span class='diff-added'>#2471805</span></a><span class='diff-added'>: Add hook to allow injecting options into clone deploy tasks.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Rename incorrect verify method.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2468203/index.html"><span class='diff-added'>#2468203</span></a><span class='diff-added'>: provision-save: default profile from 'default' to 'standard'</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>upgrade.sh: move variables to the top</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>upgrade.sh: move function definition</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>ssue </span><a href="../../../../2460023/index.html"><span class='diff-added'>#2460023</span></a><span class='diff-added'>: Fix existing symlink problem in Ubuntu/Debian upgrades.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Cleanup upgrade.sh script</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Rename DRUSH_VERSION variable to separate current and new</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix Drush version in upgrade script</span></li><span class='diff-added'>
</span></ul><span class='diff-added'>

</span><p><span class='diff-added'>Changes to hosting since 7.x-3.0-beta1:</span></p><span class='diff-added'>

</span><ul><span class='diff-added'>
  </span><li><span class='diff-added'>escape &lt; and &gt;</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>D7 API update</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>code style updates</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Form API update</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Allow sites to be installed when SSL is enabled, but no servers provide the SSL service yet.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix typo in table class.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Redirect to home page after deleting a Hosting object.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Allow re-use of deleted servers' hostnames.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Don't block tasks queue when running queue daemon.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Release locks in other shotdown contexts.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Move lock acquisition and release outside of main queue daemon loop.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix queue lock name.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2479345/index.html"><span class='diff-added'>#2479345</span></a><span class='diff-added'>: Refactor queue locking to use Drupal API.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2464949/index.html"><span class='diff-added'>#2464949</span></a><span class='diff-added'>: Avoid needless saving of related nodes on context_import</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix codestyle</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Log which task starts processing</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Pass less optionss ... to prevent Unknown option errors.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Stop overwriting node titles when importing context data.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix platform migrate confirmation form status.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2479001/index.html"><span class='diff-added'>#2479001</span></a><span class='diff-added'> by </span><a href="../../../../../u/mwisner/index.html"><span class='diff-added'>mwisner</span></a><span class='diff-added'>: Fix platform migrate task form does not rebuild correctly</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix platform migrate form checks for sites and available target platforms.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Provide a default platform.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Allow platform paths to have slashes.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2469179/index.html"><span class='diff-added'>#2469179</span></a><span class='diff-added'>: Remove duplicate call to hosting_ssl_filter_key, its in hosting_ssl_nodeapi_site_validate</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2469179/index.html"><span class='diff-added'>#2469179</span></a><span class='diff-added'>: Improve saving a new SSL key</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2475455/index.html"><span class='diff-added'>#2475455</span></a><span class='diff-added'>: Document the place for am intermediate certificate.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Try again to keep warning/error jump links within overlay.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Keep warning/error jump links within overlay.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2175619/index.html"><span class='diff-added'>#2175619</span></a><span class='diff-added'>: Add links to first warning or error in task log.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix check for a platform's path already existing.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2474801/index.html"><span class='diff-added'>#2474801</span></a><span class='diff-added'>: Fix task cancellation.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Syntax fix.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Add global option to always, never or prompt to delete site backups.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../1397798/index.html"><span class='diff-added'>#1397798</span></a><span class='diff-added'> by </span><a href="../../../../../u/chertzog/index.html"><span class='diff-added'>chertzog</span></a><span class='diff-added'>, </span><a href="../../../../../u/dane-powell/index.html"><span class='diff-added'>Dane Powell</span></a><span class='diff-added'>, </span><a href="../../../../../u/et.-al/index.html"><span class='diff-added'>et. al.</span></a><span class='diff-added'>: Optionally delete site backups when a site is deleted.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2471094/index.html"><span class='diff-added'>#2471094</span></a><span class='diff-added'>: Update the site node with the database name after imports.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Import site by calling the relevant function directly instead of invoking a sub-process, etc.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Revert "properly import db_name after site import"</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Merge branch 'dev/hosting-import-dbname' into 7.x-3.x</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>partly revert e3bb221: properly save drush output</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>properly import db_name after site import</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>code cleanup</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Improve ssl description</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2453807/index.html"><span class='diff-added'>#2453807</span></a><span class='diff-added'>: Convert clients list block to views</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Merge backend output.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2470297/index.html"><span class='diff-added'>#2470297</span></a><span class='diff-added'>: Run 'hosting-import' after 'provision-import' on 'import' tasks.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Revert portion of last commit, included by mistake. It will be part of the nest commit.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Show backend output that was being lost.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2470297/index.html"><span class='diff-added'>#2470297</span></a><span class='diff-added'>: Stop overwriting context prior to import.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Set platform path automatically, based on title.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Move site SSL fields into fieldset.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Merge remote-tracking branch 'origin/dev-sni' into 7.x-3.x</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2069431/index.html"><span class='diff-added'>#2069431</span></a><span class='diff-added'>: Indicate next steps after enabling the SSL feature.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix backup-delete form validation warnings.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Fix restore form validation warning.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'></span><a href="../../../../2460937/index.html"><span class='diff-added'>#2460937</span></a><span class='diff-added'>: Fix backup deletion.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>Add some checks to backup delete validation.</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>only warn about SNI, do not disable SSL, when IP allocation fails</span></li><span class='diff-added'>
  </span><li><span class='diff-added'>do not set IP address if none provided, this should permit SNI, in the frontend at least</span></li><span class='diff-added'>
</span></ul>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Known_issues">6. Known issues</h2>

<ul>
<li>Drupal 8 support is (Chasing HEAD) not complete.</li>
<li>Drush master has an issue on Debian Wheezy (<a href="https://www.drupal.org/node/2491941" title="https://www.drupal.org/node/2491941">https://www.drupal.org/node/2491941</a>)</li>
</ul><div class="toc-back-to-top"><a href="#toc">Back to top</a></div><script type="text/javascript">toc_scroll_back_to_top = 1;</script></div>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../../../../user/login/index-149.html?destination=node%2F13152%23comment-form">Login</a> or <a href="../../../../../user/register/index-149.html?destination=node%2F13152%23comment-form">register</a> to post comments</span></li>
<li class="print active"><a href="index-2.html?print" class="active">Print</a></li>
<li class="print_recurse active"><a href="index-3.html?print&amp;book_recurse" class="active">Print entire section</a></li>
<li class="talk_forbidden last"><span><a href="../../../../../user/login/index-149.html?destination=node%2F13152%23comment-form">Login</a> or <a href="../../../../../user/register/index-149.html?destination=node%2F13152%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>


    </div>
      </div>
</body>


<!-- Mirrored from community.aegirproject.org/node/13152/revisions/15969/view?print by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 18:12:49 GMT -->
</html>
