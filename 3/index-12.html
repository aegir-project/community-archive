<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from community.aegirproject.org/3.0-beta2?print&book_recurse by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 15:37:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="prev" href="index-2.html" />
<link rel="up" href="../release-notes/index.html" />
<link rel="next" href="../2/index.html" />
<link rel="canonical" href="index-3.html" />
<link rel="shortcut icon" href="../sites/community.aegirproject.org/themes/up/favicon/index.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="print" href="../sites/community.aegirproject.org/files/css/css_5fa73dc3677977c016a597acd186e4e7/index.css" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/community.aegirproject.org/files/css/css_5fa73dc3677977c016a597acd186e4e7/index.css" />

  <title> 3.0-beta2 release notes | community.aegirproject.org</title>
</head>

<body  class="print rubik admin-static page">
  <div class='limiter clear-block'>
    <div id='content' class='clear-block'>
      <div class='print-header'>
      <h1 class='site-name'>community.aegirproject.org</h1>
  </div>
      

<div  id="node-13152" class="node node-book clear-block node-page">
  
      <h2 class='node-title'>
            <a href="index-3.html"> 3.0-beta2 release notes</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <div id='diff-inline-13152'><p>The Aegir team is pleased to announce the forth preview release (<em>beta</em>) of the Aegir 3.x branch, after months of development. Development has been sometimes intermittent, but it is not over yet!</p>

<p>This release is tailored to make upcoming changes available to a wider audience than people ready to install from git, but also to make features more widely available and tested. More beta releases will be published when there are substantial changes.</p>

<p>In the issue queues the central roadmap issue is: <a href="https://drupal.org/node/1261030">#1261030 [meta] Roadmap: Aegir 3.x (D7 port)</a></p>

<script type="text/javascript">toc_collapse=0;</script><div class="toc" id="toc">
<div class="toc-title">Table of Contents<span class="toc-toggle-message">&nbsp;</span></div>
<div class="toc-list">
<ol>
	<li class="toc-level-1"><a href="#Major_changes"><span class="toc-number">1. </span>Major changes</a></li>
	<li class="toc-level-1"><a href="#Major_API_changes"><span class="toc-number">2. </span>Major API changes</a></li>
	<li class="toc-level-1"><a href="#Installing_and_upgrading"><span class="toc-number">3. </span>Installing and upgrading</a></li>
	<li class="toc-level-1"><a href="#Need_help"><span class="toc-number">4. </span>Need help?</a></li>
	<li class="toc-level-1"><a href="#Features_and_improvements"><span class="toc-number">5. </span>Features and improvements</a></li>
	<li class="toc-level-1"><a href="#Known_issues"><span class="toc-number">6. </span>Known issues</a></li>
</ol>
</div>
</div>

<h2 id="Major_changes">1. Major changes</h2>

<ul>
<li>Fixed a security issue in the protection of the files directory for multi-site.</li>
<li>Improved SSL support</li>
<li>Both Drush stable (6.6.0) and 7.x (the master branch) are supported.</li>
</ul>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Major_API_changes">2. Major API changes</h2>

<p>to be determined.</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Installing_and_upgrading">3. Installing and upgrading</h2>

<p>The canonical source of installation documentation is</p>

<p><a href="http://docs.aegirproject.org/en/latest/install.html" title="http://docs.aegirproject.org/en/latest/install.html">http://docs.aegirproject.org/en/latest/install.html</a></p>

<p>We're in the process of converting our docs, the old version is on  <a href="../installing/index.html" title="http://community.aegirproject.org/installing">http://community.aegirproject.org/installing</a></p>

<p>In a similar fashion, the upgrade documentation is:</p>

<pre><code>http://community.aegirproject.org/upgrading
</code></pre>

<p>Within those sections you'll find step-by-step instructions for performing both <a href="../upgrading/manual/index.html">manual</a> and <a href="../upgrading/script/index.html">automatic</a> upgrade processes.</p>

<p>Note that you should upgrade to the latest 2.x release (currently: <a href="../2/index.html">2.4</a>) before attempting the upgrade to 3.x..</p>

<p>It is still imperative that you read the <a href="../upgrading/path/index.html">upgrade path and version-specific information</a> and follow all version-specific upgrade instructions before trying to run the upgrade script or manual upgrade.</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Need_help">4. Need help?</h2>

<p>If you struggle to install or upgrade your Aegir system, you have a number of options available to you for getting help.</p>

<p>Consult this page for more information: <a href="../help/index.html" title="http://community.aegirproject.org/help">http://community.aegirproject.org/help</a></p>

<p>Thanks to our awesome <a href="../index.html">community</a> for their help, support and encouragement as always! Enjoy the new release :)</p>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Features_and_improvements">5. Features and improvements</h2>

<p>In addition to the "major changes" mentioned above, the following should also be noted.</p>

<p>Changes ho hostmaster since 7.x-3.0-beta1:</p>

<ul>
  <li>Add hosting_remote_import to the distro.</li>
  <li>Update the views version in our makefile.</li>
  <li>Remove hosting_platform_pathauto, as it's built-in now.</li>
</ul>

<p>Changes to provision since 7.x-3.0-beta1:</p>

<ul>
  <li>Fix protection of files dir for multi-site</li>
  <li><a href="../node/2036333/index.html">#2036333</a>: Remove CVS deploy code.</li>
  <li>Fix queue lock name.</li>
  <li>Fix syntax error.</li>
  <li>Rework bypassing of task queue lock.</li>
  <li>Fix lock waiting for tests.</li>
  <li>Use Drupal API function for lock waiting.</li>
  <li><a href="../node/2479345/index.html">#2479345</a>: Wait for a lock on the tasks queue to be available.</li>
  <li><a href="../node/2479885/index.html">#2479885</a>: Remove anchors and double-escaping from regexes.</li>
  <li><a href="../node/2479885/index.html">#2479885</a>: Fix mysql filtering regex anchors.</li>
  <li>Add provision-tests-new-run command to start testing D8.</li>
  <li><a href="../node/2474197/index.html">#2474197</a>: Debian package for aegir3 should depend on curl</li>
  <li><a href="../node/2475527/index.html">#2475527</a>: Catch additional DB connection failures, and provide more meaningful error messages.</li>
  <li>Generate an SSL certificate for use in the default SSL vhost.</li>
  <li>Add NameVirtualHost for SSL, regardless of IP addresses.</li>
  <li>Merge branch 'dev/mysqldump-error-check' into 7.x-3.x</li>
  <li>Fix up docs.</li>
  <li>Anchor regexes, cleanup docs.</li>
  <li>Split regexes into helper function with alter hook and static caching, and add docs for new hook.</li>
  <li>Clarify docs.</li>
  <li>Split mysqldump filtering into a helper function.</li>
  <li>Dedupe generating descriptors fro proc_open().</li>
  <li>Document new method and fix typos.</li>
  <li>Dedupe temporary mysql config generation.</li>
  <li>Fix up some syntax errors.</li>
  <li>fix comment typo</li>
  <li>handle mysqldump errors again</li>
  <li><a href="../node/2471805/index.html">#2471805</a>: Add hook_provision_deploy_options_alter() invocations to migrate and restore, and document it in te API.</li>
  <li><a href="../node/2471805/index.html">#2471805</a>: Add hook to allow injecting options into clone deploy tasks.</li>
  <li>Rename incorrect verify method.</li>
  <li><a href="../node/2468203/index.html">#2468203</a>: provision-save: default profile from 'default' to 'standard'</li>
  <li>upgrade.sh: move variables to the top</li>
  <li>upgrade.sh: move function definition</li>
  <li>ssue <a href="../node/2460023/index.html">#2460023</a>: Fix existing symlink problem in Ubuntu/Debian upgrades.</li>
  <li>Cleanup upgrade.sh script</li>
  <li>Rename DRUSH_VERSION variable to separate current and new</li>
  <li>Fix Drush version in upgrade script</li>
</ul>

<p>Changes to hosting since 7.x-3.0-beta1:</p>

<ul>
  <li>escape &lt; and &gt;</li>
  <li>D7 API update</li>
  <li>code style updates</li>
  <li>Form API update</li>
  <li>Allow sites to be installed when SSL is enabled, but no servers provide the SSL service yet.</li>
  <li>Fix typo in table class.</li>
  <li>Redirect to home page after deleting a Hosting object.</li>
  <li>Allow re-use of deleted servers' hostnames.</li>
  <li>Don't block tasks queue when running queue daemon.</li>
  <li>Release locks in other shotdown contexts.</li>
  <li>Move lock acquisition and release outside of main queue daemon loop.</li>
  <li>Fix queue lock name.</li>
  <li><a href="../node/2479345/index.html">#2479345</a>: Refactor queue locking to use Drupal API.</li>
  <li><a href="../node/2464949/index.html">#2464949</a>: Avoid needless saving of related nodes on context_import</li>
  <li>Fix codestyle</li>
  <li>Log which task starts processing</li>
  <li>Pass less optionss ... to prevent Unknown option errors.</li>
  <li>Stop overwriting node titles when importing context data.</li>
  <li>Fix platform migrate confirmation form status.</li>
  <li><a href="../node/2479001/index.html">#2479001</a> by <a href="../u/mwisner/index.html">mwisner</a>: Fix platform migrate task form does not rebuild correctly</li>
  <li>Fix platform migrate form checks for sites and available target platforms.</li>
  <li>Provide a default platform.</li>
  <li>Allow platform paths to have slashes.</li>
  <li><a href="../node/2469179/index.html">#2469179</a>: Remove duplicate call to hosting_ssl_filter_key, its in hosting_ssl_nodeapi_site_validate</li>
  <li><a href="../node/2469179/index.html">#2469179</a>: Improve saving a new SSL key</li>
  <li><a href="../node/2475455/index.html">#2475455</a>: Document the place for am intermediate certificate.</li>
  <li>Try again to keep warning/error jump links within overlay.</li>
  <li>Keep warning/error jump links within overlay.</li>
  <li><a href="../node/2175619/index.html">#2175619</a>: Add links to first warning or error in task log.</li>
  <li>Fix check for a platform's path already existing.</li>
  <li><a href="../node/2474801/index.html">#2474801</a>: Fix task cancellation.</li>
  <li>Syntax fix.</li>
  <li>Add global option to always, never or prompt to delete site backups.</li>
  <li><a href="../node/1397798/index.html">#1397798</a> by <a href="../u/chertzog/index.html">chertzog</a>, <a href="../u/dane-powell/index.html">Dane Powell</a>, <a href="../u/et.-al/index.html">et. al.</a>: Optionally delete site backups when a site is deleted.</li>
  <li><a href="../node/2471094/index.html">#2471094</a>: Update the site node with the database name after imports.</li>
  <li>Import site by calling the relevant function directly instead of invoking a sub-process, etc.</li>
  <li>Revert "properly import db_name after site import"</li>
  <li>Merge branch 'dev/hosting-import-dbname' into 7.x-3.x</li>
  <li>partly revert e3bb221: properly save drush output</li>
  <li>properly import db_name after site import</li>
  <li>code cleanup</li>
  <li>Improve ssl description</li>
  <li><a href="../node/2453807/index.html">#2453807</a>: Convert clients list block to views</li>
  <li>Merge backend output.</li>
  <li><a href="../node/2470297/index.html">#2470297</a>: Run 'hosting-import' after 'provision-import' on 'import' tasks.</li>
  <li>Revert portion of last commit, included by mistake. It will be part of the nest commit.</li>
  <li>Show backend output that was being lost.</li>
  <li><a href="../node/2470297/index.html">#2470297</a>: Stop overwriting context prior to import.</li>
  <li>Set platform path automatically, based on title.</li>
  <li>Move site SSL fields into fieldset.</li>
  <li>Merge remote-tracking branch 'origin/dev-sni' into 7.x-3.x</li>
  <li><a href="../node/2069431/index.html">#2069431</a>: Indicate next steps after enabling the SSL feature.</li>
  <li>Fix backup-delete form validation warnings.</li>
  <li>Fix restore form validation warning.</li>
  <li><a href="../node/2460937/index.html">#2460937</a>: Fix backup deletion.</li>
  <li>Add some checks to backup delete validation.</li>
  <li>only warn about SNI, do not disable SSL, when IP allocation fails</li>
  <li>do not set IP address if none provided, this should permit SNI, in the frontend at least</li>
</ul>

<div class="toc-back-to-top"><a href="#toc">Back to top</a></div><h2 id="Known_issues">6. Known issues</h2>

<ul>
<li>Drupal 8 support is (Chasing HEAD) not complete.</li>
<li>Drush master has an issue on Debian Wheezy (<a href="https://www.drupal.org/node/2491941" title="https://www.drupal.org/node/2491941">https://www.drupal.org/node/2491941</a>)</li>
</ul><div class="toc-back-to-top"><a href="#toc">Back to top</a></div><script type="text/javascript">toc_scroll_back_to_top = 1;</script></div>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="print first active"><a href="index-11.html?print" class="active">Print</a></li>
<li class="print_recurse active"><a href="index-12.html?print&amp;book_recurse" class="active">Print entire section</a></li>
<li class="talk_forbidden last"><span><a href="../user/login/index-149.html?destination=node%2F13152%23comment-form">Login</a> or <a href="../user/register/index-149.html?destination=node%2F13152%23comment-form">register</a> to post comments</span></li>
</ul></div>
  </div>


    </div>
      </div>
</body>


<!-- Mirrored from community.aegirproject.org/3.0-beta2?print&book_recurse by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 15:37:01 GMT -->
</html>
