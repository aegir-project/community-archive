<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- Mirrored from community.aegirproject.org/discuss/anyone-using-aegir-ubuntu-1204-appears-be-bug-when-installing?print by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 19:58:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="canonical" href="index.html" />
<link rel="shortcut icon" href="../../sites/community.aegirproject.org/themes/up/favicon/index.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" media="print" href="../../sites/community.aegirproject.org/files/css/css_5fa73dc3677977c016a597acd186e4e7/index.css" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/community.aegirproject.org/files/css/css_5fa73dc3677977c016a597acd186e4e7/index.css" />

  <title>Is anyone using Aegir in Ubuntu 12.04, appears to be a bug when installing. | community.aegirproject.org</title>
</head>

<body  class="print rubik admin-static page">
  <div class='limiter clear-block'>
    <div id='content' class='clear-block'>
      <div class='print-header'>
      <h1 class='site-name'>community.aegirproject.org</h1>
  </div>
      

<div  id="node-1426" class="node node-discussion clear-block node-page">
      <div class='node-submitted clear-block'>
      <div class="picture">
  <a href="../../users/seanbannister/index.html" title="View user profile."><img src="../../sites/community.aegirproject.org/files/imagecache/user-s/profiles/openatrium/themes/ginkgo/images/user/index.png" alt="SeanBannister&#039;s picture" title="View user profile." width="30" height="30" class="imagecache imagecache-user-s"/></a></div>
      <div class='byline'><a href="../../users/seanbannister/index.html" class="username" title="View user profile.">SeanBannister</a></div><div class='date'>5:49pm May 2, 2012</div>    </div>
  
      <h2 class='node-title'>
            <a href="index.html">Is anyone using Aegir in Ubuntu 12.04, appears to be a bug when installing.</a>
    </h2>
  
      <div class='node-content clear-block prose'>
      <p>I've installed Aegir many times and its usually straight forward, today I tried installing Aegir under the new Ubuntu 12.04 and noticed it kept returning an error, I tried installing it 3 times on new Amazon EC2 instances just ot make sure I wasn't doing anything wrong. I then switched to Ubuntu 11.10 and it installed fine so I'm feeling this must be a 12.04 issue.</p>

<p>If anyone wants to replicate this on EC2 I'm using the following Amazon machine image: ami-a29943cb</p>

<p>Here's the end of the output where errors start appearing. I did use DPKG_DEBUG=developer</p>

<p><div class="codeblock"><code>+ IFS=<br /> read -r _db_internal_line<br />+ RET=true<br />+ return 0<br />+ db_stop<br />+ echo STOP<br />+ [ -d /var/aegir/.drush/provision ]<br />+ echo installing the Aegir frontend (Drupal with the hostmaster profile), please wait...<br />installing the Aegir frontend (Drupal with the hostmaster profile), please wait...<br />+ su aegir -c cd /var/aegir &amp;&amp; drush hostmaster-install --yes --debug --backend ec2-23-20-22-146.compute-1.amazonaws.com | drush backend-parse<br />Bootstrap to phase 0. [0.05 sec, 2.8 MB]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [bootstrap]<br />Drush bootstrap phase : _drush_bootstrap_drush() [0.05 sec, 3.02 MB] [bootstrap]<br />Project information for drupal retrieved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />drupal downloaded from&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />http://ftp.drupal.org/files/projects/drupal-6.26.tar.gz.<br />hostmaster cloned from <a href="http://git.drupal.org/project/hostmaster.git" title="http://git.drupal.org/project/hostmaster.git">http://git.drupal.org/project/hostmaster.git</a>. [ok]<br />Checked out tag 6.x-1.8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />Found makefile: hostmaster.make&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />Project information for admin_menu retrieved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />Project information for openidadmin retrieved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />Project information for install_profile_api retrieved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />Project information for jquery_ui retrieved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />Project information for modalframe retrieved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />admin_menu downloaded from&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />http://ftp.drupal.org/files/projects/admin_menu-6.x-1.8.tar.gz.<br />openidadmin downloaded from&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />http://ftp.drupal.org/files/projects/openidadmin-6.x-1.2.tar.gz.<br />install_profile_api downloaded from&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />http://ftp.drupal.org/files/projects/install_profile_api-6.x-2.1.tar.gz.<br />jquery_ui downloaded from&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />http://ftp.drupal.org/files/projects/jquery_ui-6.x-1.3.tar.gz.<br />modalframe downloaded from&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />http://ftp.drupal.org/files/projects/modalframe-6.x-1.6.tar.gz.<br />jquery_ui downloaded from&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [ok]<br />http://jquery-ui.googlecode.com/files/jquery.ui-1.6.zip.<br />Dummy connection failed to fail:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [error]<br />Dummy connection failed to fail:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [error]<br />Created ec2232022146comp database&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [success]<br />Dummy connection failed to fail:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [error]<br />Dummy connection failed to fail:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [error]<br />Could not find a Drupal settings.php file at&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [error]<br />./sites/community.aegirproject.org/settings.php.<br />Drush was not able to start (bootstrap) the Drupal database.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [error]<br />Hint: This error often occurs when Drush is trying to bootstrap a<br />site that has not been installed or does not have a configured<br />database.<br /><br />Drush was attempting to connect to :<br />&nbsp; Drupal version&nbsp;&nbsp;&nbsp; : 6.26<br />&nbsp; Default theme&nbsp;&nbsp;&nbsp;&nbsp; : garland<br />&nbsp; Administration theme: garland<br />&nbsp; PHP configuration : /etc/php5/cli/php.ini<br />&nbsp; Drush version&nbsp;&nbsp;&nbsp;&nbsp; : 4.5<br />&nbsp; Drush configuration: /var/aegir/hostmaster-6.x-1.8/drushrc.php<br />&nbsp; Drush alias files : /var/aegir/.drush/hostmaster.alias.drushrc.php<br />/var/aegir/.drush/server_master.alias.drushrc.php<br />/var/aegir/.drush/platform_hostmaster.alias.drushrc.php<br />&nbsp; Drupal root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : /var/aegir/hostmaster-6.x-1.8<br />&nbsp; %paths&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : Array<br /><br />You can select another site with a working database setup by<br />specifying the URI to use with the --uri parameter on the command<br />line or $options[&#039;uri&#039;] in your drushrc.php file.<br /><br />Aegir 6.x-1.8 automated install script<br />==============================================================================<br />Some settings have not been provided and will now be prompted.<br />Don&#039;t worry: you will get to review those settings after the final install<br /><br />This script will operate the following changes in your system:<br /><br />1. Create server-level configuration directories<br />2. Download drush_make<br />3. Create the Hostmaster frontend platform<br />4. Install the frontend site<br />5. Setup the dispatcher (a user cron job)<br /><br />We are making the following assumptions:<br /> * you have read and are following the install instructions at:<br />&nbsp;&nbsp;&nbsp; <a href="../../installing_br/_/index.html" title="http://community.aegirproject.org/installing<br />">http://community.aegirproject.org/installing<br /></a> * the FQDN of this machine is valid and resolves<br /> * you are executing this script as your &quot;aegir&quot; user<br /><br />The following settings will be used:<br /> Aegir frontend URL: ec2-23-20-22-146.compute-1.amazonaws.com<br /> Master server FQDN: localhost<br /> Aegir root: /var/aegir<br /> Aegir user: aegir<br /> Web group: www-data<br /> Web server: apache<br /> Aegir DB host: localhost<br /> Aegir DB user: root<br /> Aegir DB password: &lt;previously set&gt;<br /> Drush make version: 6.x-2.3<br /> Aegir version: 6.x-1.8<br /> Aegir platform path: /var/aegir/hostmaster-6.x-1.8<br /> Aegir makefile: /usr/share/drush/commands/provision/aegir.make<br /> Admin email: aegir@localhost<br /><br />Do you really want to proceed with the install (y/n): y<br />dpkg: error processing aegir-hostmaster (--configure):<br /> subprocess installed post-installation script returned error exit status 1<br />dpkg: dependency problems prevent configuration of aegir:<br /> aegir depends on aegir-hostmaster (&gt;= 1.8); however:<br />&nbsp; Package aegir-hostmaster is not configured yet.<br />dpkg: error processing aegir (--configure):<br /> dependency problems - leaving unconfigured<br />Setting up m4 (1.4.16-2ubuntu1) ...<br />No apport report written because the error message indicates its a followup error from a previous failure.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Setting up autoconf (2.68-1ubuntu2) ...<br />Setting up autotools-dev (20120210.1ubuntu1) ...<br />Setting up automake (1:1.11.3-1ubuntu2) ...<br />update-alternatives: using /usr/bin/automake-1.11 to provide /usr/bin/automake (automake) in auto mode.<br />Setting up binutils (2.22-6ubuntu1) ...<br />Setting up cpp-4.6 (4.6.3-1ubuntu5) ...<br />Setting up cpp (4:4.6.3-1ubuntu5) ...<br />Setting up gcc-4.6 (4.6.3-1ubuntu5) ...<br />Setting up gcc (4:4.6.3-1ubuntu5) ...<br />Setting up libc-dev-bin (2.15-0ubuntu10) ...<br />Setting up linux-libc-dev (3.2.0-24.37) ...<br />Setting up libc6-dev (2.15-0ubuntu10) ...<br />Setting up libhtml-template-perl (2.10-1) ...<br />Setting up libltdl-dev (2.4.2-1ubuntu1) ...<br />Setting up zlib1g-dev (1:1.2.3.4.dfsg-3ubuntu4) ...<br />Setting up libssl-dev (1.0.1-4ubuntu5) ...<br />Setting up libssl-doc (1.0.1-4ubuntu5) ...<br />Setting up libt1-5 (5.1.2-3.4ubuntu1) ...<br />Setting up libtool (2.4.2-1ubuntu1) ...<br />Setting up manpages-dev (3.35-0.1ubuntu1) ...<br />Setting up mysql-server (5.5.22-0ubuntu1) ...<br />Setting up php5 (5.3.10-1ubuntu3) ...<br />Setting up shtool (2.0.8-6) ...<br />Setting up php5-dev (5.3.10-1ubuntu3) ...<br />update-alternatives: using /usr/bin/php-config5 to provide /usr/bin/php-config (php-config) in auto mode.<br />update-alternatives: using /usr/bin/phpize5 to provide /usr/bin/phpize (phpize) in auto mode.<br />Setting up php5-gd (5.3.10-1ubuntu3) ...<br />Processing triggers for libc-bin ...<br />ldconfig deferred processing now taking place<br />Errors were encountered while processing:<br /> aegir-hostmaster<br /> aegir<br />E: Sub-process /usr/bin/dpkg returned an error code (1)<br />root@ip-10-28-44-5:~#</code></div></p>    </div>
  
      <div class='node-links clear-block'><ul class="links inline"><li class="comment_forbidden first"><span><a href="../../user/login/index-460.html?destination=node%2F1426%23comment-form">Login</a> or <a href="../../user/register/index-460.html?destination=node%2F1426%23comment-form">register</a> to post comments</span></li>
<li class="print last active"><a href="index-2.html?print" class="active">Print</a></li>
</ul></div>
  </div>


    </div>
      </div>
</body>


<!-- Mirrored from community.aegirproject.org/discuss/anyone-using-aegir-ubuntu-1204-appears-be-bug-when-installing?print by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 29 Jul 2015 19:58:03 GMT -->
</html>
